!function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1975)}({0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(1),s=n(4);var l={},u={q:9,r:5,b:3,n:3,p:1,k:0},c=t.State={getInitialSettings:function(){return{variations:!1,analysis:!1,mainLineIsImmutable:!1,rules:!0,premoves:!1,GTM:!1}},getInitialSetup:function(){return{ranks:8,files:8}},getInitialTree:function(){return{initialMarkings:{arrows:[],effects:[],squares:[]}}},getInitialMarkings:function(){return{arrows:[],blinkingSquares:[],effects:[],squares:[]}},clearState:function(e){return e.setup=c.getInitialSetup(),e},updateState:function(e){e.setup=(0,a.default)({},e.setup,s.Game.getPositionInfo(e),s.Game.getPositionDetails(e)),s.Game.addExtraCastlingMoves(e),e.tree.lines=i.Line.getLinesFromJce(e),e.tree.selected=e.jce.ids(),e.tree.selectedNode=i.Line.getSelectedNode(e),e.setup.capturedPieces=c.getCapturedPieces(e.setup),e.setup.capturedScores=c.getCapturedScores(e.setup),e.setup.result=c.getResult(e),e.premoves=s.Game.getPremoves(e),e.variant=s.Game.getHeaders(e).Variant||e.variant,e.startingMoveNumber=e.setup.moveNumber;var t=i.Line.getNode(e.tree.lines,s.Game.getSelectedIds(e))||e.tree.initialMarkings;return t&&(e.markings.squares=t.squares?t.squares.map(function(e){return(0,a.default)({},e)}):[],e.markings.arrows=t.arrows?t.arrows.map(function(e){return(0,a.default)({},e)}):[],e.setup.effects?e.markings.effects=e.setup.effects:t.effects?e.markings.effects=t.effects.map(function(e){return(0,a.default)({},e)}):e.markings.effects=[]),l[e.id]=!0,e.sibling&&!l[e.sibling.id]&&(e.sibling=c.updateState(e.sibling)),l={},e},getCapturedPieces:function(e){return e.pieces.reduce(function(e,t){if("k"===t.type)return e;var n=t.promoted?"p":t.type;return e[t.color-1][n]-=1,e},[{p:8,n:2,b:2,r:2,q:1},{p:8,n:2,b:2,r:2,q:1}])},getCapturedScores:function(e){return e.pieces.reduce(function(e,t){return e[t.color-1]+=u[t.type],e},[0,0])},getResult:function(e){var t=s.Game.getHeaders(e).Result;return"*"!==t?t:e.setup.insufficient||e.setup.stalemate?"1/2-1/2":e.setup.gameOver&&!e.setup.draw?1===e.setup.sideToMove?"0-1":"1-0":"*"}}},1:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.Line={getLine:function(e,t){return e[t]||null},getNode:function(e,t,o){if("number"==typeof t){if(void 0!==o){var r=n.getLine(e,Math.max(0,t));return r?r[o]:null}return null}if(!t)return null;var a=n.getLine(e,Math.max(0,t.line));return a?a[t.move]:null},getSelectedLine:function(e){return n.getLine(e.jce._lines(),e.tree.selected.line)},getSelectedNode:function(e){return n.getNode(e.jce._lines(),e.tree.selected)},nodeIsSelected:function(e,t){return!!(t||t.line||t.move)&&(e.selected.line===t.line&&e.selected.move===t.move)},getLinesFromJce:function(e){return n.formatLinesFromJce(e.jce._lines())},getJceSelectedLine:function(e){return e._lines()[e._history().id]},formatLinesFromJce:function(e){return n.consolidateComments(e)},consolidateComments:function(e){return e.map(function(t){var o=n.isContinuation(e,t.id)?n.getNode(e,t.id,1):n.getNode(e,t.id,0);return o?(t.initComment&&(o.commentBefore=t.initComment),t):t})},isContinuation:function(e,t){var o=n.getLine(e,t);if(!o)return!1;if(void 0!==o.parentId&&void 0!==o[0]){var r=n.getNode(e,o.parentId,o.atMoveNode);return!(!r||!r.move)&&r.move===o[0].move}return!1},isMainLine:function(e){return 0===e},getNextNodeIds:function(e,t){return!e||e.move+t<0?null:{line:e.line,move:e.move+t}},getNextContinuationLineId:function(e,t){var o=n.getNode(e,t);if(!o||!o.lines)return null;var r=o.lines.find(function(t){return n.isContinuation(e,t)});return-1!==r?r:null},getParentNode:function(e,t){var o={line:e[t.line].parentId,move:e[t.line].atMoveNode};return n.findNode(e,o)},getParentNodeIds:function(e,t){var o=n.getLine(e,t.line);return o&&void 0!==o.parentId?{line:o.parentId,move:o.atMoveNode}:null},deleteRemainingNodes:function(e,t){return e?(e.length=t+1,e):null},deleteNode:function(e,t){return n.prune(e,{line:t.line,move:t.move-1})},deleteLine:function(e,t){var o=n.getLine(e,t);if(void 0!==o.parentId){var r=n.getNode(e,{line:o.parentId,move:o.atMoveNode});r.lines=r.lines.filter(function(e){return e!==t}),0===r.lines.length&&delete r.lines}var a=e.filter(function(e){return n.isMainLine(e.id)||e.id!==t});return n.rebuildIds(a)},rebuildIds:function(e){var t=[];return e.forEach(function(e,n){e.id!==n&&(t[e.id]=n)}),e.map(function(n){return n.id=void 0!==t[n.id]?t[n.id]:n.id,void 0!==t[n.parentId]&&(n.parentId=t[n.parentId]),n.forEach(function(n){n.ids.line=void 0!==t[n.ids.line]?t[n.ids.line]:n.ids.line,n.lines&&n.lines.length>0&&(n.lines=n.lines.map(function(e){return void 0!==t[e]?t[e]:e}).filter(function(t){return void 0!==e[t]}),0===n.lines.length&&delete n.lines)}),n})},prune:function(e,t){return n.getNode(e,{line:t.line,move:t.move+1})?(e[t.line]=n.deleteRemainingNodes(e[t.line],t.move),!n.isMainLine(t.line)&&n.isFirstVisibleNode(e,t)&&e.splice(e.findIndex(function(e){return e.id===t.line}),1),e.sort(function(e,t){return e.id-t.id}).reduce(function(e,t){var o=n.getNode(e,{line:t.parentId,move:t.atMoveNode});return(n.isMainLine(t.id)||o)&&e.push(t),e},[])):e},isFirstNodeInTree:function(e){return 0===e.line&&-1===e.move},isFirstVisibleNode:function(e,t){return n.isContinuation(e,t.line)?1===t.move:0===t.move},isFirstNodeInLine:function(e,t){return t&&e&&e[t.line]&&e[t.line][0]&&e[t.line][0].ids&&e[t.line][0].ids.line===t.line&&e[t.line][0].ids.move===t.move},isHead:function(e,t){return t&&e[t.line].length-1===t.move||!1},getHeadIds:function(e,t){return{line:t,move:e[t].length-1}},nodeMatchesMove:function(e,t,o){var r=n.getNode(e,t);return!!r&&(r.from===o.from&&r.to===o.to&&(r.promotion||null)===(o.promotion||null))},shouldMatchMove:function(e,t,n){return e&&1===t&&0===n},getNextMatchingNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2],r=n.getNode(e,t),a=n.getNode(e,t.line,t.move+1);return e.reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return r&&e.moveNumber===r.moveNumber+1||a&&e.moveNumber===a.moveNumber}).filter(function(t){return!!(r&&t.ids.line===r.ids.line||a&&t.ids.line===a.ids.line)||(!!(r&&r.lines&&-1!==r.lines.indexOf(t.ids.line)&&n.isContinuation(e,t.ids.line))||!(!a||!a.lines||-1===a.lines.indexOf(t.ids.line)||n.isContinuation(e,t.ids.line)))}).filter(function(t){return n.nodeMatchesMove(e,t.ids,o)}).sort(function(e,t){return e.ids.line-t.ids.line})[0]||null},clearNode:function(e,t){var o=n.getNode(e,t);return o?(delete o.comment,delete o.annotation,o):null},findNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!e||void 0===t.line)return null;if("string"==typeof o)switch(t.move){case"begin":t.move=0;break;case"end":t.move=e[0].length-1}else if(void 0===t.move)return e[t.line];var a=void 0;return o&&0!==Math.abs(o)&&(t=new Array(Math.abs(o)).fill(o/Math.abs(o)).reduce(function(t,o){if(null===t)return null;var i=n.isContinuation(e,t.line),s=n.getNextNodeIds(t,o);if(n.getNode(e,s)&&(-1!==o||!i||0!==s.move))return s;switch(o){case 1:return r?t:null!==(a=n.getNextContinuationLineId(e,t))?{line:a,move:1}:null;case-1:return s=i?n.getParentNodeIds(e,t):n.getNextNodeIds(n.getParentNodeIds(e,t),-1),n.getNode(e,s)?s:t;default:return null}},t)),n.getNode(e,t)||null},clearNodeMarkings:function(e,t){var o=n.getNode(e,t);return o?(delete o.squares,delete o.arrows,delete o.effects,o):null},clearNodeAnalysis:function(e,t){var o=n.getNode(e,t);return o?(delete o.comment,delete o.annotation,delete o.additionalAnnotation,o):null},clearAllMarkings:function(e){return e?(e.forEach(function(t){t.length>0&&t.forEach(function(t){return n.clearNodeMarkings(e,{line:t.ids.line,move:t.ids.move})})}),e):null},clearAnalysis:function(e){return e?(e.forEach(function(t){t.length>0&&t.forEach(function(t){return n.clearNodeAnalysis(e,{line:t.ids.line,move:t.ids.move})})}),e):null}}},10:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.selectNode=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(4),s=n(1),l=n(2),u=n(0);t.selectNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=s.Line.findNode(e.jce._lines(),t,n,o),c=(0,a.default)({},e.tree.selected),d=c.line,f=c.move;if(!r)return e;var m={};return m=t.move+n<0&&t.line===r.ids.line?{line:0,move:-1}:r.ids,i.Game.selectNode(e,m),l.History.add(e.history,l.Events.JUMP_TO_POSITION,{from:{line:d,move:f},to:m}),u.State.updateState(e)}},100:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updateScrollPosition=t.hasMoves=t.normalizePgnAnnotation=t.hasTreeLines=void 0;var o,r=n(11),a=(o=r)&&o.__esModule?o:{default:o},i=n(26),s=n(33);t.hasTreeLines=function(e){return Boolean(e&&e.tree&&e.tree.lines)},t.normalizePgnAnnotation=function(e){return(0,a.default)(i.nagMap).forEach(function(t){e=e.replace(new RegExp("\\"+t+"\\b","gm"),(0,s.normalizeAnnotation)(t))}),e},t.hasMoves=function(e){return e.state.lines&&e.state.lines[0]&&e.state.lines[0].length>0},t.updateScrollPosition=function(e){var t=e.moveIds,n=e.moveList,o=e.scrollEl;if(t&&n&&o){var r=n.getComponentRefByLineMove(t.line,t.move);if(r){var a=o.getBoundingClientRect(),i=r.$el?r.$el.getBoundingClientRect():r.getBoundingClientRect(),s=o.scrollTop,l=a.top+Math.floor(a.height/2)-i.top;o.scrollTop=s-l}}}},101:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(130);Object.defineProperty(t,"makePremove",{enumerable:!0,get:function(){return o.makePremove}});var r=n(60);Object.defineProperty(t,"cancelPremoves",{enumerable:!0,get:function(){return r.cancelPremoves}});var a=n(131);Object.defineProperty(t,"consumePremove",{enumerable:!0,get:function(){return a.consumePremove}})},102:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(103);Object.defineProperty(t,"bestMove",{enumerable:!0,get:function(){return o.bestMove}});var r=n(104);Object.defineProperty(t,"book",{enumerable:!0,get:function(){return r.book}});var a=n(105);Object.defineProperty(t,"blunder",{enumerable:!0,get:function(){return a.blunder}});var i=n(106);Object.defineProperty(t,"brilliant",{enumerable:!0,get:function(){return i.brilliant}});var s=n(107);Object.defineProperty(t,"correct",{enumerable:!0,get:function(){return s.correct}});var l=n(108);Object.defineProperty(t,"excellent",{enumerable:!0,get:function(){return l.excellent}});var u=n(109);Object.defineProperty(t,"good",{enumerable:!0,get:function(){return u.good}});var c=n(110);Object.defineProperty(t,"inaccuracy",{enumerable:!0,get:function(){return c.inaccuracy}});var d=n(111);Object.defineProperty(t,"incorrect",{enumerable:!0,get:function(){return d.incorrect}});var f=n(112);Object.defineProperty(t,"missedWin",{enumerable:!0,get:function(){return f.missedWin}});var m=n(113);Object.defineProperty(t,"mistake",{enumerable:!0,get:function(){return m.mistake}});var p=n(114);Object.defineProperty(t,"undo",{enumerable:!0,get:function(){return p.undo}})},103:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.bestMove=void 0;var o=n(9);t.bestMove='\n  <path class="'+o.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+o.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#95bb4a"/>\n  <path d="M9 3.72a.48.48 0 0 0-.44.3L7.24 7.46l-3.68.19a.48.48 0 0 0-.27.84l2.86 2.32-1 3.56a.47.47 0 0 0 .18.5.46.46 0 0 0 .27.09.5.5 0 0 0 .26-.08l3.09-2 3.09 2a.5.5 0 0 0 .26.08.46.46 0 0 0 .27-.09.47.47 0 0 0 .18-.5l-1-3.56 2.86-2.32a.48.48 0 0 0-.27-.84l-3.68-.19L9.44 4A.48.48 0 0 0 9 3.72z" opacity=".1"/>\n  <path d="M9 3.22a.48.48 0 0 0-.44.3L7.24 7l-3.68.19a.48.48 0 0 0-.27.81l2.86 2.32-1 3.56a.47.47 0 0 0 .18.5.46.46 0 0 0 .27.09.5.5 0 0 0 .26-.08l3.09-2 3.09 2a.5.5 0 0 0 .26.08.46.46 0 0 0 .27-.09.47.47 0 0 0 .18-.5l-1-3.56L14.71 8a.48.48 0 0 0-.27-.84L10.76 7 9.44 3.52a.48.48 0 0 0-.44-.3z" fill="#fff"/>\n'},104:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.book=void 0;var o=n(9);t.book='\n  <path class="'+o.classNames.SHADOW+'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="'+o.classNames.BACKGROUND+'" fill="#a88865" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" opacity=".3" d="M8.4,6c-1-.75-2.52-1.09-4.83-1.09H2.49v8.71H3.57A8.13,8.13,0,0,1,8.4,14.76Z"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" opacity=".3" d="M9.49,14.76a8.14,8.14,0,0,1,4.84-1.17h1.08V4.88H14.33C12,4.88,10.52,5.22,9.49,6Z"/>\n  <path class="'+o.classNames.COMPONENT+'" fill="#fff" d="M8.4,5.47c-1-.75-2.52-1.09-4.83-1.09H3v8.71h.58A8.13,8.13,0,0,1,8.4,14.26Z"/>\n  <path class="'+o.classNames.COMPONENT+'" fill="#fff" d="M9.49,14.26a8.14,8.14,0,0,1,4.84-1.17h.58V4.38h-.58c-2.32,0-3.81.34-4.84,1.09Z"/>\n'},105:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.blunder=void 0;var o=n(9);t.blunder='\n  <path class="'+o.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+o.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#c93430"/>\n  <g class="'+o.classNames.COMPONENT_SHADOW+'" opacity=".2">\n    <path d="M14.68 5.48a2.77 2.77 0 0 0-.77-.92 3.81 3.81 0 0 0-1.1-.56 3.86 3.86 0 0 0-1.2-.19 3.68 3.68 0 0 0-1.19.19 5.72 5.72 0 0 0-.9.37l-.33.2a3.5 3.5 0 0 1 .43.63A3.26 3.26 0 0 1 10 6.66a.45.45 0 0 0 .19 0l.11-.09a1.13 1.13 0 0 1 .28-.18 2.54 2.54 0 0 1 .42-.23 1.61 1.61 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.25.68c-.17.19-.39.4-.65.64s-.33.27-.49.42a3.08 3.08 0 0 0-.45.55 2.55 2.55 0 0 0-.33.66 2.43 2.43 0 0 0-.13.84v.35a.34.34 0 0 0 .32.32h1.72a.27.27 0 0 0 .22-.1.29.29 0 0 0 .09-.22v-.21a.93.93 0 0 1 .27-.7 6.62 6.62 0 0 1 .65-.64A4.62 4.62 0 0 0 14 9a5.58 5.58 0 0 0 .49-.6 2.92 2.92 0 0 0 .36-.73 3.08 3.08 0 0 0 .14-1 2.76 2.76 0 0 0-.31-1.19zM12.3 12.72h-1.89a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.31.31 0 0 0 .09.22.26.26 0 0 0 .22.1h1.89a.33.33 0 0 0 .23-.09.34.34 0 0 0 .1-.23V13a.34.34 0 0 0-.1-.22.33.33 0 0 0-.23-.06zM6.68 12.72H4.79a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.35.35 0 0 0 .08.22.28.28 0 0 0 .23.1h1.89a.35.35 0 0 0 .23-.09.34.34 0 0 0 .1-.23V13a.34.34 0 0 0-.1-.22.35.35 0 0 0-.23-.06zM8.28 4.56A3.63 3.63 0 0 0 7.19 4 3.86 3.86 0 0 0 6 3.81 3.78 3.78 0 0 0 4.79 4a6.65 6.65 0 0 0-.9.37 2.84 2.84 0 0 0-.55.38l-.21.19a.31.31 0 0 0 0 .41l1 1.21a.31.31 0 0 0 .21.13.54.54 0 0 0 .25-.06l.1-.09a1.46 1.46 0 0 1 .29-.18 2.2 2.2 0 0 1 .41-.18 1.57 1.57 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.26.68c-.17.19-.38.4-.64.64a6.4 6.4 0 0 0-.49.42 2.7 2.7 0 0 0-.52.53 2.94 2.94 0 0 0-.34.66 2.7 2.7 0 0 0-.12.84v.35a.29.29 0 0 0 .09.22.28.28 0 0 0 .22.1h1.76a.26.26 0 0 0 .21-.1.29.29 0 0 0 .09-.22v-.21a1 1 0 0 1 .27-.7 8.22 8.22 0 0 1 .66-.64A5.68 5.68 0 0 0 8.36 9a7 7 0 0 0 .48-.6 3 3 0 0 0 .37-.73 3.1 3.1 0 0 0 .13-1 2.67 2.67 0 0 0-1.06-2.11z"/>\n  </g>\n  <path class="'+o.classNames.COMPONENT+'" fill="#fff" d="M14.68 5a2.77 2.77 0 0 0-.77-.92 3.81 3.81 0 0 0-1.1-.56 3.86 3.86 0 0 0-1.2-.19 3.68 3.68 0 0 0-1.19.17 5.72 5.72 0 0 0-.9.37l-.33.2a3.5 3.5 0 0 1 .43.63A3.26 3.26 0 0 1 10 6.16a.45.45 0 0 0 .19 0l.09-.16a1.13 1.13 0 0 1 .28-.18 2.54 2.54 0 0 1 .44-.16 1.61 1.61 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.25.68c-.17.19-.39.4-.65.64s-.33.27-.49.42a3.08 3.08 0 0 0-.45.55 2.55 2.55 0 0 0-.33.66 2.43 2.43 0 0 0-.13.84v.35a.34.34 0 0 0 .32.32h1.72a.27.27 0 0 0 .22-.1.29.29 0 0 0 .09-.22v-.21a.93.93 0 0 1 .27-.7 6.62 6.62 0 0 1 .62-.66 4.62 4.62 0 0 0 .54-.46 5.58 5.58 0 0 0 .49-.6 2.92 2.92 0 0 0 .36-.73 3.08 3.08 0 0 0 .14-1A2.76 2.76 0 0 0 14.68 5zM12.3 12.22h-1.89a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.31.31 0 0 0 .09.22.26.26 0 0 0 .22.1h1.89a.33.33 0 0 0 .23-.09.34.34 0 0 0 .1-.23v-1.84a.34.34 0 0 0-.1-.22.33.33 0 0 0-.23-.09zM6.68 12.22H4.79a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.35.35 0 0 0 .08.22.28.28 0 0 0 .23.1h1.89a.35.35 0 0 0 .23-.09.34.34 0 0 0 .1-.23v-1.84a.34.34 0 0 0-.1-.22.35.35 0 0 0-.23-.09zM8.28 4.06a3.63 3.63 0 0 0-1.09-.56A3.86 3.86 0 0 0 6 3.31a3.78 3.78 0 0 0-1.2.17 6.65 6.65 0 0 0-.9.37 2.84 2.84 0 0 0-.55.38l-.21.19a.31.31 0 0 0 0 .41L4.09 6a.31.31 0 0 0 .21.13.54.54 0 0 0 .25-.06l.1-.07a1.46 1.46 0 0 1 .29-.18 2.2 2.2 0 0 1 .41-.18 1.57 1.57 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.26.68c-.17.19-.38.4-.64.64a6.4 6.4 0 0 0-.49.42 2.7 2.7 0 0 0-.48.57 2.94 2.94 0 0 0-.34.66 2.7 2.7 0 0 0-.12.84v.35a.29.29 0 0 0 .09.22.28.28 0 0 0 .22.1h1.76a.26.26 0 0 0 .21-.1.29.29 0 0 0 .09-.22v-.21a1 1 0 0 1 .27-.7A8.22 8.22 0 0 1 7.84 9a5.68 5.68 0 0 0 .52-.48 7 7 0 0 0 .48-.6 3 3 0 0 0 .37-.73 3.1 3.1 0 0 0 .13-1 2.67 2.67 0 0 0-1.06-2.13z"/>\n'},106:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.brilliant=void 0;var o=n(9);t.brilliant='\n  <path class="'+o.classNames.SHADOW+'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="'+o.classNames.BACKGROUND+'" fill="#1baca6" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" opacity=".2" d="M12.57,14.85a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24V13a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23Zm-.11-3.93a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H10.35a.32.32,0,0,1-.34-.31L9.86,4.15A.42.42,0,0,1,10,3.91a.3.3,0,0,1,.24-.1H12.3a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="'+o.classNames.COMPONENT+'" fill="#fff" d="M12.57,14.35a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24v-1.9a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23Zm-.11-3.93a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H10.35a.32.32,0,0,1-.34-.31L9.86,3.65A.42.42,0,0,1,10,3.41a.3.3,0,0,1,.24-.1H12.3a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" opacity=".2" d="M8.07,14.85a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24V13a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23ZM8,10.92a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H5.85a.32.32,0,0,1-.34-.31L5.36,4.15a.42.42,0,0,1,.09-.24.3.3,0,0,1,.24-.1H7.8a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="'+o.classNames.COMPONENT+'" fill="#fff" d="M8.07,14.35a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24v-1.9a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23ZM8,10.42a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H5.85a.32.32,0,0,1-.34-.31L5.36,3.65a.42.42,0,0,1,.09-.24.3.3,0,0,1,.24-.1H7.8a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n'},107:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.correct=void 0;var o=n(9);t.correct='\n  <path class="'+o.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+o.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#95bb4a"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" d="M15.11 6.81l-5.66 5.66-1.66 1.65a.38.38 0 0 1-.55 0L2.89 9.78a.39.39 0 0 1 0-.55l1.39-1.39a.39.39 0 0 1 .55 0l2.69 2.69 5.65-5.65a.38.38 0 0 1 .55 0l1.39 1.38a.39.39 0 0 1 0 .55z" opacity=".2"/>\n  <path class="'+o.classNames.COMPONENT+'" d="M15.11 6.31L9.45 12l-1.66 1.62a.38.38 0 0 1-.55 0L2.89 9.28a.39.39 0 0 1 0-.55l1.39-1.39a.39.39 0 0 1 .55 0L7.52 10l5.65-5.65a.38.38 0 0 1 .55 0l1.39 1.38a.39.39 0 0 1 0 .58z" fill="#fff"/>\n'},108:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.excellent=void 0;var o=n(9);t.excellent='\n  <path class="'+o.classNames.SHADOW+'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="'+o.classNames.BACKGROUND+'" fill="#5a9ac0" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" opacity=".2" d="M15,6.8,7.81,14a.38.38,0,0,1-.55,0L3,9.73a.41.41,0,0,1,0-.55L4.36,7.81a.4.4,0,0,1,.54,0l2.63,2.64L13.1,4.9a.38.38,0,0,1,.55,0L15,6.25A.38.38,0,0,1,15,6.8Z"/>\n  <path class="'+o.classNames.COMPONENT+'" fill="#ffffff" d="M15,6.3,7.81,13.49a.38.38,0,0,1-.55,0L3,9.23a.41.41,0,0,1,0-.55L4.36,7.31a.4.4,0,0,1,.54,0L7.53,10,13.1,4.4a.38.38,0,0,1,.55,0L15,5.75A.38.38,0,0,1,15,6.3Z"/>\n'},109:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.good=void 0;var o=n(9);t.good='\n  <path class="'+o.classNames.SHADOW+'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="'+o.classNames.BACKGROUND+'" fill="#a09f9e" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="'+o.classNames.COMPONENT+'" fill="#fff" d="M9,2.5A6.5,6.5,0,1,0,15.5,9,6.5,6.5,0,0,0,9,2.5Z"/>\n  <path class="'+o.classNames.BACKGROUND+'" fill="#a09f9e" d="M9,5a4,4,0,1,0,4,4A4,4,0,0,0,9,5Z"/>\n  <path class="'+o.classNames.COMPONENT+'" fill="#fff" d="M9,7.5A1.5,1.5,0,1,0,10.5,9,1.5,1.5,0,0,0,9,7.5Z"/>\n'},11:function(e,t,n){e.exports=n(6)(45)},110:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.inaccuracy=void 0;var o=n(9);t.inaccuracy='\n  <path class="'+o.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+o.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#f0c15c"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" opacity=".3" d="M13.51 14.85a.3.3 0 0 1-.1.24.33.33 0 0 1-.24.1h-2a.29.29 0 0 1-.23-.1.36.36 0 0 1-.09-.24V13a.33.33 0 0 1 .1-.23.27.27 0 0 1 .22-.1h2a.33.33 0 0 1 .24.1.29.29 0 0 1 .1.23zm-.12-3.93a.29.29 0 0 1-.1.23.31.31 0 0 1-.23.08h-1.77a.31.31 0 0 1-.34-.31l-.15-6.77a.49.49 0 0 1 .08-.24.32.32 0 0 1 .25-.1h2.11a.38.38 0 0 1 .25.1.42.42 0 0 1 .09.24z"/>\n  <path class="'+o.classNames.COMPONENT+'" fill="#fff" d="M13.51 14.35a.3.3 0 0 1-.1.24.33.33 0 0 1-.24.1h-2a.29.29 0 0 1-.23-.1.36.36 0 0 1-.09-.24v-1.9a.33.33 0 0 1 .1-.23.27.27 0 0 1 .22-.1h2a.33.33 0 0 1 .24.1.29.29 0 0 1 .1.23zm-.12-3.93a.29.29 0 0 1-.1.23.31.31 0 0 1-.23.08h-1.77a.31.31 0 0 1-.34-.31l-.15-6.77a.49.49 0 0 1 .08-.24.32.32 0 0 1 .25-.1h2.11a.38.38 0 0 1 .25.1.42.42 0 0 1 .09.24z"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" opacity=".3" d="M7.5 14.87a.33.33 0 0 1-.09.23.35.35 0 0 1-.23.09H5.29a.28.28 0 0 1-.23-.1.35.35 0 0 1-.06-.22V13a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.87a.35.35 0 0 1 .23.09.33.33 0 0 1 .09.22zm2.21-7.16a3 3 0 0 1-.37.73 7 7 0 0 1-.48.6 5.68 5.68 0 0 1-.52.48 8.22 8.22 0 0 0-.66.64 1 1 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.26.26 0 0 1-.21.1H5.38a.28.28 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.7 2.7 0 0 1 .12-.84 3.39 3.39 0 0 1 .33-.66A3.12 3.12 0 0 1 6 8.67a6.4 6.4 0 0 1 .49-.42c.25-.24.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.14 1.14 0 0 0-.73-.24 1.53 1.53 0 0 0-.49.07 2.2 2.2 0 0 0-.41.18 1.46 1.46 0 0 0-.29.18l-.1.09a.54.54 0 0 1-.25.06.31.31 0 0 1-.21-.13l-1-1.21a.31.31 0 0 1 0-.41l.21-.19a2.84 2.84 0 0 1 .55-.38A6.65 6.65 0 0 1 5.29 4a3.74 3.74 0 0 1 1.2-.17 3.86 3.86 0 0 1 1.2.17 3.75 3.75 0 0 1 1.09.56 2.67 2.67 0 0 1 1.06 2.19 3.1 3.1 0 0 1-.13.96z"/>\n  <path class="'+o.classNames.COMPONENT+'" fill="#fff" d="M7.5 14.37a.33.33 0 0 1-.09.23.35.35 0 0 1-.23.09H5.29a.28.28 0 0 1-.23-.1.35.35 0 0 1-.06-.22v-1.84a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.87a.35.35 0 0 1 .23.09.33.33 0 0 1 .09.22zm2.21-7.16a3 3 0 0 1-.37.73 7 7 0 0 1-.48.6 5.68 5.68 0 0 1-.52.46 8.22 8.22 0 0 0-.66.64 1 1 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.26.26 0 0 1-.21.1H5.38a.28.28 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.7 2.7 0 0 1 .12-.84 3.39 3.39 0 0 1 .33-.66A3.12 3.12 0 0 1 6 8.17a6.4 6.4 0 0 1 .49-.42c.25-.24.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.14 1.14 0 0 0-.73-.24 1.53 1.53 0 0 0-.49.07 2.2 2.2 0 0 0-.41.18 1.46 1.46 0 0 0-.31.16l-.1.09a.54.54 0 0 1-.25.06.31.31 0 0 1-.21-.15l-1-1.21a.31.31 0 0 1 0-.41l.21-.19a2.84 2.84 0 0 1 .55-.38 6.65 6.65 0 0 1 .9-.37 3.74 3.74 0 0 1 1.2-.17 3.86 3.86 0 0 1 1.2.19 3.75 3.75 0 0 1 1.09.56 2.67 2.67 0 0 1 1.1 2.23 3.1 3.1 0 0 1-.13.96z"/>\n'},111:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.incorrect=void 0;var o=n(9);t.incorrect='\n  <path class="'+o.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+o.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#c93430"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" d="M14 12.58a.4.4 0 0 1 0 .56l-1.38 1.38a.4.4 0 0 1-.56 0L9 11.44l-3.08 3.08a.4.4 0 0 1-.56 0L4 13.14a.4.4 0 0 1 0-.56L7.06 9.5 4 6.42a.4.4 0 0 1 0-.56l1.36-1.38a.4.4 0 0 1 .56 0L9 7.56l3.08-3.08a.4.4 0 0 1 .56 0L14 5.86a.4.4 0 0 1 0 .56L10.94 9.5z" opacity=".2"/>\n  <path class="'+o.classNames.COMPONENT+'" d="M14 12.08a.4.4 0 0 1 0 .56L12.64 14a.4.4 0 0 1-.56 0L9 10.94 5.92 14a.4.4 0 0 1-.56 0L4 12.64a.4.4 0 0 1 0-.56L7.06 9 4 5.92a.4.4 0 0 1 0-.56L5.36 4a.4.4 0 0 1 .56 0L9 7.06 12.08 4a.4.4 0 0 1 .56 0L14 5.36a.4.4 0 0 1 0 .56L10.94 9z" fill="#f1f2f2"/>\n'},1113:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(662);t.default={name:"tv-player",props:{autoplay:{type:Boolean,default:o.constants.DEFAULT_AUTOPLAY},channel:{type:String,default:"chess"},muted:{type:Boolean,default:o.constants.DEFAULT_MUTED}},computed:{tvPlayerUrl:function(){return"//player.twitch.tv/?channel="+this.channel+"&autoplay="+this.autoplay+"&muted="+this.muted}},mounted:function(){var e=this,t=function(){var t=e.$refs.player.getAttribute("data-src");t&&e.$refs.player.setAttribute("src",t)};"complete"===document.readyState?t():window.addEventListener("load",t,!1)}}},112:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.missedWin=void 0;var o=n(9);t.missedWin='\n  <path class="'+o.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+o.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#dd5357"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" d="M14 12.58a.4.4 0 0 1 0 .56l-1.38 1.38a.4.4 0 0 1-.56 0L9 11.44l-3.08 3.08a.4.4 0 0 1-.56 0L4 13.14a.4.4 0 0 1 0-.56L7.06 9.5 4 6.42a.4.4 0 0 1 0-.56l1.36-1.38a.4.4 0 0 1 .56 0L9 7.56l3.08-3.08a.4.4 0 0 1 .56 0L14 5.86a.4.4 0 0 1 0 .56L10.94 9.5z" opacity=".2"/>\n  <path class="'+o.classNames.COMPONENT+'" d="M14 12.08a.4.4 0 0 1 0 .56L12.64 14a.4.4 0 0 1-.56 0L9 10.94 5.92 14a.4.4 0 0 1-.56 0L4 12.64a.4.4 0 0 1 0-.56L7.06 9 4 5.92a.4.4 0 0 1 0-.56L5.36 4a.4.4 0 0 1 .56 0L9 7.06 12.08 4a.4.4 0 0 1 .56 0L14 5.36a.4.4 0 0 1 0 .56L10.94 9z" fill="#f1f2f2"/>\n'},113:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mistake=void 0;var o=n(9);t.mistake='\n  <path class="'+o.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+o.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#e6912c"/>\n  <path class="'+o.classNames.COMPONENT_SHADOW+'" d="M9.82 14.87a.34.34 0 0 1-.1.23.33.33 0 0 1-.23.09H7.6a.26.26 0 0 1-.22-.1.31.31 0 0 1-.09-.22V13a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.89a.33.33 0 0 1 .23.09.34.34 0 0 1 .1.22zM12 7.71a3.31 3.31 0 0 1-.36.73 7.11 7.11 0 0 1-.49.6 4.62 4.62 0 0 1-.52.48 6.62 6.62 0 0 0-.65.64.93.93 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.28.28 0 0 1-.22.1H7.69a.3.3 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.43 2.43 0 0 1 .13-.84 2.55 2.55 0 0 1 .33-.66 3.08 3.08 0 0 1 .45-.55c.16-.15.33-.29.49-.42s.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.13 1.13 0 0 0-.73-.24 1.57 1.57 0 0 0-.49.07 2.54 2.54 0 0 0-.41.18 1.46 1.46 0 0 0-.29.18l-.1.09a.53.53 0 0 1-.24.06c-.12 0-.19-.07-.21-.13l-1-1.21a.3.3 0 0 1 0-.41l.21-.19a2.67 2.67 0 0 1 .56-.38A5.72 5.72 0 0 1 7.61 4a3.68 3.68 0 0 1 1.19-.19A3.86 3.86 0 0 1 10 4a3.63 3.63 0 0 1 1.09.56 2.79 2.79 0 0 1 .78.92 2.76 2.76 0 0 1 .29 1.27 3.08 3.08 0 0 1-.16.96z" opacity=".2"/>\n  <path class="'+o.classNames.COMPONENT+'" d="M9.82 14.37a.34.34 0 0 1-.1.23.33.33 0 0 1-.23.09H7.6a.26.26 0 0 1-.22-.1.31.31 0 0 1-.09-.22v-1.84a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.89a.33.33 0 0 1 .23.09.34.34 0 0 1 .1.22zM12 7.21a3.31 3.31 0 0 1-.36.73 7.11 7.11 0 0 1-.49.6 4.62 4.62 0 0 1-.52.48 6.62 6.62 0 0 0-.65.64.93.93 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.28.28 0 0 1-.22.1H7.69a.3.3 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.43 2.43 0 0 1 .13-.84 2.55 2.55 0 0 1 .33-.66 3.08 3.08 0 0 1 .45-.55c.16-.15.33-.29.49-.42s.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.13 1.13 0 0 0-.73-.24 1.57 1.57 0 0 0-.49.07 2.54 2.54 0 0 0-.41.18 1.46 1.46 0 0 0-.29.16l-.1.09a.53.53 0 0 1-.24.06C7 6.14 6.93 6.1 6.91 6l-1-1.21a.3.3 0 0 1 0-.41l.21-.19a2.67 2.67 0 0 1 .56-.38 5.72 5.72 0 0 1 .9-.37 3.68 3.68 0 0 1 1.22-.13 3.86 3.86 0 0 1 1.2.19 3.63 3.63 0 0 1 1.09.56 2.79 2.79 0 0 1 .78.92 2.76 2.76 0 0 1 .29 1.27 3.08 3.08 0 0 1-.16.96z" fill="#fff"/>\n'},114:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.undo=void 0;var o=n(9);t.undo='\n  <path\n    class="'+o.classNames.SHADOW+'"\n    d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"\n    opacity=".3"></path>\n\n  <path\n    class="'+o.classNames.BACKGROUND+'"\n    d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"\n    fill="#8a8886"></path>\n\n  <path\n    d="M3.59,10.23a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,13.31,3.58,3.58,0,0,0,10.47,13a3.94,3.94,0,0,0,1.22-.81A4.09,4.09,0,0,0,12.5,11a3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2A3.94,3.94,0,0,0,10.47,6,3.65,3.65,0,0,0,9,5.69a3.61,3.61,0,0,0-1.23.21,3.23,3.23,0,0,0-1.09.6L7.77,7.59c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,8a.52.52,0,0,1-.17-.38V4.45c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,5.34a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,4.05a5.3,5.3,0,0,1,2.12.44,5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,7.38a5.23,5.23,0,0,1,.44,2.12A5.16,5.16,0,0,1,14,11.62a5.59,5.59,0,0,1-1.16,1.73,5.32,5.32,0,0,1-1.73,1.18A5.64,5.64,0,0,1,9,15a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,12.1,5.1,5.1,0,0,1,3.59,10.23Z"\n    class="'+o.classNames.COMPONENT_SHADOW+'"\n    opacity=".3"></path>\n\n  <path\n    d="M3.59,9.73a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,12.81a3.58,3.58,0,0,0,1.47-.31,3.94,3.94,0,0,0,1.22-.81,4.09,4.09,0,0,0,.81-1.2,3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2,3.94,3.94,0,0,0-1.22-.81A3.65,3.65,0,0,0,9,5.19a3.61,3.61,0,0,0-1.23.21A3.23,3.23,0,0,0,6.68,6L7.77,7.09c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,7.49a.52.52,0,0,1-.17-.38V4c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,4.84a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,3.55,5.3,5.3,0,0,1,11.12,4a5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,6.88,5.23,5.23,0,0,1,14.45,9,5.16,5.16,0,0,1,14,11.12a5.59,5.59,0,0,1-1.16,1.73A5.32,5.32,0,0,1,11.12,14,5.64,5.64,0,0,1,9,14.45a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,11.6,5.1,5.1,0,0,1,3.59,9.73Z"\n    class="'+o.classNames.COMPONENT+'"\n    fill="#ffffff"></path>\n'},115:function(e,t){var n=Array.isArray;e.exports=n},116:function(e,t){e.exports={component:"modal-container-component","parent-centered":"modal-container-parent-centered",bg:"modal-container-bg",enter:"modal-container-enter",leave:"modal-container-leave","content-centered":"modal-container-content-centered"}},117:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e,t,n=this,o=n.$createElement,r=n._self._c||o;return r("transition",{attrs:{"enter-active-class":n.$style.enter,"leave-active-class":n.$style.leave}},[n.visible?r("div",{class:[n.$style.component,(e={},e[n.$style["parent-centered"]]=n.centerOverParent,e),(t={},t[n.$style["content-centered"]]=n.centerOverContent,t)]},[n.centerOverParent?n._e():r("div",{class:n.$style.bg,on:{click:n.onBackgroundClick}}),n._v(" "),[n._t("default")]],2):n._e()])},r=[]},118:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getCoordinateHeight=void 0;var o=n(14);t.getCoordinateHeight=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=document.querySelector(o.domSelectors.COORDINATE_FILE);return t?t.getBoundingClientRect().height:e}},119:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.animationChangeRequiresRefresh=void 0;var o=n(14);t.animationChangeRequiresRefresh=function(e,t){return o.reloadRequired.animations.indexOf(e)>-1||o.reloadRequired.animations.indexOf(t)>-1}},12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(48),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(95),s=n(5);var l=function(e){this.$style=n(93)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},120:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.buildEffect=void 0;var o=n(18),r=n(97);t.buildEffect=function(e){var t=e.icon,n=e.node;return{position:{x:"right",y:"top"},square:e.square||o.GameAPI.convertLanToFileRanks(""+n.from+n.to).toFileRank,template:(0,r.makeSvg)({path:t,size:"100%"})}}},121:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addBlinkingSquare=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(17);t.addBlinkingSquare=function(e,t,n,o){var r=i.Utils.getId(),s=(0,a.default)({id:r,interval:t,times:n},o);return e.markings.blinkingSquares.push(s),setTimeout(function(){var t=e.markings.blinkingSquares.findIndex(function(e){return e.id===r});e.markings.blinkingSquares.splice(t,1)},0),e}},122:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addVariant=void 0;var o=n(20),r=n(10);t.addVariant=function(e,t){return t?((0,r.selectNode)(e,{line:0,move:0}),t.match(/.{2}/g).forEach(function(t){return(0,o.makeMove)(e,{tcn:t},!0)}),e):e}},123:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.getSanMoves=function(e,t){var o=[];return(e.tree.lines||n(19).default.state.lines)[0].some(function(e,n){return"number"==typeof t&&n>=t||(o.push(e.san),!1)}),o}},124:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.getFens=function(e){var t=[e.setup.fen];return(e.tree.lines||n(19).default.state.lines)[0].forEach(function(e){t.push(e.fen)}),t}},125:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastTcn=void 0;var o=n(18);t.getLastTcn=function(e){var t=o.GameAPI.getTcn(e);return t.substr(t.length-2)}},126:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.makeOpponentMove=void 0;var o=n(57),r=n(37),a=n(0);t.makeOpponentMove=function(e,t){return(0,r.setPlayingAs)(e,3-e.setup.playingAs),(0,o.makeMove)(e,t),(0,r.setPlayingAs)(e,3-e.setup.playingAs),a.State.updateState(e)}},127:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.isMoveLegal=function(e,t){var n=!1;if(!e.settings.rules)return!0;for(var o=0;o<e.setup.legalMoves.length;o++){var r=e.setup.legalMoves[o];if(r.from===t.from&&r.to===t.to){n=!0;break}}return n}},128:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.canMoveBackward=void 0;var o=n(1);t.canMoveBackward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===e.tree.selected.line&&e.tree.selected.move-t<-1)return!1;var r=e.tree.lines||n(19).default.state.lines;return null!==o.Line.findNode(r,e.tree.selected,-1*t,!1)}},129:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.canMoveForward=void 0;var o=n(1);t.canMoveForward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.tree.lines||n(19).default.state.lines;return null!==o.Line.findNode(r,e.tree.selected,t,!1)}},13:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.localStorageSettings=t.routes=t.events=t.refs=t.translations=t.constants=t.callbacks=t.attributes=void 0;var o=_interopRequireDefault(n(8)),r=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.attributes={ARIA_CONTROLS:"aria-controls",AVATAR:"data-avatar",CUSTOM_BTN_CLASS:"data-custom-btn-class",CUSTOM_COLLAPSE_CLASS:"data-custom-collapse-class",ICON_BUTTON:"data-icon-button",STATS:"data-stats",SURVEY_DATA:"data-survey",SURVEY_VOTED:"data-voted-survey",USERNAME:"data-username",VS_STATS:"data-vs-stats"},t.callbacks={getArticleAuthors:"web_article_callback_list_authors",getBlogAuthors:"web_blog_callback_authors",getContent:"web_content_callback_load_more",getNewsAuthors:"web_news_callback_list_authors"},t.constants={GRID_VIEW:"grid",LIST_VIEW:"list",LOGGED_IN:window.context&&window.context.user,USERNAME:window.context&&window.context.user?window.context.user.username:null},t.translations={category:function(e){return r.default.trans(e,{},"dynamic")},loading:r.default.trans("Loading..."),showMore:r.default.trans("More"),showLess:r.default.trans("Less")},t.refs={AMPLITUDE_LOGGER:"amplitude-logger",BASE_CONTAINER:".base-container",BOARD_POPOVER:"v-board-popover",CAPTCHA:"captcha",COLLAPSE:"v-toggle-collapse",COLLAPSED:"toggle-collapsed",CONTENT_AD:"content-ad",CONTENT_CATEGORY_SELECT:"content-category-select",CONTENT_LANGUAGE_SELECT:"content-language-select",CONFIRM_OPEN:"confirm-open",CONFIRM_POPOVER:"v-confirm-popover",FEATURE_SIDEBAR_LINK:"post-category-link-feature",FILTERS:"page-filters",FORM_DATEPICKER:"v-datepicker",FORM_DROPDOWN:"form-dropdown",GAME_PREVIEW:"game-preview",GIFT_MEMBERSHIP_MODAL:"gift-membership-modal",HEADLINE_SIDEBAR_LINK:"post-category-link-headline",HIDDEN:"toggle-hidden",LANGUAGE_DROPDOWN:"post-view-languages",MESSAGE_PARENT:"vue-message",NAVIGATION_FOOTER:"navigation-footer",NEW_GAME:"new-game",NEW_GAME_BUTTON:"new-game-button",PAGINATION_BOTTOM:"pagination-bottom",PAGINATION_TOP:"pagination-top",POST_AUTHOR_FOLLOW:"post-author-follow",POST_CAN_EDIT_URL:"post-can-edit-url",POST_EDIT_URL:"post-edit-url",POST_EDIT_URL_FIELD:"post-edit-url-field",POST_IMAGE_BUTTON:"image-upload-button",POST_IMAGE_THUMBNAIL:"image-upload-thumbnail",SCROLL_TOP_ANCHOR:"scroll-top-anchor",SHORT_SIDEBAR_AD_BOTTOM:"short-sidebar-ad-bottom",SHORT_SIDEBAR_AD_TOP:"short-sidebar-ad-top",SIDEBAR_STATS:"sidebar-stats",SIDEBAR_SURVEY:"sidebar-survey",SIDEBAR_TOGGLE_BUTTON_TEXT:"sidebar-users-grid-toggle-button-text",SIDEBAR_TOGGLE_ICON:"sidebar-users-grid-toggle-icon",SIDEBAR_USER_ITEMS:"sidebar-users-grid-toggle-item",SIDEBAR_USERS_TOGGLE_BUTTON:"sidebar-users-grid-toggle-button",STAT_CHART:"stat-chart",TOOLTIP:"v-tooltip",TOOLTIP_CLASS:"tooltip",TOOLTIP_TOP:"top",USER_POPOVER:"v-user-popover",USER_TAGLINE:"post-view-meta-user",VERSION_DROPDOWN:"version-dropdown"},t.events={SHOW_MODAL:"show-confirm-popover",VOTE_COUNTED:"vote-counted",VIEW_CHANGE:"view-change",VIEW_GRID:"view-grid",VIEW_LIST:"view-list"},t.routes={changeContentLanguage:function(){return o.default.generate("web_user_callback_set_content_language")},enPassant:function(){return o.default.generate("web_article_view",{url:"how-to-capture-en-passant"})},surveyVote:function(e,t){return o.default.generate("web_survey_callback_vote",{id:e,optionId:t})},redirectToLoginPage:function(e){return o.default.generate("web_security_login_and_go",{redirectUrl:e})}},t.localStorageSettings=JSON.parse(localStorage.getItem("json_settings"))},130:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.makePremove=void 0;var o=n(2),r=n(4),a=n(35),i=n(0),s=n(10),l=n(1);t.makePremove=function(e,t){var n=r.Game.getJCEMove(e,t);return null===n?(o.History.add(e.history,o.Events.ILLEGAL_MOVE),e):l.Line.isHead(e.jce._lines(),e.tree.selected)||e.settings.analysis?e.settings.analysis?void 0:(a.GamePremoves.premove(e,n)?(o.History.add(e.history,o.Events.PREMOVE),i.State.updateState(e)):o.History.add(e.history,o.Events.ILLEGAL_MOVE),e):(0,s.selectNode)(e,l.Line.getHeadIds(e.jce._lines(),e.tree.selected.line))}},131:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.consumePremove=void 0;var o=n(2),r=n(35),a=n(60),i=n(0);t.consumePremove=function(e){return e.premoves.length?(r.GamePremoves.consumePremove(e)?(o.History.add(e.history,o.Events.MAKE_MOVE),i.State.updateState(e)):(0,a.cancelPremoves)(e),e):e}},132:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearAnalysis=void 0;var o=n(18),r=n(1),a=n(0),i=n(2);t.clearAnalysis=function(e){var t=o.GameAPI.resetToMainLine(e),n=r.Line.clearAnalysis(t.jce._lines());return t.jce.saveLines(n),i.History.add(t.history,i.Events.TREE_CHANGE),a.State.updateState(e)}},133:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearArrow=void 0;var o=n(2),r=n(1),a=n(4),i=n(0);t.clearArrow=function(e,t,n){var s=r.Line.getNode(e.jce._lines(),n)||r.Line.getNode(e.jce._lines(),a.Game.getSelectedIds(e))||e.tree.initialMarkings;s.arrows||(s.arrows=[]);var l=s.arrows.findIndex(function(e){return a.Game.isFileRankEqual(e.fromFileRank,t.fromFileRank)&&a.Game.isFileRankEqual(e.toFileRank,t.toFileRank)});return-1!==l&&(s.arrows.splice(l,1),i.State.updateState(e),o.History.add(e.history,o.Events.TREE_CHANGE)),e}},134:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.clearBlinkingSquare=function(e,t){return e.markings.blinkingSquares[t]&&delete e.markings.blinkingSquares[t],e}},135:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearBoard=void 0;n(4);var o=n(2),r=n(0),a=n(59),i=n(38);t.clearBoard=function(e){return(0,a.changeSettings)(e,{rules:!1}),(0,i.loadFromFen)(e,"8/8/8/8/8/8/8/8 w - - 0 1"),o.History.add(e.history,o.Events.LOAD),r.State.updateState(e)}},136:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearEffect=void 0;var o=n(2),r=n(1),a=n(4),i=n(0);t.clearEffect=function(e,t,n){var s=r.Line.getNode(e.jce._lines(),n)||r.Line.getNode(e.jce._lines(),a.Game.getSelectedIds(e))||e.tree.initialMarkings;s.effects||(s.effects=[]);var l=s.effects.findIndex(function(e){return a.Game.isFileRankEqual(e.square,t.square)});return-1!==l&&(s.effects.splice(l,1),i.State.updateState(e),o.History.add(e.history,o.Events.TREE_CHANGE)),e}},137:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearMarkedSquare=void 0;var o=n(2),r=n(1),a=n(4),i=n(0);t.clearMarkedSquare=function(e,t,n){var s=r.Line.getNode(e.jce._lines(),n)||r.Line.getNode(e.jce._lines(),a.Game.getSelectedIds(e))||e.tree.initialMarkings;s.squares||(s.squares=[]);var l=s.squares.findIndex(function(e){return a.Game.isFileRankEqual(e,t)});return-1!==l&&(s.squares.splice(l,1),i.State.updateState(e),o.History.add(e.history,o.Events.TREE_CHANGE)),e}},138:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearNodes=void 0;var o=n(1),r=n(2);t.clearNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.jce._lines();if(!n)return e;if(void 0===t.line&&void 0===t.move)return n.forEach(function(e){e.forEach(function(e,t){return o.Line.clearNode(n,{line:e.ids.line,move:t})})}),r.History.add(e.history,r.Events.TREE_CHANGE),e;if(void 0===t.move){var a=o.Line.getLine(e.jce._lines(),t.line);return a?(a.forEach(function(e,t){return o.Line.clearNode(n,{line:a.id,move:t})}),r.History.add(e.history,r.Events.TREE_CHANGE),e):e}return o.Line.getNode(n,t)?(o.Line.clearNode(n,t),r.History.add(e.history,r.Events.TREE_CHANGE),e):e}},139:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.convertFileToInteger=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").charCodeAt(0)-97+1};t.convertLanToFileRanks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{fromFileRank:{file:n(e[0]),rank:Number(e[1])},toFileRank:{file:n(e[2]),rank:Number(e[3])}}}},14:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initialSetup=t.sidebarStatusStates=t.boardDimensions=t.domClasses=t.coordinates=t.reloadRequired=t.coordinateOptions=t.callbacks=t.defaultBoardOptions=t.paths=t.coordinateTypes=t.domSelectors=t.classifications=t.boardAnimationTypes=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(102)),r=n(26),a=n(28);var i="//images.chesscomfiles.com",s=(t.boardAnimationTypes={ARCADE:"arcade",DEFAULT:"default",NATURAL:"natural",NONE:"none",SLOW:"slow"},t.classifications={ALMOST_CORRECT:{color:"#8a8886",icon:o.undo},BEST_MOVE:{color:"#9EBA5A",icon:o.bestMove,key:"bestMove",label:(0,a.trans)("Best Move"),phrase:(0,a.trans)("is best")},BLUNDER:{annotation:r.nagMap.$4,color:"#b33430",icon:o.blunder,key:"blunder",label:(0,a.trans)("Blunder"),phrase:(0,a.trans)("is a blunder")},BOOK:{icon:o.book,key:"book",label:(0,a.trans)("Book"),phrase:(0,a.trans)("is a book move")},BRILLIANT:{color:"#1baca6",icon:o.brilliant,key:"brilliant",label:(0,a.trans)("Brilliant"),phrase:(0,a.trans)("is brilliant")},CORRECT:{color:"#acce59",key:"correct",icon:o.correct,label:(0,a.trans)("Correct")},CRITICAL:{key:"critical",label:(0,a.trans)("Critical")},EXCELLENT:{color:"#5a9ac0",icon:o.excellent,key:"excellent",label:(0,a.trans)("Excellent"),phrase:(0,a.trans)("is excellent")},FORCED:{key:"forced",label:(0,a.trans)("Forced"),phrase:(0,a.trans)("is forced")},GOOD:{icon:o.good,key:"good",label:(0,a.trans)("Good"),phrase:(0,a.trans)("is good")},INACCURACY:{annotation:r.nagMap.$6,color:"#f0c15c",icon:o.inaccuracy,key:"inaccuracy",label:(0,a.trans)("Inaccuracy"),phrase:(0,a.trans)("is an inaccuracy")},INCORRECT:{color:"#c93430",icon:o.incorrect,key:"incorrect",label:(0,a.trans)("Incorrect")},MISSED_WIN:{color:"#dd5357",icon:o.missedWin,key:"missedWin",label:(0,a.trans)("Missed Win"),phrase:(0,a.trans)("is a missed win")},MISTAKE:{annotation:r.nagMap.$2,color:"#e6912c",icon:o.mistake,key:"mistake",label:(0,a.trans)("Mistake"),phrase:(0,a.trans)("is a mistake")},STAR:{color:"#e6912c",icon:o.bestMove,key:"star"}},t.domSelectors={COORDINATE_FILE:".coordinates .letter"},t.coordinateTypes={INSIDE:"inside",NONE:null,OUTSIDE:"outside"});t.paths={boards:i+"/chess-themes/boards",pieces:i+"/chess-themes/pieces",sounds:i+"/chess-themes/sounds",variants:"bundles/web/images/variants",webglData:"bundles/web/images/webgl_data"},t.defaultBoardOptions={boardStyle:"green",pieceStyle:"neo",highlightColor:"#FFFF33",highlightOpacity:.5,arrowColor:"rgb(255, 168, 0)",flipped:!1,files:8,ranks:8},t.callbacks={getOptions:"web_user_callback_get_board_settings",getStyles:"web_themes_data_callback",updateOption:{animationType:"web_user_game_settings_email_callback_animation_type",colorScheme:"web_user_game_settings_email_callback_board_color",coordinates:"web_user_game_settings_email_callback_coordinates",highlightLegalMoves:"web_user_game_settings_email_callback_show_legal_moves_toggle",highlightMoves:"web_user_game_settings_email_callback_highlight_last_move_toggle",moveListDisplayType:"web_user_game_settings_email_callback_move_list_display_type",pieceStyle:"web_user_game_settings_email_callback_piece",playSounds:"web_user_game_settings_email_callback_sound_toggle",soundTheme:"web_user_game_settings_email_callback_sound_theme"}},t.coordinateOptions=[{key:0,label:(0,a.trans)("None"),value:s.NONE},{key:1,label:(0,a.trans)("Inside"),value:s.INSIDE},{key:2,label:(0,a.trans)("Outside"),value:s.OUTSIDE}],t.reloadRequired={pieces:["real3d"],animations:["arcade","natural"]},t.coordinates=[{key:"0",value:null},{key:"1",value:"inside"},{key:"2",value:"outside"}],t.domClasses={board:".board-board",resize:".board-controls",sidebar:".board-sidebar"},t.boardDimensions={minSidebarWidth:300,boardPaddingLeft:30},t.sidebarStatusStates={COMPUTER_MOVING:0,MOVE_CORRECT:1,MOVE_INCORRECT:2,PLAYER_MOVING:3,SOLVED:4},t.initialSetup="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"},140:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteLine=void 0;n(18);var o=n(2),r=(n(1),n(0));t.deleteLine=function(e,t){return e.jce.deletePosition(-1,t)?(o.History.add(e.history,o.Events.TREE_CHANGE),r.State.updateState(e),e):null}},1401:function(e,t){e.exports={header:"list-players-header",title:"list-players-title",subtitle:"list-players-subtitle",section:"list-players-section",item:"list-players-item","place-number":"list-players-place-number","avatar-link":"list-players-avatar-link","avatar-img":"list-players-avatar-img","chess-title":"list-players-chess-title",username:"list-players-username",rating:"list-players-rating"}},1402:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.routes=t.search=t.daily=void 0;var o=_interopRequireDefault(n(797)),r=_interopRequireDefault(n(8));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.daily=function(e){return r.default.generate("web_daily_game",{id:e})},t.search=function(e){return r.default.generate("web_search_redirect",{q:e})};var a=window.context&&window.context.locale?window.context.locale:o.default.I18N_DEFAULT_LOCALE;t.routes={home:r.default.generate("web_user_home"),live:r.default.generate("web_live"),loginAndGoRoute:function(e){return r.default.generate("web_security_login_and_go",{redirectUrl:e})},logout:r.default.generate("web_security_logout"),membership:r.default.generate("web_membership",{c:"navbarsvelte"}),messages:r.default.generate("web_message_index"),playUrl:function(e){return"chess.com"+r.default.generate("web_member_play",{username:e})},stats:r.default.generate("web_stats"),themes:r.default.generate("web_user_settings_themes"),registerRoute:function(e){return r.default.generate("web_security_register",{redirectUrl:e})},settings:r.default.generate("web_user_settings_edit"),support:"es_ES"===a?"https://support.chess.com/customer/es/portal/articles":"https://support.chess.com/",topPlayerObserve:function(e){return r.default.generate("web_live")+"#follow="+e},tv:["en_US","en"].includes(a)?r.default.generate("web_tv"):r.default.generate("web_tv_i18n",{locale:a.substr(0,2)})}},1403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1113),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(1405),s=n(5);var l=function(e){this.$style=n(1404)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},1404:function(e,t){e.exports={component:"tv-player-component",iframe:"tv-player-iframe"}},1405:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.$style.component},[t("iframe",{ref:"player",class:this.$style.iframe,attrs:{"data-src":this.tvPlayerUrl,allowfullscreen:"true",frameborder:"0",height:"375",scrolling:"no",width:"668"}})])},r=[]},141:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentFullLine=function(e){var t=e.jce._history().length-e.jce.ids().move-1,n=e.jce.history(!0);return 0===t?n:n.slice(0,-t)}},142:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getPgn=void 0;var o=n(4);t.getPgn=function(e,t){return o.Game.getPgn(e,t)}},143:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getPgnHeaders=void 0;var o=n(4);t.getPgnHeaders=function(e){return o.Game.getHeaders(e)}},144:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectedNode=void 0;var o=n(1);t.getSelectedNode=function(e){return o.Line.getSelectedNode(e)}},145:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromLan=void 0;var o,r=n(18),a=n(15),i=(o=a)&&o.__esModule?o:{default:o};t.loadFromLan=function(e,t,n,o){var a=t.map(function(e){return i.default.encodeTCN({from:e.slice(0,2),to:e.slice(2,4),promotion:e.slice(4,5)||void 0})}).join("");return r.GameAPI.loadFromTcn(e,a,n,o)}},146:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromPgn=void 0;var o=n(4),r=n(2),a=n(0),i=n(10),s=n(100);t.loadFromPgn=function(e,t,n){return t?(o.Game.loadPgn(e,(0,s.normalizePgnAnnotation)(t)),a.State.updateState(e),n?(0,i.selectNode)(e,e.tree.selected,n):(r.History.add(e.history,r.Events.LOAD),e)):e}},147:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromSanMoves=void 0;var o=n(4),r=n(20),a=n(10),i=n(2),s=n(0);t.loadFromSanMoves=function(e,t,n,l){return t&&t.length?(n&&o.Game.load(e,n),t.forEach(function(t){return(0,r.makeMove)(e,{san:t},!0)}),s.State.updateState(e),l?(0,a.selectNode)(e,e.tree.selected,-1):(i.History.add(e.history,i.Events.LOAD),e)):null}},148:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeTcn=void 0;var o=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(15)),a=n(2),i=n(1),s=n(20),l=n(10),u=n(55),c=n(149),d=n(40),f=n(65),m=n(41),p=n(39);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.mergeTcn=function mergeTcn(e,t,n){if("string"!=typeof t||e.settings.mainLineIsImmutable)return null;if(""===t)return(0,p.selectLineStart)(e),(0,m.loadFromTcn)(e,"",e.setup.fen);var v=(0,o.default)({},e.tree.selected),h=(0,d.getTcn)(e),g=t,_=e.history.length-1;if(!(h.includes(g)||g.includes(h)||(h=(0,c.fixTcn)(e,h),g=(0,c.fixTcn)(e,g),h.includes(g)||g.includes(h))))return(0,m.loadFromTcn)(e,g);if(g.length<h.length)(0,l.selectNode)(e,{line:0,move:g.length/2-1}),(0,f.deleteRemainingNodes)(e);else{if(!(g.length>h.length))return e;(0,l.selectNode)(e,{line:0,move:h.length/2-1});var b=void 0;if(g.slice(h.length).match(/.{2}/g).forEach(function(t){b=r.default.decodeTCN(t)[0],"Crazyhouse"!==e.variant&&"Bughouse"!==e.variant||!b.drop||(0,u.setHand)(e,e.setup.sideToMove,b.drop),(0,s.makeMove)(e,b,!0)}),e.history.slice(_+1).some(function(e){return e&&e.type===a.Events.ILLEGAL_MOVE}))return(0,l.selectNode)(e,v),(0,f.deleteRemainingNodes)(e),e.history=e.history.slice(0,_),mergeTcn(e,(0,c.fixTcn)(e,g))}if(n)return(0,l.selectNode)(e,e.tree.selected,-1);if(v.line!==e.tree.selected.line||v.move!==e.tree.selected.move){var E=i.Line.getNode(e.jce._lines(),v)?v:e.tree.selected;return(0,l.selectNode)(e,E)}return e}},149:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.fixTcn=void 0;var o=n(62),r=n(40),a=n(41),i=n(17);t.fixTcn=function(e,t){var n=(0,o.createGame)({variant:e.variant,fen:i.Utils.getFirstFen(e)});return(0,a.loadFromTcn)(n,t,n.setup.fen),(0,r.getTcn)(n)}},15:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(47)),r=_interopRequireDefault(n(11)),a=_interopRequireDefault(n(74));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=function(){"use strict";var e=function(){var e=[[2637767806,863464769],[720845184,95069639],[1155203408,610415943],[2618685246,1655139042],[1971536997,1218186377],[848342074,540017087],[263957791,1627660921],[3896152207,4076560586],[226391645,1484086288],[436746274,3467632685],[2516964848,3797861296],[3491888988,3510251221],[1086189917,1248276018],[18044180,1876255637],[1572111136,1190386149],[597658413,2146900428],[97624494,2243205793],[1738507407,1854916977],[1950989311,2149575947],[2098318769,3283594736],[2194108574,2015279052],[4079062812,2500884588],[856979699,2941369318],[1270058469,3877737539],[2858720366,3170717948],[2378012835,1387254795],[2278688587,2178388503],[435406673,3555273441],[3031118064,1655806655],[2063925420,1107589828],[3376753832,436852829],[615148625,1302492416],[1285502018,1963045959],[346460119,1016137793],[2803604355,1176288659],[55085973,2968618255],[1669016372,4287873088],[164740250,1037634196],[896886403,883023163],[1935551383,2764331555],[410153072,4055711755],[533441746,1505690343],[3541084098,3466290517],[3214426080,4267541060],[2675233103,1951705124],[1374411850,3115986997],[1552073989,3684348154],[4244110986,875606593],[844343081,3115990494],[2356462440,135999605],[3116133511,377238503],[2129956651,2197966368],[299173332,3276914047],[1701379241,745972291],[1306570996,254977976],[2530644806,214138461],[1122123979,1667800879],[1831591130,3801192033],[1116211970,920967505],[1594837592,2551651254],[972591349,2046373768],[2479207924,1935030411],[1675376029,2367888248],[3960916618,3935874422],[1398143232,3265801671],[133930885,1520005442],[1351827834,2829577566],[2076951437,2723839804],[435980918,2364847828],[1668970368,3738157273],[2185864314,3993911799],[2041407829,31969768],[346864372,2004703094],[4047877822,3437142421],[3669961416,538399484],[616810829,4190688246],[3144558884,4030272234],[216165387,2513010905],[2761740594,3216997572],[3919406634,4096014649],[669429112,2434161727],[2234904640,3111407601],[1421079802,1598085235],[1924213810,310373675],[4002762044,2067865415],[2592451728,2586110625],[1890340057,4031717877],[4189625662,2577429954],[2276713138,3049850801],[2741429688,3310307512],[2924122950,3426712818],[421576781,1193704381],[2277442246,3030264553],[153237420,595540057],[4278711886,4176286928],[2380848297,4030514510],[2618700582,1303682185],[3018992701,185284845],[957243316,1291916363],[1543415220,1898408169],[504378001,531073412],[2591337657,1692896435],[1333852064,903543556],[1661259930,188168388],[561112646,2197961224],[1536910315,2632972300],[1349168372,2307429186],[411152329,2745631190],[1694697476,1081411140],[3755185459,2631660711],[4019355068,4027326706],[2066937809,3761668332],[3120395808,3878773315],[94890149,2109283191],[3045629038,358812277],[1249184265,3465901047],[3477490924,2308583306],[4114113436,3875911716],[1014604031,1434513279],[3991324799,2222416029],[2040431088,1539915569],[2253613964,4081224332],[2547464012,1611168627],[2722521980,4281500978],[71289574,213969824],[2450408597,903689630],[1894451515,364024012],[1939968537,374938813],[1447259295,3785468557],[4021046128,1664847745],[3139524504,3562928047],[1173487682,4065269608],[2467266804,3907744866],[4284945151,3486998177],[2925674454,1953016432],[3710671816,1271453948],[2129465869,1422863833],[587093076,18243356],[3373793513,2411305257],[2156648078,1791034213],[3737413652,1534461430],[468575139,2935304962],[1129551363,3603256834],[2861996892,1763494778],[2826449619,2465197654],[1704209531,1014895022],[3738359347,3402630390],[569410928,4095796581],[3021312909,2108247612],[2444777957,2664129360],[282063667,3773661258],[682545472,3188439005],[3318488457,1917822038],[1447622272,4045023041],[757420137,4038580915],[2613420942,4146703316],[4012836163,150381244],[2938127093,3428591704],[1208226490,3086335530],[2935205706,1446903363],[430957978,3830532479],[1381578755,3757172800],[4109399782,1596778224],[288855589,1954372339],[3169178148,2256716053],[2644780093,3895892303],[107966643,1071681559],[1304747544,2607225372],[1359190711,1898207171],[3229237120,3273634996],[3027167685,3863637628],[3011615298,2883984519],[564135827,978463264],[770797430,362326607],[1983662611,1907583229],[4153656423,48268960],[3609759233,720080177],[3727911466,1270989899],[200708787,2366086947],[744508026,393422515],[1213261630,65757284],[3485747185,3845951003],[2958861301,1680248217],[2598470344,3163845864],[2767997908,4233451722],[3881113485,1492930166],[1773764017,2764062206],[4189435844,2898689174],[4234838742,1267095035],[2624081078,3302114327],[2395569449,390426320],[1728307101,690284926],[3309827454,1118258254],[2028172868,3888829086],[4271523049,909051386],[146617804,942892565],[2467685867,974297806],[2483428231,503635829],[3743260573,2018222096],[1002067894,2289153437],[3535252974,3738302271],[4154611160,1002664952],[3623154244,2349656961],[3646679180,3524329383],[862933752,4282853607],[2806008282,3272780913],[2734037942,3828874677],[1328176304,2137666995],[2278785213,2780788825],[381286368,1816476193],[2074232908,2316293454],[4087773386,3651330956],[967884669,3728964514],[4239349185,3213509668],[419231360,1463788948],[1275421624,2672384707],[1088456595,436245261],[2365565249,783696577],[1758083333,845223583],[2048846183,3530914274],[2635948261,124738415],[940630937,3069598626],[839474029,1253439921],[902477345,165479306],[2836079689,2681188273],[2007115168,2093139645],[1363041891,1282466609],[1130479818,1063857938],[3644959908,1260430427],[1385135238,46497915],[1386975934,3110156681],[2635987502,4233461619],[1915744629,4117939016],[487743653,285736599],[2049219159,3960249250],[69242857,3908563670],[1511066720,1488527520],[215590039,1703564952],[1459430344,4184955468],[676103291,2642967214],[83799035,3182827979],[1949179493,476101251],[2593534694,1493478716],[2283504289,995211746],[1349412676,3449243940],[2954378677,1878813305],[249149717,3329151870],[1578231917,1483986052],[4135085182,890874990],[461755528,3505523909],[3669622373,634949665],[219487622,2914465301],[2825233742,3703631897],[2479105382,2935590907],[2582097898,3187672881],[1221328648,1843341402],[2140891889,3958868911],[1482849818,345750049],[751922730,3178831411],[3546542069,4036458902],[216179596,877293293],[444615341,3117393729],[2424254530,494454238],[1344234989,3003337991],[929188581,2760877801],[2507911009,1879899982],[980166547,1311840394],[3566535507,1790747461],[143525013,2311336672],[4181962471,4273938872],[1815842366,862009811],[911175674,1179575598],[3591335374,3694215714],[1452686093,3393294272],[385158879,2447709103],[4011414929,1264623507],[1448477120,911094312],[3971299641,2289992053],[3133647265,2234591563],[3007628400,964409938],[1708345684,3673411261],[3031964479,2843021794],[3022128657,2480338599],[118850112,473449293],[2048127371,3202109429],[3158349745,382018770],[1505327237,3807570472],[2568424029,3272693060],[1866609495,3888556537],[844703982,1852802964],[3504617058,682636099],[1448882679,3733580327],[821387540,2215744532],[3631471417,311618895],[2077838877,2383929020],[3352949096,1688694420],[2491080787,3998672444],[3368630402,4182204255],[983299419,2837414346],[3651215291,1033373924],[265429091,3988955082],[3019003608,2896212153],[2955948456,3025235588],[903690197,2266253487],[3925215275,89402958],[3959093811,3609545561],[2455088053,223552128],[3115011301,2133669107],[1765081558,673805649],[3324795129,2111392191],[3443871631,432345706],[3152559950,3425427147],[3699649406,672784944],[3129545774,7668664],[2747044893,173040075],[3925243406,852328481],[164095314,3161868591],[2234471571,1302682825],[2164784335,105893718],[159995093,536831360],[599199451,425051327],[3274759746,1680930461],[1192619331,3903085578],[2832721114,3078660237],[91404660,4030521531],[3044880024,1578375623],[3906596030,754177855],[803516785,1894094672],[288455592,2030430096],[2143232492,2317305324],[388352703,3406060288],[2521731420,3588403719],[1043041227,4028028525],[3195290851,2468913324],[4166724431,3168683191],[1228226538,968516529],[500177583,3444787306],[533367442,4252082053],[4236023256,657816314],[413575568,3367198397],[3435884549,3334062733],[1004255532,1135705894],[2859513268,4170618274],[3914086821,1251487871],[3080761716,3489067886],[3571165255,699353261],[773372954,3648014952],[769693293,2939128604],[3116440923,507748478],[1687629160,3739431776],[2489486648,3502376324],[3686847158,2878383449],[3530767427,902211375],[2121652637,2493976397],[1827477891,930064171],[2549918411,4029725732],[2071415163,844118802],[2236083679,3088894868],[2040110303,4144562891],[3489536313,1133419300],[2190878435,2301466071],[2465915458,2448602097],[1675766804,2073834499],[3329799896,1613253148],[1483966600,1348836071],[159505618,2527621997],[2674227354,1695130688],[2683539437,1927873839],[3833196123,2570082188],[3891433165,759819981],[1455453349,2179602430],[1430583255,1957776111],[2067726741,4235143439],[303380021,2998980439],[2136024795,3126725799],[2054591852,1051702291],[1029141665,489794361],[2317027384,569642164],[2068461795,624418658],[2499875684,1830645251],[1302894490,4319401],[1002663431,2406815191],[1560941298,2060652753],[2141002286,515773223],[3661248027,475092913],[3705503008,2419919909],[914567990,3496539911],[3462935583,2039034761],[2878378006,2379243316],[1133857586,1390159333],[3023618742,2140726761],[282908558,944874642],[3686955701,1148723903],[2604456805,4163675010],[3061545110,377179268],[3218002352,76459088],[2836503392,916455101],[536836808,151306053],[2886925079,404221671],[2936593041,2011015485],[453815187,1852163908],[3042568989,82176306],[3279635891,4174836410],[3282689058,2360003049],[4088968807,1516570623],[2680453086,1322680794],[1731693966,3438253771],[1842894553,1294307894],[2736377365,2964642609],[121205621,521330014],[2324595870,3005710757],[3784465521,676493813],[1958759409,2030833406],[1306150933,1016370058],[2636541290,482366508],[1950415745,1695073534],[322077955,3746046623],[3602873262,3829181504],[1211684447,1861645455],[504701736,4080111082],[2407799203,1223857855],[1925743434,1498920209],[3617596327,845198428],[2498480299,3484773806],[2680229135,2560201696],[3731399221,1536412390],[2756509305,2924710846],[2635957500,3459716133],[1372762539,769635894],[802677945,3878474636],[1707760534,3075809808],[3714687192,2872792173],[1615679922,1606381794],[1940556374,1337437342],[445390489,731124040],[2864974375,64601760],[1984806574,2141516710],[513390958,1890172555],[744398315,1475299139],[982749166,852662657],[652663695,4260736510],[1184061125,82616221],[3363191899,147951756],[1064069880,1507328085],[2138882964,547595589],[2616926846,3186935246],[2298715513,3606862940],[2414381911,811477686],[2694745228,900437726],[4202576185,2201114451],[3602305260,3323446937],[3756663274,2658490339],[3061587876,2171079416],[3390977925,2850497765],[486312941,224925241],[3515712841,3510684394],[1322319486,2647200565],[3839619171,1148450258],[392296762,1154854654],[1401523788,957405781],[1934485528,527352730],[645968162,3131215255],[696971825,3361451947],[2038689491,1946699733],[1723966113,2785859721],[2652365974,1118037185],[3988018407,3134982149],[1354171594,3053634345],[1287854075,2631782435],[1723106141,2662328866],[563845090,1878819261],[639520332,171129501],[534957223,1696062352],[3612364282,2283204027],[3109494688,1304463816],[500957989,630925278],[3477030536,2149497258],[4109750364,281719363],[951472732,564407054],[922095147,2767874048],[3946156928,829677774],[2622281253,2086286851],[2936811901,850242186],[630086272,3340782667],[2340986210,1296336989],[4107355543,3865114709],[3560210278,3968418243],[3868847493,2967450637],[611513888,2083325060],[3265390517,3025776309],[2874106961,3424470508],[1668707698,2923258228],[2778598353,24320552],[292356118,3415510793],[754567370,86994591],[185141877,1621715171],[2884558258,3722473457],[1492107531,111281805],[3336927864,4225337056],[782994598,1021838039],[346133860,18281270],[2080909533,1649329040],[3612065399,3859901127],[2151962287,284556115],[3957975594,3745718727],[52533817,3998775856],[1232633839,397383972],[2716413964,3629253960],[1531307298,3836851439],[3030137657,2500401718],[3561556693,653345841],[313061910,2945718466],[2065276,3342140708],[410498334,1470588117],[2726640512,4051654894],[2570984935,758567696],[3008987264,3462702678],[623860175,228525243],[3527183895,1829844480],[467272850,3890501742],[568376656,650516927],[990477018,4035508558],[2366955227,817792110],[4183621538,989198068],[946958343,1639184195],[3395758993,3924097558],[1690887473,3220519765],[605184237,1255270525],[275515833,1926424610],[2142902612,283494960],[2021972412,1823828440],[105373677,3448326697],[1666662384,1042433908],[1338566998,261206307],[498685668,1344755577],[3101233780,3119109371],[2733370951,3808165089],[3656512268,3449289481],[4025308119,1607880299],[778896067,1612183167],[2846510368,3674754715],[3058428120,2991822529],[1892379383,3268787440],[2565895844,4154602030],[3213117192,98999135],[2495816991,116985075],[1040203361,1785041385],[3106252493,69316595],[1639829808,2087117568],[3213709576,3799911752],[604681594,2340981536],[4236730699,2938666503],[4009938384,1878897714],[2701667332,1725918218],[2182473079,1258184],[3550198211,2760750799],[657991062,875584532],[1640976276,3380476221],[460041378,2924352091],[1972323596,2287414795],[2510248061,1350206297],[2959337826,3762681165],[1625877874,3235902929],[2070189957,1429368735],[4245163299,1839731898],[2358312347,138364248],[275739390,2179122576],[2037777210,972544338],[2766930226,1984733259],[1933485829,4209310327],[3034118011,3286589799],[2653025529,62078937],[2641780289,2679545709],[3540781195,2787026415],[1569993599,3215949659],[441337890,3947723353],[1878946792,459505587],[3724105660,920173002],[1691411102,3934795955],[148741087,3647709027],[142506469,2776440083],[3811107376,3823285243],[472209891,252266174],[1913386482,1867329194],[2960608550,482740699],[1145005292,1513558421],[1091751784,1687823886],[3625186042,3086337482],[1712140887,940065262],[1504455800,1945702563],[3896940088,2003245591],[2478191531,4197739e3],[3233871270,250924495],[3404865229,1131917964],[1462204167,429621621],[1349259705,3641608989],[3627860584,2048468319],[1244251718,1513180369],[3979211282,371413143],[3043187861,4285699810],[581894202,3060983825],[1390895705,1811317301],[2599134010,3337406128],[2488233440,2436161462],[1816641224,2208816697],[1792034756,815866116],[2779893723,2695577703],[2084952115,2951772258],[1351806869,169269771],[2469979804,86740603],[1163545420,4264616949],[1795352113,2511146232],[1796715044,3134635815],[3521170642,1538900329],[3725363621,1455009392],[1342594643,1512127734],[2618386938,662157428],[2028859350,2494504685],[1841905045,648351336],[4002935891,4033319405],[850071259,1768358867],[979915719,3876018087],[830889197,1629549437],[1744763229,2455795856],[522919199,368499868],[3063822504,2522639205],[2861636095,407686388],[4097602344,1945259027],[4215946617,1251639506],[894485042,534122652],[924809191,1807237502],[1811585710,1589663609],[3439653887,1722232],[3810997538,105152714],[2677100683,4291805514],[77233985,102407776],[4239834691,2851274395],[148802076,2006440603],[2409138150,126301601],[3048474397,3217504870],[588133437,4221603123],[1139638106,263087485],[982032635,3165674595],[562514827,1294842959],[467575086,905357513],[1405117894,3370530088],[3813285157,242912619],[3601878331,1985076606],[1586505598,2092146221],[738488098,103663229],[2970334297,321718822],[1068097019,1742926233],[235518094,420804527],[283685722,4092504887],[2666392744,3799169331],[3569817788,1256762975],[2169728352,292617248],[2444571896,2239859206],[3967907832,1066404216],[420376911,2913277294],[3046293305,2956347747],[2311278792,2477686209],[2885955184,4172514290],[3030078181,2275536480],[4212469731,4280736393],[1046900335,1773022229],[995380926,1414273529],[3892683234,2429494358],[615726237,2127712535],[3880203074,2071130305],[176180504,3070850165],[1474506861,2283723599],[1256707747,1857412043],[764236850,359687368],[3521530334,511649419],[2318567964,3992868140],[128167623,2518992858],[2220129756,1042300052],[2567608573,1349636707],[441446694,384760969],[4143447316,829506048],[817912603,2738025500],[2368091832,357934982],[1187643061,1561463042],[3438021235,3030161697],[1318922279,895468690],[434876457,1130220303],[1180291767,1132759596],[2520707785,1798553137],[1962430872,2958700157],[1510954061,3534879512],[57831539,3269538993],[3354831405,3852135009],[891783098,2698494511],[2555636406,996018997],[2881342935,3982231648],[3473267445,2894952368],[1238029452,3958679326],[2051805420,559465638],[3655936674,1186951582],[330209165,167662935],[1929681327,2450868735],[1313566811,2458925988],[4283920930,3243182650],[1438004300,4185567150],[3093439067,89876832],[3401620219,3721579956],[3673745794,2682874719],[3053321309,825410712],[822915968,3681514755],[3900685126,561657358],[553823814,1857753416],[4166295066,983949325],[128359165,3426887194],[3300989119,3884968622],[4193552686,3647722552],[452189154,1569670618],[4122259632,3537825460],[2519387887,2821594244],[74333898,2940550377],[4032631446,2173999692],[2521268686,1934310532],[2620314688,2177785789],[1378755571,2455646622],[394133753,4231198609],[734399075,2800989170],[573292462,1634883078],[1214417373,3426576256],[2110224475,2399009920],[2331215665,3224086912],[531326186,698539511],[3839443603,583861850],[2644531398,2017784332],[616620850,3070237104],[590349237,2798642861],[3582377217,3317831670],[1582708616,1596570667],[2126148205,2358511947],[173450736,3219362418],[3616831144,1323437318],[2655785577,3131359031],[401600069,2967397952],[496349349,4244179910],[2479612086,2579650653],[1710903074,2049666425],[3589924952,690291925],[3266682943,1900485231],[1496318498,3025542656],[3459221058,3389461212],[2091479615,3140389256],[663040899,1207089672],[3323704225,1105530508],[353318429,2879253542],[2674540957,941987316],[1688550857,620657353],[338551967,4286217277],[204689992,2239736295],[178008789,3940832005],[3871613304,3300636974],[1911672356,2429684487],[4055679954,1974461722],[3878217928,1009991796],[2533095482,310920740],[2174833823,3596041637],[1604814460,2939543881],[1452830254,4092397851],[2441027029,4169690209],[3524103304,3372213855]],t=[[836181454,1689436944],[2776523577,3710710688],[4049974663,3750330768],[519497435,2979405513]],n=[[1892447193,197291556],[3793382197,3742120663],[3838936,2994760034],[479846099,1018728609],[3476112862,182272649],[3504620154,1427438450],[2009473484,2679350403],[1738755500,1129731339]],o=[4174784170,2938602761],r={p:0,P:1,n:2,N:3,b:4,B:5,r:6,R:7,q:8,Q:9,k:10,K:11},a=[];a[5]=1,a[6]=0,a[9]=3,a[10]=2,a[17]=5,a[18]=4,a[33]=7,a[34]=6,a[65]=9,a[66]=8,a[129]=11,a[130]=10;var i,s=[2,5,10,20,40,80,160,64],l="nbrq",u=["","0000000","000000","00000","0000","000","00","0",""],c=16;function to32BitHex(e){var t=e.toString(16);return u[t.length]+t}function to64BitHex(e){return to32BitHex(e[0])+to32BitHex(e[1])}function hash(a,i){var l,u,c,d,f,m,p,v,h,g,_,b,E=a.split(" "),O=E[0].split("/"),y="w"===E[1],A=0,N=Number(y),T=N?3:4;for(c=7;c>=0;c-=1)for(d=0,p=(f=O[c]).length,m=0;m<p;m+=1)v=f[m],(_=r[v])>=0&&(l=(l^(h=e[64*_+8*(7-c)+d])[0])>>>0,u=(u^h[1])>>>0,_===N&&c===T&&(A|=1<<d)),d+=Number(v)||1;return"-"!==E[2]&&((g=E[2]).indexOf("K")>-1&&(l=(l^(h=t[0])[0])>>>0,u=(u^h[1])>>>0),g.indexOf("Q")>-1&&(l=(l^(h=t[2])[0])>>>0,u=(u^h[1])>>>0),g.indexOf("k")>-1&&(l=(l^(h=t[1])[0])>>>0,u=(u^h[1])>>>0),g.indexOf("q")>-1&&(l=(l^(h=t[3])[0])>>>0,u=(u^h[1])>>>0)),E[3]&&"-"!==E[3]&&(b=E[3].charCodeAt(0)-97,s[b]&A&&(l=(l^(h=n[b])[0])>>>0,u=(u^h[1])>>>0)),y&&(l=(l^o[0])>>>0,u=(u^o[1])>>>0),i&&"hex"===i?to64BitHex([l,u]):[l,u]}function wrap(e){var t,n,o,r,a={};function parseBook(e,t){var o,r,a,i,s,u,c=n.getUint16(e+8),d=n.getUint16(e+10);return r=c>>9&7,i=c>>3&7,s=7&c,u=c>>12&7,4===(a=c>>6&7)&&t&&r===i&&"-"!==t&&(7===s&&(0===r&&t.indexOf("K")>-1||7===r&&t.indexOf("k")>-1)?s-=1:0===s&&(0===r&&t.indexOf("Q")>-1||7===r&&t.indexOf("q")>-1)&&(s+=2)),o=String.fromCharCode(a+97)+(r+1)+String.fromCharCode(s+97)+(i+1),u&&(o+=l[u-1]),{move:o,weight:d}}function query(e){return"string"==typeof e&&(e={fen:e}),t(e)}if(a={query:query,pick:function(e){var t,n,o,r,a,i=0;if(function(e){e.sort(function(e,t){return t.weight-e.weight})}(t=(e=e||{}).moves||query(e)),o=t.length){if(e.type&&1!==o&&"best"!==e.type){if("random"===e.type){for(r=Math.floor(Math.random()*t.sum)+1,a=0;a<o-1&&!(r<=(i+=t[a].weight));a+=1);return t[a].move}return"randomDisregardWeight"===e.type?t[Math.floor(Math.random()*o)].move:"worst"===e.type?t[o-1].move:((n=parseInt(e.type)||1)<0&&(n=o+n+1),n<1?n=1:n>o&&(n=o),t[n-1].move)}return t[0].move}}},e.getUint32)t=function(e){var t,o,r,a,i,s,l=n.length||n.byteLength||0,u=e.offset||0,d=e.fen,f=e.chess960,m=e.checkAll,p=[],v=0;for(e.hash?"string"==typeof(t=e.hash)&&(s=t,t=[parseInt(s.substr(0,8),16),parseInt(s.substr(8),16)]):t=hash(d),!f&&d&&(i=d.split(" ")[2]),u=0;u<l;u+=c)if(n.getUint32(u)===t[0]&&n.getUint32(u+4)===t[1])r=parseBook(u,i),p[p.length]=r,v+=r.weight,o=!0;else if(o&&!m)break;if(p.sum=v,e.relative)for(a=p.length-1;a>=0;a-=1)p[a].relative=Math.round(p[a].weight/v*1e4);return p},n=e,a.buffer=n;else for(r in t=function(e){var t,n,r,i,s,l,u=0,c=e.fen;if(a.useFen)r=c.replace(/ \d+ \d+$/,""),(t=o[r])||(i=r.replace(/[a-h][1-8]$/,"-"))!==r&&(t=o[i]);else if(e.hash||(e.hash=hash(c,"hex")),t=o[e.hash]){if(t[0]&&t[0].n&&(t=t[0]),t.n&&!t.b)return[];if(t.b)t=function(e){var t,n=[],o=e.b.length;for(t=0;t<o;++t)n.push({move:e.b[t],weight:e.w[t]});return n}(t);else if(!e.chess960&&c)for(l=c.split(" ")[2],n=t.length-1;n>=0;n-=1)(s=t[n].move.match(/e([18])([ah])\1/))&&("h"===s[2]&&("1"===s[1]&&l.indexOf("K")>-1||"8"===s[1]&&l.indexOf("k")>-1)?t[n]={move:"e"+s[1]+"g"+s[1],weight:t[n].weight}:"a"===s[2]&&("1"===s[1]&&l.indexOf("Q")>-1||"8"===s[1]&&l.indexOf("q")>-1)&&(t[n]={move:"e"+s[1]+"c"+s[1],weight:t[n].weight}))}if(t)for(n=t.length-1;n>=0;n-=1)u+=Number(t[n].weight);else t=[];return t.sum=u,t},o=e,a.json=o,o){a.useFen=r.indexOf(" ")>-1;break}return a}function getBook(e,t){!function(e,t){var n=new XMLHttpRequest,o=e.toLowerCase().indexOf(".json")>-1;function onload(){var e;if(n.status>=200&&n.status<300||304===n.status||0===n.status||1223===n.status)if(o)try{t(null,JSON.parse(n.response))}catch(e){t(e)}else e=new DataView(n.response),t(null,e);else t(new Error("Error code: "+n.status))}n.open("GET",e,!0),o||(n.responseType="arraybuffer"),n.onload=onload,n.onerror=onload,n.send()}(e,function(e,n){var o;if(n&&(o=wrap(n)),t)return t(e,o);if(e)throw e;return o})}return{hash:hash,loadBook:(i={},function(e,t){i[e]?i[e].book?setTimeout(function(){t(null,i[e].book)},0):i[e].cbs.push(t):(i[e]={cbs:[t]},getBook(e,function(t,n){var o=i[e].cbs;t?delete i[e]:(i[e].book=n,i[e].cbs=void 0),o.forEach(function(e){setTimeout(function(){e(t,n)},0)})}))}),to64BitHex:to64BitHex,zobristPiece:e,zobristCastle:t,zobristEnPassant:n,zobristTurn:o,zobristPieceValue:r,zobristPieceValueNumbers:a}}(),t=function(){var t,n,o,i,s={Chess:0,Chess960:1,Crazyhouse:2,"3-check":3,"King of the Hill":4,Bughouse:5,chess960:1,Fischerandom:1,fischerandom:1,crazyhouse:2,"three-check":3,kingofthehill:4,koth:4,bughouse:5},l=["Chess","Chess960","Crazyhouse","3-check","King of the Hill","Bughouse"],u={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0,m=0,p=0,v=-1,h=1,g=2,_=4,b=8,E=16,O=32,y=64,A=128,N=3,T=252,M=255,S=256,C=512,P=112,L=1,R=2,I=4,w=3,D=7,k=14,B=21,j=127,H="pnbrqkPNBRQK",F="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",x=[];x[5]=[-16,-17,-15],x[6]=[16,17,15],x[8]=[-18,-33,-31,-14,18,33,31,14],x[16]=[-17,-15,17,15],x[32]=[-16,1,16,-1],x[64]=[-17,-16,-15,1,17,16,15,-1],x[128]=[-17,-16,-15,1,17,16,15,-1];var G={P:5,p:6,N:9,n:10,B:17,b:18,R:33,r:34,Q:65,q:66,K:129,k:130},V={P:4,p:4,N:8,n:8,B:16,b:16,R:32,r:32,Q:64,q:64,K:128,k:128},U={5:"P",6:"p",9:"N",10:"n",17:"B",18:"b",33:"R",34:"r",65:"Q",66:"q",129:"K",130:"k"},q={9:"N",10:"N",17:"B",18:"B",33:"R",34:"R",65:"Q",66:"Q",129:"K",130:"K"},$=[80,0,0,0,0,0,0,96,0,0,0,0,0,0,80,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,96,96,96,96,96,96,224,0,224,96,96,96,96,96,96,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,80,0,0,0,0,0,0,96,0,0,0,0,0,0,80],z=[336,80,80,0,0,0,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,360,508,252,0,252,508,360,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,0,0,0,80,80,336],W=[336,80,80,0,0,0,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,360,508,252,0,252,508,488,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,96,0,0,80,80,336],K=[336,80,80,0,0,96,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,488,508,252,0,252,508,360,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,0,0,0,80,80,336],Y=[336,80,80,0,0,96,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,488,508,252,0,252,508,488,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,96,0,0,80,80,336],Q=[336,80,80,112,112,112,96,352,96,96,112,112,112,80,336,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,352,352,480,480,488,508,252,0,252,508,488,480,480,480,352,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,336,80,80,112,112,112,96,352,96,96,112,112,112,80,336],J=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,33,16,31,15,0,0,0,0,0,0,0,0,0,0,0,18,17,16,15,14,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,-14,-15,-16,-17,-18,0,0,0,0,0,0,0,0,0,0,0,-15,-31,-16,-33,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Z=[0,5,8,11,14],X=[31,7,7,7,63],ee={P:0,p:0,N:5,n:5,B:8,b:8,R:11,r:11,Q:14,q:14},te=[_,b,E,O,y],ne=["","N","B","R","Q"],oe={CAPTURE:1,BIG_PAWN:2,EP_CAPTURE:4,ANY_CAPTURE:5,PROMOTION:8,KSIDE_CASTLE:16,QSIDE_CASTLE:32,KQSIDE_CASTLE:48,DROP:64,DROP_OR_PROMOTE:72},re=[0,6,1],ae={K:119,Q:112,k:7,q:0,A:112,B:113,C:114,D:115,E:116,F:117,G:118,H:119,a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},ie=["Event","Site","Date","Round","White","Black","Result"],se=["Event","Site","Date","Round","White","Black","Result","Variant","SetUp","FEN","WhiteA","WhiteB","BlackA","BlackB"];function rank(e){return e>>4}function file(e){return 7&e}function algebraic(e){return String.fromCharCode(file(e)+97)+(8-rank(e))}function swapColor(e){return 3-e}function hashNum(e,t){e[0]=(e[0]^t[0])>>>0,e[1]=(e[1]^t[1])>>>0}function completeFen(e){var t,n;return(t=[""," w - - 0 1"," - - 0 1"," - 0 1"," 0 1"," 1"][(n=(e=e.trim()).split(" ")).length])&&e?e+=t:"0"===n[5]&&(n[5]=1,e=n.join(" ")),e}function createVariantZobristNumbers(){e.zobristCheck=[[441249556,340005552],[1040760204,311043682],[1621584863,1749286446],[1006868636,1625552915],[1953853171,24921145],[161251506,1935545265]]}function validateFen(e,t){var n,o,r,a,i,l,u,c,d,f,m,p,v,h,g,_,b,E,O,y,A=/^(?:[A-H]{1,2}[a-h]{0,2}|[A-H]{0,2}[a-h]{1,2}|KQ?k?q?|Qk?q?|kq?|q|-)$/,N=1*t===s.Crazyhouse||s[t]===s.Crazyhouse||1*t===s.Bughouse||s[t]===s.Bughouse,T=0,M=0,S=!0,C="",P={0:0,7:0},L={0:0,7:0},R={0:"k",7:"K"},I={0:"r",7:"R"},w=1*t===s.Chess960||s[t]===s.Chess960;if(!e)return 1;if((1*t===s.Bughouse||s[t]===s.Bughouse)&&2===(i=e.split(" | ")).length)return 0===(l=validateFen(i[0],t))&&(l=validateFen(i[1],t)),l;if(i=e.split(/\s+/),(1*t===s["3-check"]||s[t]===s["3-check"])&&7===i.length&&(a=i.pop(),!/^\+[0-3]\+[0-3]$/.test(a)||"+3+3"===a))return 14;if(6!==i.length)return 1;if(/\D|.{7,}|^0|^$/.test(i[5]))return 2;if(/\D|.{7,}|^0.|^$/.test(i[4]))return 3;if(!/^(?:-|[abcdefgh][36])$/.test(i[3]))return 4;if(f=i[2],w){if(!A.test(f))return 12}else if(!/^(?:KQ?k?q?|Qk?q?|kq?|q|-)$/.test(f)){if(void 0!==t||!A.test(f))return 5;w=!0}if("w"!==i[1]&&"b"!==i[1])return 6;if(N&&(i[0]=i[0].replace(/~(?=.*\/)/g,"")),o=i[0].split("/"),N&&9===o.length&&(a=o.pop(),!/^[pnbrq]{0,63}$/i.test(a)))return 13;if(8!==o.length)return 7;if("3"===i[3][1]&&"w"===i[1]||"6"===i[3][1]&&"b"===i[1])return 11;for("-"!==i[3]&&(u=4===(M="3"===i[3][1]?4:3)?5:2,T=i[3].charCodeAt(0)-97,S=!1,C=4===M?"P":"p"),n=0;n<o.length;++n){for(E=0,O=!1,y=0;y<o[n].length;y++)if(+(r=o[n][y])==+r){if(O)return 8;E+=1*r,O=!0}else{if(-1===H.indexOf(r))return 9;if(S||M!==n||T!==E||C!==r||(S=!0),u===n&&T===E)return 11;n%7==0&&(r===R[n]?L[n]=1<<E:r===I[n]&&(P[n]|=1<<E)),++E,O=!1}if(8!==E)return 10}if(!S)return 11;if("-"!==f)if(w)for(p={0:0,1:0,2:252,4:248,8:240,16:224,32:192,64:128,128:0},m={0:0,1:0,2:1,4:3,8:7,16:15,32:31,64:63,128:0},b={0:[0,0],7:[0,0]},n=f.length-1;n>=0;--n){if(g=f.charCodeAt(n),_&&_>g&&_-g<8)return 15;if(75===g?v=P[h=7]&p[L[h]]:81===g?v=P[h=7]&m[L[h]]:107===g?v=P[h=0]&p[L[h]]:113===g?v=P[h=0]&m[L[h]]:(v=1<<g-((h=g>=97?0:7)?65:97),_=g),!v||0!=(v&v-1))return 15;if(L[h]<2||L[h]>64||(v&P[h])!==v)return 15;if(++b[h][1*(L[h]<v)]>1)return 15}else{if((c=(f.indexOf("K")>-1?128:0)|(f.indexOf("Q")>-1?1:0))&&(16!==L[7]||(c&P[7])!==c))return 15;if((d=(f.indexOf("k")>-1?128:0)|(f.indexOf("q")>-1?1:0))&&(16!==L[0]||(d&P[0])!==d))return 15}return 0}function handToString(e,t){var n,o,r="",a=0,i=t?6:0;if(e)for(;a<5;){for(n=e>>Z[a]&X[a],o=0;o<n;++o)r+=H[a+i];++a}return r}function hashEP(t,n,o,r){t[o+1]!==r&&t[o-1]!==r||hashNum(n,e.zobristEnPassant[file(o)])}function addPawnMove(e,t,o){var r;(0===n||c[t]&R)&&(rank(t)%7==0?(r=o|oe.PROMOTION|e<<D|t<<k,d[m++]=r|4<<B,d[m++]=r|3<<B,d[m++]=r|2<<B,d[m++]=r|1<<B):d[m++]=o|e<<D|t<<k)}function kingOfTheHillWin(e){switch(e){case 67:case 68:case 51:case 52:return!0}return!1}function canCastle960(e,t,n,o){var r,a,i,s=t+(n-t%8),l=n>t%8?1:-1;for(i=t+l;i!==s;i+=l)if(e[i])return!1;if(a=(r=o===h?1===l?118:114:1===l?6:2)-l,c[r]||e[r]&&r!==t&&r!==s||e[a]&&a!==t&&a!==s)return!1;if(r!==t)for(i=t+(l=r>t?1:-1);i!==r;i+=l)if(i!==s&&e[i]||c[i])return!1;return!0}var le=function(){function createHeader(e,t){return"["+e+' "'+String(t).replace(/(\"|\\)/g,"\\$1")+'"]'}return function(e,t,n,o,r,a){var i,l,u,c,d,f="string"==typeof e.newline?e.newline:"\n",m=void 0===e.spaceAfterPeriods||e.spaceAfterPeriods,p="";for(i in p+=createHeader("Event",t.Event)+f,p+=createHeader("Site",t.Site)+f,p+=createHeader("Date",t.Date)+f,p+=createHeader("Round",t.Round)+f,r===s.Bughouse?(p+=createHeader("WhiteA",t.WhiteA||"?")+f,p+=createHeader("BlackA",t.BlackA||"?")+f,p+=createHeader("WhiteB",t.WhiteB||"?")+f,p+=createHeader("BlackB",t.BlackB||"?")+f):(p+=createHeader("White",t.White)+f,p+=createHeader("Black",t.Black)+f),p+=createHeader("Result",t.Result)+f,r&&(p+=createHeader("Variant",t.Variant)+f),t.FEN&&t.FEN!==F&&(p+=createHeader("SetUp","1")+f,p+=createHeader("FEN",t.FEN)+f),t)-1===se.indexOf(i)&&(p+=createHeader(i,t[i])+f);if(p+=f,l=function createLine(e,t,n,o,r,a){var i,l,u,c,d,f,m,p,v,_,b,E,O=[],y="",A=!0,N=t[n],T=N.length,M="";if(N.commands&&!a)for(d in N.commands)M+="[%"+d+" "+N.commands[d]+"]";for(N.initComment&&(M=(M+" "+N.initComment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),M&&O.push("{"+M+"}"),u=0;u<T;++u){if(m=(l=N[u]).color===h,y="",M="",i=l.commands,o!==s.Bughouse?(A&&!m?y=e+"...":m&&(y=e+"."),r&&(m||A)&&(y+=" ")):(O.bughouseOrder||(O.bughouseOrder=[]),O.bughouseOrder.push(l.bughouseOrder),u||(O.blackCountOffset=N[0].color===g?1:0)),y+=l.san,l.annotation&&(y+=l.annotation),l.additionalAnnotation&&(y+=" "+l.additionalAnnotation.join(" ")),A=!1,void 0===l.time||i||(i={clk:(_=l.time,b=Math.floor(_%36e3/600),E=Math.floor(_%36e3%600)/10,Math.floor(_/36e3)+":"+(b<10?"0":"")+b+":"+(E<10?"0":"")+E)}),i&&!a)for(d in i)M+="[%"+d+" "+i[d]+"]";if(l.comment&&(M=(M+" "+l.comment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),M&&(y+=" {"+M+"}",A=!0),O.push(y),l.lines)for(p=l.lines.length,c=0;c<p;++c)t[v=l.lines[c]].length&&((f=createLine(e,t,v,o,r,a))[0]="("+f[0],f[f.length-1]+=")",O=O.concat(f),A=!0);m||e++}return O}(o,n,0,r,m,e.hideCommands),r===s.Bughouse){if(a.isDependent)return l;l=function(e,t,n){var o=t,r=e.siblingGame.pgn(),a=0,i=0,s=[];for(t.bughouseOrder=t.bughouseOrder||[],r.bughouseOrder=r.bughouseOrder||[];t.bughouseOrder.length||r.bughouseOrder.length;)!t.bughouseOrder.length||r.bughouseOrder.length&&t.bughouseOrder[0]>r.bughouseOrder[0]?(r.bughouseOrder.shift(),s.push("B")):(t.bughouseOrder.shift(),s.push("A"));return t=[],s.forEach(function(s){var l,u,c,d="";"A"===s?(l=o,u=++a,c=e.startingMoveNumber()):(l=r,u=++i,c=e.siblingGame.startingMoveNumber()),d=String(Math.floor((u+1)/2)+c-1),(l.blackCountOffset+u)%2?d+=s:d+=s.toLowerCase(),d+="."+(n?" ":"")+l.shift(),t.push(d)}),t}(a,l,m)}return l.push(t.Result),p+(u=l.join(" "),c=e.maxWidth,d=f,c<1?u:(c="number"==typeof c?c:80,u.replace(new RegExp("(.{1,"+c+"})(?: |$|\r?\n)","g"),"$1"+d).slice(0,-d.length)))}}(),ue=function(){var e="!?~",t=/\[%(\S+)\s([^\]]+)\]/,n=/^(?:[+=~\/\-\u2212]+|T?N|RR|D)$/;function extractCommands(e){var n,o,r={};do{(n=t.exec(e.value))&&(o=!0,e.value=e.value.replace(n[0],"").trim(),r[n[1]]=n[2])}while(n);o&&(e.commands=r)}function isSplitGame(e,t,n){for(var o;++t<n;)if(o=e[t].match(/^\s*(\S+)/))return/^(?:\[|1(?:\.|$))/.test(o[1])}return function(t,o){var r,a,i,s,l,u,c,d="tags",f=[],m={type:d,value:""},p=0,v=[],h=!0;for(o=o||{},s=(r=t.split(/\r?\n/)).length,a=0;a<s;++a)if("%"!==(i=r[a].trim())[0])if(i){if(u=(i=" "+i+" ").length,l=0,h)for(;l<u;++l)if(c=i[l],"tags"===d){if("["===c)m={type:d="tagName",value:""};else if(c.trim()){m={type:d="san",value:""},h=!1;break}}else if("tagName"===d)m.value&&""===c.trim()?(f.push(m),d="tagValueStart"):" "!==c&&(m.value+=c);else if("tagValueStart"===d){if('"'===c||""===c)m={type:d="tagValue",value:""};else if(c.trim())return!1}else if("tagValue"===d)'"'===c||""===c?(f.push(m),"]"===i[l+1]?(m={type:d="tags",value:""},++l):d="tagEnd"):("\\"===c&&l+2<u&&(c=i[++l]),l>0&&(m.value+=c));else if("]"===c)m={type:d="tags",value:""};else if(c.trim())return!1;for(;l<u;++l)if(c=i[l],"san"===d)if(e.indexOf(c)>-1)"!"===c||"?"===c||e.indexOf(c)<6&&(c=["!!","??","!?","?!"][e.indexOf(c)-2])?(m.value&&f.push(m),m={type:"a",value:c},"!"!==i[l+1]&&"?"!==i[l+1]||(m.value+=i[++l]),f.push(m),m={type:"san",value:""}):(""===c&&"=/"===m.value?(m.type="aa",m.value+=c):(m.value&&(n.test(m.value)&&("--"!==m.value||o.rejectNullMoves)&&(m.type="aa"),f.push(m)),m={type:"aa",value:c},""===c&&""===i[l+1]&&(m.value="",++l)),f.push(m),m={type:"san",value:""});else if(" "===c||"\t"===c||"\n"===c||"\r"===c||"{"===c||"("===c||")"===c){if(m.value){if("$"===m.value[0])m.type="nag";else if("*"===m.value||"1-0"===m.value||"0-1"===m.value||"1/2-1/2"===m.value||"-"===m.value){if(l+1<u)return!1;m.type="result","-"===m.value&&(m.value="1/2-1/2")}n.test(m.value)&&("--"!==m.value||o.rejectNullMoves)&&(m.type="aa"),f.push(m),m={type:d,value:""}}if(" "===c||"\t"===c||"\n"===c||"\r"===c)d="san";else if("{"===c)d="comment";else if("("===c)d="san",f.push({type:"variationStart",value:++p});else if(f.push({type:"variationEnd",value:p}),d="san",!p--)return!1;m.type=d}else if("."===c||!m.value&&+c==+c&&"-"!==i[l+1]&&"/"!==i[l+1]){if(+c==+c)switch(m.number||(m.number=""),m.number+=c,i[l+1]){case"A":case"a":case"B":case"b":m.number+=i[++l],f.push({type:"number",value:m.number}),delete m.number}}else m.value+=c;else 0===l&&(m.value=m.value.trim()),"}"!==c?("\\"===c&&l+2<u&&(c=i[++l]),m.value+=c):(m.value=m.value.trim(),m.value.indexOf("[")>-1&&extractCommands(m),f.push(m),m={type:d="san",value:""})}else"tags"===d?(d="san",h=!1):"comment"!==d&&"tagValueStart"!==d&&!p&&f.length&&isSplitGame(r,a,s)&&("tagValue"!==f[f.length-1].type&&(v.push(f),f=[]),d="tags",h=!0);return v.push(f),v}}();function Chess(se,ce){var de,fe,me=0,pe=!0,ve=[],he=h,ge=[],_e=v,be=0,Ee=1,Oe=1,ye=[],Ae=[ye],Ne=0;ye.id=Ne;var Te={},Me=[],Se=!1,Ce=!1,Pe=makeMoveChess;function hashPosition(){var t,n,o,r=he===h?[4174784170,2938602761]:[0,0];for(o=0;o<120;++o)136&o&&(o+=8),(t=fe[o])&&hashNum(r,e.zobristPiece[64*e.zobristPieceValueNumbers[t&M]+8*(7-rank(o))+file(o)]);if(Ce)for(n=1;n<3;++n)ge[n]&&(0!=(ge[n]&ge[n]-1)?(hashNum(r,e.zobristCastle[n-1]),hashNum(r,e.zobristCastle[n+1])):ge[n]>1<<file(ve[n])?hashNum(r,e.zobristCastle[n-1]):hashNum(r,e.zobristCastle[n+1]));else{for(n=1;n<3;++n)ge[n]&&(ge[n]&oe.KSIDE_CASTLE&&hashNum(r,e.zobristCastle[n-1]),ge[n]&oe.QSIDE_CASTLE&&hashNum(r,e.zobristCastle[n+1]));Se?function(t,n){var o,r,a,i,s,l,u,c=0;for(o=1;o<3;++o){if(r=n[o])for(a=0;a<5;){for(s=c+63*a,i=r>>Z[a]&X[a],l=0;l<i;++l)hashNum(t,[31*(u=e.zobristPiece[s++])[0]>>>0,17*u[1]>>>0]);++a}c=315}}(r,de._hand):me===s["3-check"]&&function(t,n){n[h]&&hashNum(t,e.zobristCheck[n[h]-1]),n[g]&&hashNum(t,e.zobristCheck[n[g]+2])}(r,Me)}return _e!==v&&hashEP(fe,r,_e+(he===h?16:-16),_|he),r}function getCurrentHash(){var e;return ye.length?e=ye[ye.length-1].hash:(ye.hash||(ye.hash=hashPosition()),e=ye.hash),[e[0],e[1]]}function setVariant(e,t){me!==(me=e?s[e]||1*e||s[String(e).replace(/ /g,"").toLowerCase()]||s.Chess:0)&&(me===s.Bughouse?(Se=!0,de.isDependent||(de.siblingGame=Chess(),de.siblingGame.hashing(pe),de.siblingGame.isDependent=!0,de.siblingGame.siblingGame=de,de.siblingGame.header({Variant:"Bughouse"})),createVariantZobristNumbers(),Pe=makeMoveVariant):(delete de.siblingGame,Se=me===s.Crazyhouse,Ce=me===s.Chess960,me?(createVariantZobristNumbers(),Pe=makeMoveVariant):Pe=makeMoveChess),t||updateSetup(generateFen()))}function disambiguate960Rook(e,t){for(var n,o,r=e>7?h:g;!(136&e);){if((n=fe[e])&r)if(n&O){if(o)return;o=e%8+(r===h?65:97)}else if(n&A)return o;e+=t}}function _clear(e,t,n){fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=h,ve[h]=v,ve[g]=v,ge[h]=0,ge[g]=0,de._hand[h]=0,de._hand[g]=0,Me[h]=0,Me[g]=0,_e=v,be=0,Ee=1,t||(Ae=[ye=[]],Ne=0,ye.id=Ne,Te={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},e?setHeader(["Variant",e]):setVariant(!1,n),n||updateSetup(generateFen()))}function reset(){_clear(0,!1,!0),ye.hash=[1178310168,378666140],fe=[34,10,18,66,130,18,10,34,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,33,9,17,65,129,17,9,33],Oe=1,ve[h]=116,ve[g]=4,ge[h]=48,ge[g]=48}function load(e,t,n,o){var r,a,i,c,d,f,m,p,b,E,y,T,M=0;if(o?(T=(r=e.split(" "))[3],y=r[2]):(T=(r=e.trim().split(/\s+/))[3]||"-",y=r[2]||"-"),void 0===t?(31&y.charCodeAt(0))<9&&setVariant(s.Chess960,!0):setVariant(t,!0),a=r[0],!o&&!(a=function(e,t){var n,o,r=e.length,a=0,i=0,l=t&&(t===s.Crazyhouse||t===s.Bughouse);for(n=0;n<r;++n)if(+(o=e[n])!=+o)if("/"===o){if(8!==i&&(e=e.substr(0,n)+(8-i)+e.substr(n),++n,++r),i=0,++a>7){if(!l&&n<r-1||!/^[pnbrq]{0,63}$/i.test(e.substr(n+1)))return!1;break}}else if(G[o]){if(++i>8)return!1}else{if("~"!==o)return!1;l&&n&&/[nbrq]/i.test(e[n-1])||(e=e.substr(0,n)+e.substr(n+1),--n,--r)}else(i+=1*o)>8&&(e=e.substr(0,n)+(o-(i-8))+e.substr(n+1),i=8);return e}(a,me)))return!1;if(c=a.length,_clear(l[me],n,!0),Se){if(me===s.Bughouse&&!de.isDependent&&(f=e.split(" | "),!de.siblingGame.load(1===f.length?e:f[1],t,n,o)))return reset(),!1;for(d=0;d<c;++d)if(+(m=a[d])!=+m)if("/"===m){if(M>111){for(++d;d<c;++d)m=a[d],de._hand[m<"a"?h:g]+=1<<ee[m]>>>0;break}M+=8}else fe[M]=G[m],"~"===a[d+1]&&(++d,fe[M]|=C),fe[M]&A&&(ve[fe[M]&N]=M),++M;else M+=1*m}else for(d=0;d<c;++d)+(m=a[d])!=+m?"/"===m?M+=8:(fe[M]=G[m],fe[M]&A&&(ve[fe[M]&N]=M),++M):M+=1*m;if(he="b"===r[1]?g:h,"-"!==y)if(Ce){for(b={1:[0,0],2:[0,0]},d=y.length-1;d>=0;--d)75===(i=y.charCodeAt(d))?i=disambiguate960Rook(119,-1):81===i?i=disambiguate960Rook(112,1):107===i?i=disambiguate960Rook(7,-1):113===i&&(i=disambiguate960Rook(0,1)),p=i<97?h:g,E=ae[String.fromCharCode(i)],(m=fe[E])===(O|p)&&(i>=97?ve[p]>=1&&ve[p]<=6&&(ge[p]|=1<<i-97):ve[p]>=113&&ve[p]<=118&&(ge[p]|=1<<i-65),++b[p][1*(ve[p]<E)]);(b[h][0]>1||b[h][1]>1)&&(ge[h]=0),(b[g][0]>1||b[g][1]>1)&&(ge[g]=0)}else{if(!o)for(d=y.length-1;d>=0;--d)m=fe[ae[y[d]]],p=y.charCodeAt(d)<97?h:g,m===(O|p)&&ve[p]===(p===h?116:4)||(y=y.substr(0,d)+y.substr(d+1)||"-");for(d=y.length-1;d>=0;--d)switch(y[d]){case"K":ge[h]|=oe.KSIDE_CASTLE;break;case"Q":ge[h]|=oe.QSIDE_CASTLE;break;case"k":ge[g]|=oe.KSIDE_CASTLE;break;case"q":ge[g]|=oe.QSIDE_CASTLE}}return!o&&(2!==T.length||he===h&&"6"!==T[1]||he===g&&"3"!==T[1]||fe[T.charCodeAt(0)-97+16*(8-("3"===T[1]?4:5))]!==(_|swapColor(he))||fe[u[T]])&&(T="-"),_e="-"===T?v:u[T],be=1*r[4]||0,Ee=1*r[5]||1,me===s["3-check"]&&(r[6]&&"+3+3"!==r[6]&&(f=r[6].match(/^\+([0-3])\+([0-3])$/)),f=f||[0,0,0],Me[h]=1*f[1],Me[g]=1*f[2]),n||(Oe=Ee,updateSetup(generateFen())),!0}function generateFen(){return me?function(){var e,t,n,o=0,r="",a="";for(e=0;e<120;++e)136&e&&(o&&(r+=o),r+="/",o=0,e+=8),(n=fe[e])?(o&&(r+=o,o=0),r+=U[n&M],Se&&n&C&&(r+="~")):++o;if(o&&(r+=o),Se&&(r+="/"+handToString(de._hand[h],!0)+handToString(de._hand[g])),Ce){for(t=ge[g],e=0;t;)1&t&&(a=String.fromCharCode(e+97)+a),t>>=1,++e;for(t=ge[h],e=0;t;)1&t&&(a=String.fromCharCode(e+65)+a),t>>=1,++e}else ge[h]&oe.KSIDE_CASTLE&&(a+="K"),ge[h]&oe.QSIDE_CASTLE&&(a+="Q"),ge[g]&oe.KSIDE_CASTLE&&(a+="k"),ge[g]&oe.QSIDE_CASTLE&&(a+="q");return r+=" "+(he===h?"w":"b")+" "+(a||"-")+" "+(_e===v?"-":algebraic(_e))+" "+be+" "+Ee,me===s["3-check"]?r+=" +"+Me[h]+"+"+Me[g]:me!==s.Bughouse||de.isDependent||(r+=" | "+de.siblingGame.fen()),r}():function(){var e,t,n=0,o="",r="";for(e=0;e<120;++e)136&e&&(n&&(o+=n),o+="/",n=0,e+=8),(t=fe[e])?(n&&(o+=n,n=0),o+=U[t&M]):++n;return n&&(o+=n),ge[h]&oe.KSIDE_CASTLE&&(r+="K"),ge[h]&oe.QSIDE_CASTLE&&(r+="Q"),ge[g]&oe.KSIDE_CASTLE&&(r+="k"),ge[g]&oe.QSIDE_CASTLE&&(r+="q"),o+=" "+(he===h?"w":"b")+" "+(r||"-")+" "+(_e===v?"-":algebraic(_e))+" "+be+" "+Ee}()}function setHeader(e){var t,n,o;for(t=0;t<e.length;t+=2)n=e[t],o=e[t+1],n&&("Variant"===n&&(setVariant(o),o=me?l[me]:void 0),"Result"===n&&"*"!==o&&"1-0"!==o&&"0-1"!==o&&"1/2-1/2"!==o&&(o="*"),void 0!==o?Te[n]=String(o):ie.indexOf(n)>-1?Te[n]="Date"===n?"????.??.??":"?":delete Te[n]);return Te}function updateSetup(e){ye.length>0||Ne||(e!==F?(Te.SetUp="1",Te.FEN=e,ye.hash=null):(delete Te.SetUp,delete Te.FEN,ye.hash=[1178310168,378666140]))}function get(e){var t=fe[u[e]];return t?{type:U[t&T|g],color:t&N,promoted:0!=(t&C)}:null}function calculateLegalMoveInfo(e,r){var a,s,l,u,d,f,m,p,h,g,b,E,O,y,N=he,M=A|N,C=c;if(t=[],n=0,o=0,i=0,C[0]=C[1]=C[2]=C[3]=C[4]=C[5]=C[6]=C[7]=C[16]=C[17]=C[18]=C[19]=C[20]=C[21]=C[22]=C[23]=C[32]=C[33]=C[34]=C[35]=C[36]=C[37]=C[38]=C[39]=C[48]=C[49]=C[50]=C[51]=C[52]=C[53]=C[54]=C[55]=C[64]=C[65]=C[66]=C[67]=C[68]=C[69]=C[70]=C[71]=C[80]=C[81]=C[82]=C[83]=C[84]=C[85]=C[86]=C[87]=C[96]=C[97]=C[98]=C[99]=C[100]=C[101]=C[102]=C[103]=C[112]=C[113]=C[114]=C[115]=C[116]=C[117]=C[118]=C[119]=0,r!==v){for(O=function(e,t){return Ce&&ge[e]?Q:ge[e]&oe.KSIDE_CASTLE&&!fe[t+1]&&!fe[t+2]?ge[e]&oe.QSIDE_CASTLE&&!fe[t-1]&&!fe[t-2]&&!fe[t-3]?(i=oe.KQSIDE_CASTLE,Y):(i=oe.KSIDE_CASTLE,W):ge[e]&oe.QSIDE_CASTLE&&!fe[t-1]&&!fe[t-2]&&!fe[t-3]?(i=oe.QSIDE_CASTLE,K):z}(N,r),a=0;a<120;++a)if(136&a&&(a+=8),u=fe[a])if(u&N)(!e||(0|u)&e)&&t.push(a);else if(0!=((y=O[a-r+119])&u))if(u&_)for(g=x[u],s=1;s<3;++s)136&(p=a+g[s])||(C[p]|=L,p===r&&(++n,C[a]|=R));else for(h=(g=x[u&T]).length,E=u&P,s=0;s<h;++s)if(b=g[s],!(r>(p=a)&&b<0&&r-p>16||r<p&&b>0&&p-r>16))for(;!(136&(p+=b));){if(C[p]|=L,d=fe[p]){if(d&N)if(p===r){for(l=p-b;l!==a;l-=b)C[l]|=R;C[a]|=R,++n,E&&0==(136&(p+=b))&&(C[p]|=L)}else if(E&&y&S&&n<2)for(m=p+b;0==(136&m);){if(f=fe[m]){f===M&&(C[p]|=I+(Math.abs(b)<<w),++o);break}m+=b}break}if(!E)break}n>1&&(t=[r])}else t=function(e,t){var n,o,r=[];for(n=0;n<120;++n)136&n&&(n+=8),(o=e[n])&&(o&t)===t&&r.push(n);return r}(fe,N|e)}function validateEnPassant(e,t){var o,r,a,i=t+16*(he===h?1:-1);return(1!==n||0!=(c[t]&R)||0!=(c[i]&R))&&(o=fe[e],fe[t]=o,fe[e]=0,r=fe[i],fe[i]=0,a=inCheck(),fe[e]=o,fe[t]=0,fe[i]=r,!a)}function addCastlingMoves(e){var t,n,o;if(Ce){if(ge[e])for(n=(t=ve[e])%8,o=0;o<8;++o)ge[e]&1<<o&&canCastle960(fe,t,o,e)&&(d[m++]=(o>n?oe.KSIDE_CASTLE:oe.QSIDE_CASTLE)+(t<<D)+(t+(o-n)<<k),++o)}else i&oe.KSIDE_CASTLE&&(n=(t=ve[e])+2,0===c[t+1]&&0===c[t+2]&&(d[m++]=oe.KSIDE_CASTLE+(t<<D)+(n<<k))),i&oe.QSIDE_CASTLE&&(n=(t=ve[e])-2,0===c[t-1]&&0===c[t-2]&&(d[m++]=oe.QSIDE_CASTLE+(t<<D)+(n<<k)))}function generateMoves(e,r){var a,i,s,l,u,v,h,g,E,O,y=he,A=swapColor(y),N=ve[y];for(calculateLegalMoveInfo(e,N),p=t.length,m=f,E=0;E<p;++E)if(a=t[E],l=fe[a],!(n&&o&&c[a]&I))if(l&_)for(v=x[l],0!==o&&0!=(c[a]&I)&&c[a]>>w!=16||(u=a+v[0],0===fe[u]&&(addPawnMove(a,u,0),re[y]===rank(a)&&(u+=v[0],fe[u]||addPawnMove(a,u,oe.BIG_PAWN)))),i=1;i<3;++i)136&(u=a+(h=v[i]))||o&&c[a]&I&&c[a]>>w!==Math.abs(h)||(fe[u]&A?addPawnMove(a,u,oe.CAPTURE):u===_e&&validateEnPassant(a,u)&&(d[m++]=oe.EP_CAPTURE|a<<D|u<<k));else{if(o&&c[a]&I){if(l&b)continue;if(!($[a-ve[y]+119]&l))continue;v=[h=c[a]>>w,-h]}else v=x[l&T];if(O=a<<D,a===N){for(i=0;i<8;++i)0==(136&(u=a+(h=v[i])))&&(fe[u]?fe[u]&A&&0==(c[u]&L)&&(d[m++]=oe.CAPTURE|O|u<<k):0==(c[u]&L)&&(d[m++]=O|u<<k));0===n&&addCastlingMoves(y)}else for(s=v.length,g=l&P,i=0;i<s;++i)for(h=v[i],u=a;!(136&(u+=h));){if(fe[u]){fe[u]&A&&(0===n||c[u]&R)&&(d[m++]=oe.CAPTURE|O|u<<k);break}if((0===n||c[u]&R)&&(d[m++]=O|u<<k),!g)break}}return Se&&function(e,t,o){var r,a,i,s,l;if(!e)for(t&&(t>>=26),s=0;s<5;++s)if((!t||(0|t)==1<<s)&&de._hand[o]&X[s]<<Z[s]){for(0===s?(r=16,a=103,i=oe.DROP):(r=0,a=119,i=oe.DROP|s<<B),l=r;l<=a;++l)136&l&&(l+=8),fe[l]||(0===n||1===n&&c[l]&R)&&(d[m++]=i|l<<k);if(t)return}}(r,e,y),m}function inCheckAfterMove(e,t,n,o){var r,a,i,l,u,c,d,f;if(me===s["King of the Hill"]&&e&A&&kingOfTheHillWin(n))return!0;if(o&oe.KQSIDE_CASTLE&&(n=he===h?o&oe.KSIDE_CASTLE?117:115:o&oe.KSIDE_CASTLE?5:3,e=O,f=!0),(r=ve[swapColor(he)])===v)return!1;if(0==(e&A)&&$[n-r+119]&e)for(i=J[n-r+119],u=e&P,l=n+i;0==(136&l);){if(l===r){if(e&_){if((e&N)===h?r-n<0:r-n>0)return!0;break}return!0}if(l!==t&&fe[l]||!u)break;l+=i}if(!f){if((a=$[t-r+119])&P&&(i=J[t-r+119])!==J[n-r+119])for(l=r-i;0==(136&l);){if(l!==t&&(c=fe[l])){if(c&he&&a&c&&c&P)return!0;break}l-=i}if(o&oe.EP_CAPTURE&&(a=$[(d=n+16*(he===h?1:-1))-r+119])&P)for(l=r-(i=J[d-r+119]);0==(136&l);){if(l!==t&&l!==d){if(l===n)break;if(c=fe[l]){if(c&he&&a&c&&c&P)return!0;break}}l-=i}}return!1}function moveToSan(e,t){var n,o,r,a,i,l,u="";return e&oe.KQSIDE_CASTLE?u=e&oe.KSIDE_CASTLE?"O-O":"O-O-O":e&oe.DROP?(r=e>>k&j,(n=e>>B)&&(u+=ne[n]),u+="@"+algebraic(r)):(r=e>>k&j,(a=fe[o=e>>D&j])&_?(e&oe.ANY_CAPTURE&&(u+=String.fromCharCode(file(o)+97)+"x"),u+=algebraic(r),e&oe.PROMOTION&&(u+="="+ne[n=e>>B])):(u+=q[a&M],p>1&&(u+=function(e,t,n){var o,r,a,i,s,l;if(m<2)return"";for(e&=T,l=0;l<m;++l)if(o=d[l],n===o>>k&&(a=o>>D&j)!==t&&fe[a]&e){if(r=!0,rank(t)===rank(a)){if(i)return algebraic(t);s=!0}if(file(t)===file(a)){if(s)return algebraic(t);i=!0}}if(r)return i?String(8-rank(t)):String.fromCharCode(file(t)+97);return""}(a,o,r)),e&oe.ANY_CAPTURE&&(u+="x"),u+=algebraic(r))),t||(e&oe.KQSIDE_CASTLE?(o=e>>D&j,r=e>>k&j):e&oe.DROP_OR_PROMOTE&&(a=te[n]+he),inCheckAfterMove(a,o,r,e)&&(Pe(e,o,r,n),i=f,f=m,l=p,me!==s.Chess&&isVariantWin()?u+="#":generateMoves()-f?u+="+":u+="#",m=f,f=i,p=l,reverseMove(ye.pop()))),u}function kingAttacked(e){return ve[e]!==v&&function(e,t){var n,o,r,a,i=x[b],s=b|e;for(n=0;n<8;++n)if(0==(136&(r=t+i[n]))&&((o=fe[r])&s)===s)return!0;for(i=x[A],n=0;n<8;++n)for(r=t+(a=i[n]);0==(136&r);){if(o=fe[r]){if(o&e&&$[t-r+119]&o){if(!(o&_))return!0;if(e===h?t-r<0:t-r>0)return!0}break}r+=a}return!1}(swapColor(e),ve[e])}function inCheck(){return kingAttacked(he)}function inCheckmate(){return inCheck()&&0===generateMoves()}function inStalemate(){var e=!inCheck()&&0===generateMoves();return e&&me===s.Bughouse&&!de.isDependent&&(e=de.siblingGame.inStalemate()),e}function insufficientMaterial(e){var t,n,o=0,r=0,a=0;for(n=0;n<120;++n)if(136&n&&(n+=8),t=fe[n]){if(e&&0==(t&e))continue;if(100&t)return!1;if(t&b){if(r||o++)return!1}else if(t&E){if(o)return!1;if(++r,(rank(n)+n)%2&&++a,a&&r!==a)return!1}}return!0}function inThreefoldRepetition(){if(be<8)return!1;for(var e,t=getCurrentHash(),n=!1,o=be,r=!1,a=ye,i=a.length-1;;){if((i-=2)<0){if(a.id){i=a.atMoveNode+i+2,a=Ae[a.parentId];continue}if(-2===i)return!1;e=a.hash,r=!0}else e=a[i].hash,a[i].halfMoves>o||o<2?r=!0:o=a[i].halfMoves;if(e[0]===t[0]&&e[1]===t[1]){if(n)return!0;n=!0}if(r)return!1}}function modifyHand(t){var n,o,r,a,i,l,u,c,d,f=t.move;if(me===s.Crazyhouse||f&oe.DROP?(o=de._hand,i=t.hash,d=t.color):(o=de.siblingGame._hand,t.handSibling=!0,pe&&((l=de.siblingGame._history()).length?i=l[l.length-1].hash:(l.hash||(l.hash=de.siblingGame._hashPosition()),i=l.hash)),d=swapColor(t.color)),t.captured){switch((t.captured&C?_:t.captured&T)&T){case _:u=0;break;case b:u=1;break;case E:u=2;break;case O:u=3;break;default:u=4}n=1<<Z[u],pe&&(a=o[d]>>Z[u]&X[u],c=e.zobristPiece[a+63*u+(d===h?0:315)])}else n=-1<<Z[r=f>>B],pe&&(a=o[d]>>Z[r]&X[r],c=e.zobristPiece[a-1+63*r+(d===h?0:315)]);o[d]+=n,t.handChange=n,pe&&hashNum(i,[31*c[0]>>>0,17*c[1]>>>0])}function makeMoveChess(t,n,o,r){var a,i,s,l,u,c,d,f,m=he,p=swapColor(m),b={move:t,epSquare:_e,halfMoves:be,castlingW:ge[h],castlingB:ge[g],color:m},E=m===h;pe&&(l=getCurrentHash(),b.hash=l,hashNum(l,e.zobristTurn),_e!==v&&hashEP(fe,l,_e+(E?16:-16),_|m)),0==(t&oe.KQSIDE_CASTLE)?Se&&t&oe.DROP?(fe[o]=te[r]|m,pe&&hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[fe[o]]+8*(7-rank(o))+file(o)]),modifyHand(b),d=0):(d=fe[n],(f=fe[o])&&(b.captured=f,pe&&hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[fe[o]&M]+8*(7-rank(o))+file(o)]),f&O&&ge[p]&&(Ce?rank(o)===(E?0:7)&&(s=1<<file(o),ge[p]&s&&(ge[p]^=s,pe&&(s>1<<file(ve[m])?hashNum(l,e.zobristCastle[p-1]):hashNum(l,e.zobristCastle[p+1])))):o===(E?7:119)?ge[p]&oe.KSIDE_CASTLE&&(ge[p]^=oe.KSIDE_CASTLE,pe&&hashNum(l,e.zobristCastle[p-1])):o===(E?0:112)&&ge[p]&oe.QSIDE_CASTLE&&(ge[p]^=oe.QSIDE_CASTLE,pe&&hashNum(l,e.zobristCastle[p+1])))),t&oe.PROMOTION?fe[o]=te[r]|m|C:fe[o]=fe[n],fe[n]=0,pe&&(hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[d&M]+8*(7-rank(n))+file(n)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[fe[o]&M]+8*(7-rank(o))+file(o)]))):d=A,t&oe.EP_CAPTURE?(E?(c=o+16,u=6):(c=o-16,u=8),b.captured=_|p,fe[c]=0,pe&&hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[_|p]+8*(u-rank(o))+file(o)])):d&A?(Ce?(t&oe.KQSIDE_CASTLE&&(fe[o]=0,fe[n]=0,t&oe.KSIDE_CASTLE?E?(a=118,i=117):(a=6,i=5):E?(a=114,i=115):(a=2,i=3),fe[a]=m|A,fe[i]=m|O,pe&&(hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[A|m]+8*(7-rank(n))+file(n)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[O|m]+8*(7-rank(o))+file(o)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[A|m]+8*(7-rank(a))+file(a)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[O|m]+8*(7-rank(i))+file(i)]))),pe&&(0!=(ge[m]&ge[m]-1)?(hashNum(l,e.zobristCastle[m-1]),hashNum(l,e.zobristCastle[m+1])):ge[m]>1<<file(ve[m])?hashNum(l,e.zobristCastle[m-1]):hashNum(l,e.zobristCastle[m+1])),ve[m]=a||o):(t&oe.KQSIDE_CASTLE&&(fe[o]=fe[n],fe[n]=0,t&oe.KSIDE_CASTLE?(a=o-1,i=o+1):(a=o+1,i=o-2),fe[a]=fe[i],fe[i]=0,pe&&(hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[A|m]+8*(7-rank(n))+file(n)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[O|m]+8*(7-rank(i))+file(i)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[A|m]+8*(7-rank(o))+file(o)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[O|m]+8*(7-rank(a))+file(a)]))),pe&&(ge[m]&oe.KSIDE_CASTLE&&hashNum(l,e.zobristCastle[m-1]),ge[m]&oe.QSIDE_CASTLE&&hashNum(l,e.zobristCastle[m+1])),ve[m]=o),ge[m]=0):d&O&&ge[m]&&(Ce?rank(n)===(E?7:0)&&(s=1<<file(n),ge[m]&s&&(ge[m]^=s,pe&&(s>1<<file(ve[m])?hashNum(l,e.zobristCastle[m-1]):hashNum(l,e.zobristCastle[m+1])))):n===(E?119:7)?ge[m]&oe.KSIDE_CASTLE&&(ge[m]^=oe.KSIDE_CASTLE,pe&&hashNum(l,e.zobristCastle[m-1])):n===(E?112:0)&&ge[m]&oe.QSIDE_CASTLE&&(ge[m]^=oe.QSIDE_CASTLE,pe&&hashNum(l,e.zobristCastle[m+1]))),t&oe.BIG_PAWN?(_e=E?o+16:o-16,pe&&hashEP(fe,l,o,_|p)):_e=v,d&_||t&oe.ANY_CAPTURE?be=0:be++,he=p,ye.push(b)}function makeMoveVariant(t,n,o,r){var a,i=he;makeMoveChess(t,n,o,r),a=ye[ye.length-1],Se?(be=a.halfMoves+1,a.captured&&modifyHand(a),me===s.Bughouse&&(a.bughouseOrder=de.moveCount()-1+de.siblingGame.moveCount())):me===s["3-check"]&&kingAttacked(he)&&(a.checked=!0,pe&&Me[i]&&hashNum(a.hash,e.zobristCheck[Me[i]+(i===h?-1:2)]),++Me[i],pe&&hashNum(a.hash,e.zobristCheck[Me[i]+(i===h?-1:2)]))}function reverseMove(e){var t,n,o=he,r=swapColor(o),a=e.move,i=a>>k&j,l=a>>D&j;if(he=r,ge[g]=e.castlingB,ge[h]=e.castlingW,_e=e.epSquare,be=e.halfMoves,me){if(Ce&&a&oe.KQSIDE_CASTLE)return a&oe.KSIDE_CASTLE?r===h?(n=118,t=117):(n=6,t=5):r===h?(n=114,t=115):(n=2,t=3),fe[n]=0,fe[t]=0,fe[l]=r|A,fe[i]=r|O,void(ve[r]=l);if(e.handChange&&(me!==s.Crazyhouse&&e.handSibling?de.siblingGame._hand[swapColor(r)]-=e.handChange:de._hand[r]-=e.handChange),a&oe.DROP)return void(fe[i]=0);e.checked&&--Me[r]}a&oe.PROMOTION?(fe[l]=_|r,a&oe.CAPTURE?fe[i]=e.captured:fe[i]=0):(fe[l]=fe[i],a&oe.KQSIDE_CASTLE?(fe[i]=0,a&oe.KSIDE_CASTLE?(t=i+1,n=i-1):(t=i-2,n=i+1),fe[t]=r|O,fe[n]=0,ve[r]=l):(i===ve[r]&&(ve[r]=l),a&oe.CAPTURE?fe[i]=e.captured:(fe[i]=0,a&oe.EP_CAPTURE&&(fe[i-(r===h?-16:16)]=_|o))))}function beautifyMove(e,t,n){var o,r,a=e>>k&j,i={color:he,to:algebraic(a),flags:e&j};return Se&&0!=(e&oe.DROP)?(r=e>>B,i.drop=r,i.piece=te[r]+he):(o=e>>D&j,i.from=algebraic(o),i.piece=fe[o],e&oe.PROMOTION&&(r=e>>B,i.promotion=te[r]+he),e&oe.CAPTURE?i.captured=fe[a]:e&oe.EP_CAPTURE&&(i.captured=_|swapColor(he))),i.san=t||moveToSan(e,n),i}function isVariantWin(){return me===s["3-check"]?3===Me[swapColor(he)]:me===s["King of the Hill"]?kingOfTheHillWin(ve[swapColor(he)]):void 0}function isBughouseWin(){if(me===s.Bughouse)return de.siblingGame.inCheckmate()}function createVariation(){var e=[],t=generateFen(),n=ye.length-1,o=ye[n];return!!o&&(e.parentId=Ne,e.id=Ae.length,ye.curFen=t,o.lines||(o.lines=[]),o.lines.push(e.id),o.move?reverseMove(o):(_e=o.epSquare,--be,he=swapColor(he)),he===g&&--Ee,e.atMoveNode=n,e.hash=n?ye[n-1].hash:ye.hash,Ne=e.id,Ae.push(e),ye=e,!0)}function selectLine(e){var t=generateFen();ye.curFen=t,ye=Ae[e],Ne=e,load(ye.curFen,me,!0,!0)}return de={WHITE:h,BLACK:g,PAWN:_,KNIGHT:b,BISHOP:E,ROOK:O,QUEEN:y,KING:A,FLAGS:oe,load:load,reset:reset,moves:function(e){var t,n,o,r=[],a=moveToSan;for(e&&(e.verbose&&(a=beautifyMove),e.type&&(n=e.type|e.type<<24),o=e.noDrop),generateMoves(n,o),t=0;t<m;++t)r.push(a(d[t]));return r},inCheck:inCheck,inCheckmate:inCheckmate,inStalemate:inStalemate,isBughouseWin:isBughouseWin,in50MoveRule:function(){return be>=100},inDraw:function(){return be>=100||inStalemate()||insufficientMaterial()||inThreefoldRepetition()||Boolean(function(){if(me===s.Bughouse)return de.siblingGame.in50MoveRule()||de.siblingGame.inThreefoldRepetition()}())},insufficientMaterial:insufficientMaterial,inThreefoldRepetition:inThreefoldRepetition,isVariantWin:isVariantWin,gameOver:function(){return de.inDraw()||inCheckmate()||Boolean(isVariantWin())||Boolean(isBughouseWin())},isPositionValid:function(e){var t,n,o,r=0;if(!1!==(e=e||{}).pawns)for(t=0;t<=119;){if((o=fe[t])&_)return!1;8==++t&&(t=112)}if(!1!==e.kings){for(t=0;t<=119;++t)if(136&t&&(t+=8),(o=fe[t])&A){if(++r>2)return!1;if(n&&n&o)return!1;n=o&N}if(2!==r)return!1}return!1===e.check||!1===e.kings&&ve[swapColor(he)]===v||!kingAttacked(swapColor(he))},validateFen:validateFen,fen:generateFen,pgn:function(e){return(e=e||{}).useResultHeader||Ne||(isVariantWin()||inCheckmate()?Te.Result=he===g?"1-0":"0-1":de.inStalemate()?Te.Result="1/2-1/2":isBughouseWin()&&(Te.Result=de.siblingGame.turn()===h?"1-0":"0-1")),le(e,Te,Ae,Oe,me,de)},loadPgn:function(e,t,n){var o,r,a,i,l,u,c,d,f,m={},p=0;if("number"!=typeof t&&(n=n||t,t=0),n=n||{},"string"==typeof e&&(n.singleGame&&(e=e.replace(/(?:\r?\n\s*){2,}/g,"\n")),e=de.tokenizePgn(e,n)),t<0&&(t=e.length+t),!(i=e[t]))return!1;for(reset(),r=i.length,o=0;o<r&&"tagName"===(a=i[o]).type;++o){if(!i[o+1]||"tagValue"!==i[o+1].type)return!1;++o,"FEN"===a.value?c=completeFen(i[o].value):m[a.value]=i[o].value}if(m.Variant&&!c&&(c=F),c||"1"===m.SetUp)if("0"===m.SetUp)m.FEN=c;else if(!c||!load(c,m.Variant))return!1;for(de.header(m),u=(l=de)._history();o<r;++o)if("san"===(a=i[o]).type&&0===p){if(!l.move(a.value)){if(!n.skipBadLines||!(0!==Ne||ye.length&&n.allowBadMainLine))return reset(),!1;p=1}}else if("result"===a.type&&"*"===Te.Result)setHeader(["Result",a.value]);else if("a"===a.type&&0===p&&u[u.length-1])u[u.length-1].annotation=a.value;else if("nag"!==a.type&&"aa"!==a.type||0!==p||!u[u.length-1])if("comment"===a.type&&0===p)u.length?(a.value.trim()&&(u[u.length-1].comment=a.value),a.commands&&(u[u.length-1].commands=a.commands,a.commands.clk&&(u[u.length-1].time=(d=a.commands.clk,void 0,10*(3600*(f=d.split(":"))[0]+60*f[1]+1*f[2]))))):(u.initComment=String(a.value),a.commands&&(u.commands=a.commands));else if("variationStart"===a.type){if(p>0)++p;else if(!createVariation())return reset(),!1;u=l._history()}else"variationEnd"===a.type?(p>0&&--p,0===p&&(selectLine(u.parentId),u=l._history())):"number"===a.type&&me===s.Bughouse&&(u=(l=/b/i.test(a.value.slice(-1))?de.siblingGame:de)._history());else u[u.length-1].additionalAnnotation||(u[u.length-1].additionalAnnotation=[]),-1===u[u.length-1].additionalAnnotation.indexOf(a.value)&&u[u.length-1].additionalAnnotation.push(a.value);return!0},header:function(e){return Array.isArray(e)?setHeader(e):"object"===(void 0===e?"undefined":(0,a.default)(e))?((0,r.default)(e).forEach(function(t){setHeader([t,e[t]])}),Te):Te},turn:function(e){return e!==h&&e!==g||(he=e),he},move:function playMove(t){var n,o,r,a,i,l,c,f,p,g,b,E,O,y,N,M;if("string"==typeof t){switch(t[a=t.length-1]){case"+":case"#":t=t.substr(0,a)}for(p=H.indexOf(t[0])>6?V[t[0]]:"O"===t[0]?A:_,Se&&(-1===t.indexOf("@")?g=!0:(g=!1,p<<=24)),generateMoves(p,g),a=0;a<m;++a)if(t===(l=moveToSan(d[a],!0))){o=d[a];break}if(!o)return"--"===t?(N={color:he,san:"--",epSquare:_e},M={color:he,san:"--"},pe&&(y=getCurrentHash(),N.hash=y,hashNum(y,e.zobristTurn),_e!==v&&hashEP(fe,y,_e+(he===h?16:-16),_|he)),_e=v,be++,(he=swapColor(he))===h&&++Ee,ye.push(N),M):(t=Chess.fixSanMove(t,fe,he))?playMove(t):null;c=o>>D&j,f=o>>k&j,r=o>>B}else{if(t.drop){switch(t.drop){case"p":r=0;break;case"n":r=1;break;case"b":r=2;break;case"r":r=3;break;case"q":r=4;break;default:return null}p=1<<26+r}else{if(t.promotion)switch(t.promotion){case"q":r=4;break;case"n":r=1;break;case"r":r=3;break;case"b":r=2;break;default:return null}c=u[t.from],g=!0,p=fe[c]&T}for(f=u[t.to],n=((r?r<<B:0)|f<<k)>>D|c,generateMoves(p,g),a=0;a<m;++a)if(d[a]>>D===n){o=d[a];break}if(!o)return(t=Chess.fixObjMove(t,fe,he))?playMove(t):null}return O=o&oe.DROP_OR_PROMOTE?te[r]+he:fe[c],i=beautifyMove(o,l,!0),b=inCheckAfterMove(O,c,f,o),Pe(o,c,f,r),b&&(me!==s.Chess&&isVariantWin()?i.san+="#":0===generateMoves()?i.san+="#":i.san+="+"),(E=ye[ye.length-1]).san=i.san,i.piece&C&&(E.promoted=!0),he===h&&++Ee,i},undo:function(e){var t=ye.pop();return t?(he===h&&--Ee,t.move?(reverseMove(t),!!e||beautifyMove(t.move,t.san)):(_e=t.epSquare,--be,he=swapColor(he),!!e||{san:"--",color:t.color})):null},clear:function(e){_clear(e)},put:function(e,t,n){var o,r=u[t],a=!1,i=fe[r],s=i&N,l=e.color;if(isNaN(r)||!e.type||!l||-1===H.indexOf(e.type))return!1;if(fe[r]=V[e.type]|l|(e.promoted?C:0),fe[r]&A&&(ve[l]=r),i&&fe[ve[s]]&&fe[ve[s]]!==(A|s)){for(o=0;o<120;++o)136&o&&(o+=8),fe[o]===(A|s)&&(ve[s]=o,a=!0);a||(ve[s]=v)}return n||load(generateFen(),me,!0,!1),!0},get:get,remove:function(e,t){var n,o=fe[u[e]],r=get(e),a=o&N;if(fe[u[e]]=0,o&A)for(ve[a]=v,ge[a]=0,n=0;n<120;++n)if(136&n&&(n+=8),fe[n]===(A|a)){ve[o.color]=n;break}return t||load(generateFen(),me,!0,!1),r},history:function(e,t){for(var n,o=[],r=ye,a=r.length;;){if(-1==--a){if(r.id&&!t){a=r.atMoveNode,r=Ae[r.parentId];continue}break}e?((n=beautifyMove(r[a].move,r[a].san)).color=r[a].color,!a&&r.initComment&&(n.firstComment=r.initComment),void 0!==r[a].comment&&(n.comment=r[a].comment),void 0!==r[a].time&&(n.time=r[a].time),void 0!==r[a].annotation&&(n.annotation=r[a].annotation),void 0!==r[a].additionalAnnotation&&(n.additionalAnnotation=r[a].additionalAnnotation),void 0!==r[a].commands&&(n.commands=r[a].commands),void 0!==r[a].captured&&(n.captured=r[a].captured),void 0!==r[a].promoted&&(n.promoted=r[a].promoted),void 0!==r[a].lines&&(n.lines=r[a].lines),void 0!==r[a].bughouseOrder&&(n.bughouseOrder=r[a].bughouseOrder),H.indexOf(r[a].san[0])>6?n.piece=V[r[a].san[0]]:"O"===r[a].san[0]?n.piece=A:n.piece=_,n.piece|=n.color,o.unshift(n)):o.unshift(r[a].san)}return o},hashes:function(){for(var e=[],t=ye,n=t.length;;){if(-1==--n){if(t.id){n=t.atMoveNode,t=Ae[t.parentId];continue}t.hash||getCurrentHash(),e.unshift(t.hash);break}e.unshift(t[n].hash)}return e},moveCount:function(){return ye.length},startingMoveNumber:function(){return Oe},completeFen:completeFen,createVariation:createVariation,selectLine:selectLine,hash:function(){var e=getCurrentHash();return me!==s.Bughouse||de.isDependent?e:[e,de.siblingGame.hash()]},hashing:function(e){pe=e,me!==s.Bughouse||de.isDependent||de.siblingGame.hashing(pe)},hand:function(){if(Se)return handToString(de._hand[h],!0)+handToString(de._hand[g])},checks:function(){if(me===s["3-check"])return[Me[h],Me[g]]},tokenizePgn:ue,_hand:[],_history:function(e){return e&&(Ne=(ye=e).id),ye},_lines:function(){return Ae},_hashPosition:hashPosition,_board:function(){return fe}},se&&load(se,ce)||reset(),de}return Chess.fixSanMove=function(e,t,n){var o,r,a;if(/0|[?!+#]$|[18][QNRB]$|^P/.test(e))return e.replace(/[?!+#]+$/,"").replace(/0/g,"O").replace(/([18])([QNRB])$/,"$1=$2").replace(/^P/,"");if(r=e.indexOf("=")>0?-4:-2,o=e.substr(r,2),n=swapColor(n),t[u[o]]&n||/^[a-h]x?[a-h]/.test(e)){if(-1===e.indexOf("x"))return e.slice(0,r)+"x"+e.substr(r)}else if(e.indexOf("x")>-1)return e.replace("x","");return(a=e.match(/^([KQNRB]?)([a-h][1-8]?|[1-8])(x?[a-h][1-8])=?(.?)$/))?t[u[a[2]]]?{from:a[2],to:o,promotion:a[4].toLowerCase()}:a[1]+a[3]+a[4]:void 0},Chess.fixObjMove=function(e,t,n){if(t[u[e.from]]===(A|n)&&e.to&&e.from[1]===e.to[1]){if(e.from<e.to)return"O-O";if(e.from>e.to)return"O-O-O"}},Chess}(),n=function(t){var n="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",a=["bench","d","eval","flip","isready","perft","ponderhit","stop","uci","ucinewgame"],i=[{cmd:"position",args:["fen","startpos","moves","continuation"]},{cmd:"go",args:["binc","btime","confidence","depth","infinite","mate","mindepth","mintime","maxdepth","maxtime","movestogo","movetime","ponder","searchmoves","shallow","winc","wtime"]}],s=["moves","searchmoves"],l=["ponder","infinite","startpos"],u=/Total Evaluation[\s\S]+\n$/i;function createWebWorker(e,t,n){var o=new Worker(e||"stockfish.js"),r={terminate:function(){o.terminate()},postMessage:postMessage,addEventListener:function(e,t){r["on"+e]=t}};function postMessage(e){o.postMessage(e)}return o.onmessage=function(e){r.onmessage(e)},o.onerror=function(a){if(t.pathToNonWasmEngine&&t.pathToNonWasmEngine!==e){a.preventDefault&&a.preventDefault();try{o.terminate()}catch(a){}return(o=createWebWorker(t.pathToNonWasmEngine,t,n)).onmessage=function(e){r.onmessage(e)},(i=n._activeCommands()).length&&i.forEach(function(e){e.message="",postMessage(e.cmd)}),!1}var i;if(t.onError)return t.onError(a)},r}function parseSearchLine(e){var t,n,o,r,a,i={},s=["lowerbound","upperbound","score"],l=["depth","seldepth","time","nodes","multipv","cp","mate","currmovenumber","hashfull","nps","tbhits","sbhits","cpuload"],u=["depth","seldepth","time","nodes","pv","multipv","score","cp","mate","lowerbound","upperbound","currmove","currmovenumber","hashfull","nps","tbhits","sbhits","cpuload","string","refutation","currline","bestmove","ponder","baseTurn","pvSan","bestmoveSan","ponderSan","bmc"],c=["pv","pvSan","string","refutation","currline"];for(n=(t=e.split(" ")).length,o="info"===t[0]?1:0,i.mtype=t[0];o<n;o+=1)t[o]&&(!a||r&&u.indexOf(t[o])>-1?(a=t[o],s.indexOf(a)>-1?(i[a]=!0,a=null):r=c.indexOf(a)>-1||-1===u.indexOf(a)):(l.indexOf(a)>-1&&(t[o]=Number(t[o])),r?(void 0===i[a]&&(i[a]=[]),i[a].push(t[o])):(i[a]=t[o],a=null)));return"(none)"===i.bestmove&&(i.bestmove=void 0,i.bestmoveSan=void 0),"(none)"===i.ponder&&(i.ponder=void 0,i.ponderSan=void 0),i}function getFirstWord(e){var t=e.indexOf(" ");return-1===t?e:e.substr(0,t)}return function loadEngine(c,d){var f,m,p={},v=function(e,t){var n=e.pathToNonWasmEngine&&"undefined"==typeof WebAssembly?e.pathToNonWasmEngine:e.enginePath||e.pathToEngineWorker;if(e.pathToWasmEngine&&(n+="#"+e.pathToWasmEngine),"undefined"!=typeof Worker)return createWebWorker(n,e,t)}(c,p),h=[],g=[];function onmessage(e){var n,o,r,a,i,s="string"==typeof e?e:e.data;if(p)if(s.indexOf("\n")>-1)for(a=s.split("\n"),i=0;i<a.length;i+=1)onmessage(a[i]);else if(t.log&&console.log("debug (onmessage): "+s),p.stream&&p.stream(s),h.length&&0!==s.indexOf("No such option")&&0!==s.indexOf("id ")&&0!==s.indexOf("Stockfish")&&0!==s.indexOf("info string variant")&&(o=function(e,t){var n,o,r,a,i=getFirstWord(e);if("bench"!==t[0].cmd&&"perft"!==t[0].cmd)for(n="uciok"===i||"option"===i?"uci":"readyok"===i||"ready"===i?"isready":"json"===i?"fetch":"bestmove"===i||"info"===i?"go":"other",a=t.length,r=0;r<a;r+=1)if((o=getFirstWord(t[r].cmd))===n||"other"===n&&("d"===o||"eval"===o))return r;return 0}(s,h),r=h[o])){if(r.stream&&!r.discard&&r.stream(s),void 0===r.message?r.message="":""!==r.message&&(r.message+="\n"),r.message+=s,"uciok"===getFirstWord(s))n=!0;else if("readyok"===getFirstWord(s)||"ready"===getFirstWord(s))n=!0,p.ready=!0;else if(0!==s.indexOf("bestmove")&&"bestmove"!==getFirstWord(s)||"bench"===r.cmd)if("d"===r.cmd)0!==s.indexOf("Legal uci moves")&&0!==s.indexOf("Key is")||(r.done=!0,n=!0);else if("fetch json"===r.cmd)try{r.message=JSON.parse(r.message.replace(/^json /gm,"").replace(/\n/g,"")),n=!0}catch(e){}else"eval"===r.cmd?u.test(r.message)&&(n=!0):0===s.indexOf("pawn key")?n=!0:0===s.indexOf("Nodes/second")?n=!0:0===s.indexOf("Unknown command")&&(n=!0);else n=!0,r.message=s;n&&(h.splice(o,1),r.cb&&!r.discard?r.cb(r.message):r.ondiscard&&r.ondiscard())}}function bestMoveSearch(){var e,r,a,i,s,l=1,u=[],c=[],d=null,m=g[0].args,v=g[0].cb,h=g[0].stream,_=m.timeout,b=1,E=14;function convertpv(e){var t=[],n=c[e]||createSanPv(u[e]);return u[e].forEach(function(e,o){t.push({moveSan:n[o],moveLan:e})}),t}function getpv(e,t,n,o){var r;for(r=u.length-1;r>=0;r-=1)if(u[r][0]===e)return convertpv(r);return n?[{moveSan:t,moveLan:e},{moveSan:o,moveLan:n}]:t?[{moveSan:t,moveLan:e}]:[]}function convertScore(e){0===e.mate?(e.mateIn=0,e.cp=-31800*b):(e.mateIn=Number(e.mate*b)||null,"number"!=typeof e.mateIn||isNaN(e.mateIn)||"number"==typeof e.cp?(e.cp*=b,9===Math.abs(e.cp)&&(e.cp=0),m.normalize&&e.depth<=E&&"number"==typeof loadEngine._previousCP&&1===e.multipv&&function(e){var t=.03*Math.pow(32,e.depth/E);e.cp=loadEngine._previousCP+(e.cp-loadEngine._previousCP)*t}(e)):e.cp=31800*b*(e.mate/Math.abs(e.mate))),e.score=e.cp/100}function addBestMoveProps(n){var s;if(n.baseTurn=a,n.cp=e,n.score=e/100,n.mate=r,n.mateIn=d,n.depth=l,n.moveLan=n.bestmove,n.moveLan){if(n.move=t.uciToObj(n.moveLan)[0],!(s=i.move(n.move)))throw new Error("Bad moveLan in line: "+n.moveLan+" at "+i.fen()+"\ndata: "+(0,o.default)(n)+"\nargs: "+(0,o.default)(m));if(n.moveSan=n.bestmoveSan=s.san,n.ponder&&"(none)"!==n.ponder){if(!(s=i.move(t.uciToObj(n.ponder)[0])))throw new Error("Bad ponder in line: "+n.ponder+" at "+i.fen()+"\ndata: "+(0,o.default)(n)+"\nargs: "+(0,o.default)(m));n.ponderSan=s.san,i.undo(!0)}i.undo(!0)}}function createSanPv(e){var n,r,a=e.length,s=[];for(n=0;n<a;++n){if(!(r=i.move(t.uciToObj(e[n])[0])))throw new Error("Bad pv in line: "+e[n]+" ("+n+") at "+i.fen()+"\npv: "+(0,o.default)(e)+"\nargs: "+(0,o.default)(m));s.push(r.san)}for(n=0;n<a;++n)i.undo(!0);return s}function createTimeout(){_&&(clearTimeout(f),f=setTimeout(function(){p.stop(),v&&(v(),v=void 0)},_))}m.timeout=void 0,g[0].started=!0,m.difficulty>=0&&m.difficulty<20?(p.setoption("Skill Level",m.difficulty),m.maximumError>=0&&m.maximumError<=4999&&p.setoption("Skill Level Maximum Error",m.maximumError),m.errorProbability>=1&&m.errorProbability<=128&&p.setoption("Skill Level Probability",m.errorProbability)):p.setoption("Skill Level",20),void 0!==m.contempt?p.setoption("Contempt",m.contempt):p.setoption("Contempt","0"),m.multiPv>1?p.setoption("MultiPV",m.multiPv):p.setoption("MultiPV",1),m.movetime||m.wtime&&m.btime||m.depth||(m.btime=m.btime||72e3,m.wtime=m.wtime||72e3),!m.startpos&&m.fen||m.moves||m.variant?(i=t.createGame({fen:m.fen?(s=m.fen,(s+"").replace(/\[([qrbnp]*)\]/i,"/$1").replace(/([0-3])\+([0-3]) (\d+ \d+)/,function(e,t,n,o){return o+" +"+(3-t)+"+"+(3-n)})):n,moves:m.moves,variant:m.variant,disableHashing:!0})).turn()===i.WHITE?a="w":(a="b",b=-1):(a="w",i=t.createGame({disableHashing:!0})),p.setVariant(m.variant),p.position(m),p.go(m,function(t){var n=parseSearchLine(t);if(addBestMoveProps(n),l>E&&e<5e3&&e>-5e3&&(loadEngine._previousCP=e),n.pv=getpv(n.moveLan,n.moveSan),1===n.pv.length&&n.ponder&&(n.pv=getpv(n.moveLan,n.moveSan,n.ponder,n.ponderSan)),v)try{v(n)}catch(e){console.error(e)}g.shift(),g.length>0&&bestMoveSearch(),clearTimeout(f)},function(t){var n=parseSearchLine(t);n.score&&(n.baseTurn=a,convertScore(n),1!==n.multipv&&0!==n.depth||(e=n.cp,r=n.mate,d=n.mateIn)),n.pv&&h&&(n.pvSan=createSanPv(n.pv)),!n.pv||n.lowerbound||n.upperbound||(u.push(n.pv),h&&c.push(n.pvSan)),n.depth>l?l=n.depth:"bestmove"===n.mtype&&addBestMoveProps(n),!h||0===n.mateIn&&n.pv||h(n),createTimeout()}),createTimeout()}function startUp(){p.isready(function(){c.settings?p.uci(function(){(0,r.default)(c.settings).forEach(function(e){p.setoption(e,c.settings[e])}),d&&d(p)}):d&&d(p)})}return p.send=function(e,n,o){var r;e=String(e).trim(),t.log&&console.log("debug (send): "+e),"ucinewgame"!==e&&"flip"!==e&&"stop"!==e&&"ponderhit"!==e&&0!==e.indexOf("position")&&0!==e.indexOf("setoption")?h[h.length]={cmd:e,cb:n,stream:o}:r=!0,v&&(v.postMessage(e),r&&n&&setTimeout(n,0))},p._activeCommands=function(){return h},p.quit=function(){v&&v.terminate&&(v.terminate(),v=null,p.ready=void 0),clearTimeout(f)},a.forEach(function(e){p[e]=function(t,n){p.send(e,t,n)}}),i.forEach(function(e){p[e.cmd]=function(t,n,o){var r=[e.cmd];m&&t.fen&&(t.fen=(t.fen+"").replace(/^([^/]+)((?:\/[^/]+){7})\/([qrbnp]*)/i,"$1$2[$3]").replace(/( \d+ \d+) \+([0-3])\+([0-3])/,function(e,t,n,o){return" "+(3-n)+"+"+(3-o)+t})),e.args.forEach(function(e){if(t[e]||0===t[e]){if(s.indexOf(e)>-1){if(!t[e]||!t[e].length)return;Array.isArray(t[e])&&(t[e]=t[e].join(" "))}r.push(e),-1===l.indexOf(e)&&r.push(t[e])}}),p.send(r.join(" "),n,o)}}),p.setoption=function(e,t){p.send("setoption name "+e+" value "+t)},p.setVariant=function(e){var t;e!==m&&(t=String(e).toLowerCase().replace(/ |-/g,""),e&&"chess"!==t?"chess960"===t?(p.setoption("UCI_Variant","chess"),p.setoption("UCI_Chess960","true")):("threecheck"===t&&(t="3check"),p.setoption("UCI_Variant",t),p.setoption("UCI_Chess960","false")):(t=void 0,p.setoption("UCI_Variant","chess"),p.setoption("UCI_Chess960","false")),m=t)},p.loadBook=function(t,n){e.loadBook(t,function(e,o){p.book=o,p.pathToBook=t,p.bookLoaded=!0,e&&(console.error("Error loading opening book."),console.error(e),p.pathToBook=null,p.bookLoaded=!1),n()})},p.getBestMove=function(e,n,o){var r;if((e=e||{}).fen=e.fen||e.baseFen,e.is960&&(e.variant="Chess960"),p.bookLoaded&&e.useBook&&(r=function(e){var n,o,r;if(r=e.moves&&e.moves.length?t.getFenFromMoves(e.fen,e.moves,e.variant):e.fen,(n=p.book.pick({fen:r,type:void 0!==e.bookPick?e.bookPick:"random",chess960:"Chess960"===e.variant}))&&(t.getLegalMoves(r,e.variant).some(function(e){if(e.from+e.to+(e.promotion||"")===n)return o=e,!0}),o))return{moveSan:o.san,moveLan:n,move:{from:o.from,to:o.to,promotion:o.promotion||null},baseTurn:r.split(" ")[1],pv:[{moveSan:o.san,moveLan:n}],depth:null,score:null,mateIn:null,isBookMove:!0}}(e)))return setTimeout(function(){r.mtype="bestmove",n(r)},0);!function(e,t,n){g.push({args:e,cb:t,stream:n}),1===g.length&&bestMoveSearch()}(e,n,o)},p.stopAll=function(e){var n,o=h.length,r=0;function ondiscard(){0==(r-=1)&&e()}for(g=[],n=0;n<o;n+=1)t.log&&console.log("debug (stop_moves): "+n,getFirstWord(h[n].cmd)),"go"!==getFirstWord(h[n].cmd)||h[n].discard||(p.stop(),h[n].discard=!0,e&&(r+=1,h[n].ondiscard=ondiscard));e&&!r&&p.isready(e)},p.restartEngine=function(e){return p.stopAll(),p.quit(),h=[],g=[],p.bookLoaded&&!c.book&&((c=JSON.parse((0,o.default)(c))).book=p.book),loadEngine(c,e)},p.stopFast=function(e,t){var n;p.stopAll(function(){clearTimeout(n),e(p)}),n=setTimeout(function(){p.restartEngine(e)},t||5e3)},"undefined"!=typeof Worker&&(v.addEventListener("message",onmessage,!1),c.book&&(p.book=c.book,p.bookLoaded=!0,p.pathToBook=c.pathToBook),!p.book&&c.pathToBook?p.loadBook(c.pathToBook,startUp):setTimeout(startUp,0),p.getFenFromMoves=t.getFenFromMoves,p.getLegalMoves=t.getLegalMoves,p.getPositionInfo=t.getPositionInfo,p.isFenValid=t.isFenValid,p.ready=!1,p)}};return function(){var o,r=t(),i="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",s=252,l=255,u={4:"p",5:"P",6:"p",8:"n",9:"N",10:"n",16:"b",17:"B",18:"b",32:"r",33:"R",34:"r",64:"q",65:"Q",66:"q",128:"k",129:"K",130:"k"},c="pnbrq",d=512,f="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?{~}(^)[_]@#$,./&-*++=",m="qnrbkp";function decodeTCN(e){var t,n,o,r,a=e.length,i=[];for(t=0;t<a;t+=2)r={},n=f.indexOf(e[t]),(o=f.indexOf(e[t+1]))>63&&(r.promotion=m[Math.floor((o-64)/3)],o=n+(n<16?-8:8)+(o-1)%3-1),n>75?r.drop=m[n-79]:r.from=f[n%8]+(Math.floor(n/8)+1),r.to=f[o%8]+(Math.floor(o/8)+1),i.push(r);return i}function uciToObj(e){var t,n,o=e.split(" "),r=o.length,a=[];if(e)for(t=0;t<r;++t)4===(n=o[t]).length?"@"===n[1]?a.push({drop:n[0].toLowerCase(),to:n.substr(2,2)}):a.push({from:n.substr(0,2),to:n.substr(2,2)}):a.push({from:n.substr(0,2),to:n.substr(2,2),promotion:n[4]});return a}function isSameMove(e,t){return e.san===t.san||e.from==t.from&&e.to==t.to&&e.promotion==t.promotion&&e.drop==t.drop}function makePremove(e,n,o){var a,i,s,l,u,c=e.header().Variant,d=getPremoves(e.fen(),n,c);if(d){for(a=d.length-1;a>=0;--a)if(isSameMove(i=d[a],o)){s=!0;break}if(s)return i.drop?e.put({type:i.drop,color:n},i.to,!0):(l=e.remove(i.from,!0),i.flags===r.FLAGS.KSIDE_CASTLE?(u=e.remove("Chess960"===c?i.to:"h"+i.from[1],!0),e.put(l,"g"+i.from[1],!0),e.put(u,"f"+i.from[1],!0)):i.flags===r.FLAGS.QSIDE_CASTLE?(u=e.remove("Chess960"===c?i.to:"a"+i.from[1],!0),e.put(l,"c"+i.from[1],!0),e.put(u,"d"+i.from[1],!0)):(i.promotion&&(l.type=i.promotion,l.promoted=!0),e.put(l,i.to,!0))),i}if(o.from&&(o=t.fixObjMove(o,e._board(),n)))return makePremove(e,n,{san:o})}function getPieces(e,t){var n,o,r,a=t?{}:[],i=e._board();if(t)for(n=112;n>=0;++n)136&n&&(n-=24),(o=i[n])&&(a[r=f[7&n]+(8-(n>>4))]={type:u[o&s],color:3&o,promoted:0!=(o&d),square:r});else for(n=112;n>=0;++n)136&n&&(n-=24),(o=i[n])&&a.push({type:u[o&s],color:3&o,promoted:0!=(o&d),rank:8-(n>>4),file:1+(7&n)});return a}function makeMoves(e,t,n,o){var r,a,i,s,l,u,c,d,f,m;for(n=n||{},"string"==typeof t&&(t=t.trim().split(" ")),i=t.length,r=0;r<i;r+=1){if(l="b"===t[r].board||"B"===t[r].board?e.siblingGame:e,u="string"==typeof t[r]?uciToObj(t[r])[0]:t[r].san?t[r].san:t[r],!l.move(u)){if(!n.autoPromote){if(n.skipBadLines)break;return!1}if(!0===n.autoPromote?u.promotion="q":u.promotion=n.autoPromote,!l.move(u)){if(n.skipBadLines)break;return!1}}if(d=(c=l._history())[c.length-1],o&&(f=parseInt(o[r],10)),("number"!=typeof f||isNaN(f))&&(f=parseInt(t[r].time,10)),"number"!=typeof f||isNaN(f)||(d.time=f,f=void 0),t[r].firstComment&&(c.initComment=t[r].firstComment),t[r].comment&&(d.comment=t[r].comment),t[r].annotation&&(d.annotation=t[r].annotation),t[r].additionalAnnotation&&(d.additionalAnnotation=t[r].additionalAnnotation),t[r].commands&&(d.commands=t[r].commands),t[r].lines)for(s=t[r].lines.length,a=0;a<s;++a){if(m=e._history().id,e.createVariation(),!makeMoves(e,t[r].lines[a],n)&&!n.skipBadLines)return!1;e.selectLine(m)}}return!0}function createGame(e){var n,o;if((e=e||{}).game)return e.game;if(n=t(),e.analysis&&function extendChess(e){var n,o,r=-1,s=0;function fixContComment(t){var n=e._lines()[t.ids.line];return n.initComment&&(t.comment=(n.initComment+" "+(t.comment||"")).trim(),n.initComment=""),!0}e.extended||(e.extended=!0,n={header:e.header,load:e.load,loadPgn:e.loadPgn,createVariation:e.createVariation,undo:e.undo,pgn:e.pgn},e._move=e.move,e.premoves=[],e.undo=function(){return e.deletePosition(r,s)},e.isLegalMove=function(t){return!!e._move(t)&&n.undo(!0)},e.premove=function(n,o){var r,a=e.premoves.length,i=t();return a?i.load(e.premoves[a-1].fen,e.header().Variant):i.load(e.fen(),e.header().Variant),(r=makePremove(i,o,n))?(e.premoves.push({move:r,pieces:getPieces(i),fen:i.fen()}),r):null},e.getPieces=function(t){return getPieces(e,t)},e.origHistory=e.history,e.history=function(t,n){var o,r,i,s=[],l=e._history(),u=l.length,c=e._lines();for("boolean"==typeof t&&(t={verbose:t}),t=t||{},n&&(t.noParentLines=n),t.toCurrent&&(u=e.ids().move+1);;){if(-1==--u){if(l.id&&!t.noParentLines){u=l.atMoveNode,l=c[l.parentId];continue}break}if(t.verbose){for(r in o={},l[u])if(l[u][r]&&"object"===(0,a.default)(l[u][r]))for(i in o[r]=l[u][r].constructor===Array?[]:{},l[u][r])o[r][i]=l[u][r][i];else o[r]=l[u][r];s.unshift(o)}else s.unshift(l[u].san)}return s},e._getPos=function(t,o){var a,l;return"number"!=typeof t&&(t=r),"number"!=typeof o&&(o=s),a=(l=e._lines())[o],t>=0?a[t]:a.id?a.atMoveNode?l[a.parentId][a.atMoveNode-1]:e._getPos(a.atMoveNode-1,a.parentId):{fen:n.header().FEN||i,hash:a.hash,initial:!0}},e.move=function(t,n){var o,a,i,l,u=e._history();if(t&&("string"==typeof t||t.to&&(t.from||t.drop))){if(s===u.id&&r<u.length-1||n){if(e.moveForward(n,t))return!0;r<u.length-1&&(e.selectPosition(r+1),e.createVariation(),u=e._history())}e.siblingGame&&(i=e.isDependent?e.siblingGame.fen():e.fen()),(o=e._move(t))&&(normalizeMoveObj(o),s=u.id,a=u[r=u.length-1],l=e._getPos(r-1),e.siblingGame?(e.isDependent?a.fen=e.siblingGame.fen():a.fen=e.fen(),a.beforeFen=i):(a.fen=e.fen(),a.beforeFen=l.fen),l.initial?(a.moveNumber=0,a.previous=null):(a.moveNumber=l.moveNumber+1,a.previous=l.ids,l.isContinuation&&fixContComment(l)),s&&0===r&&e._lines()[u.parentId][u.atMoveNode].move===a.move&&(a.isContinuation=!0),a.flags=o.flags,a.to=o.to,a.from=o.from,a.drop=o.drop,a.capturedStr=o.captured,a.promotion=o.promotion,a.piece=o.piece,o.promoted&&(a.promoted=!0),o.capturedPromotedPawn&&(a.capturedPromotedPawn=!0),a.ids={move:r,line:s})}return o},e.header=e.headers=function(t){var o=n.header(t);return e.siblingGame&&extendChess(e.siblingGame),o},e.load=function(t,o,a,i){var l=n.load(t,o,a,i);return e.siblingGame&&extendChess(e.siblingGame),l&&!a&&(r=-1,s=0),l},e.removeEmptyLines=function(){var t,n,o=e._lines();for(t=o.length-1;t>0;--t)o[t].length||(o[t]=void 0,n=!0);n&&e.reorderLines()},e.loadPgn=function(t,o,a){var i=n.loadPgn(t,o,a),l=e._history();return e.removeEmptyLines(),r=l.length-1,s=l.id,i},e.ids=function(){return{move:r,line:s}},e.selectLine=function(t){e.selectPosition(null,t)},e.moveBackward=function(){var t;if(r<=1)if(0===s){if(-1===r)return!1;e.selectPosition(r-1)}else(t=e._getPos(r-1,s)).isContinuation?e.selectPosition(e._history().atMoveNode,e._history().parentId):t.initial?e.selectPosition(-1,0):e.selectPosition(t.ids.move,t.ids.line);else e.selectPosition(r-1);return!0},e.moveForward=function(n,o){var a,i,l,u,c,d,f=e._lines();if(a=f[s][r+1],"string"==typeof o&&(o={san:o}),!a||o&&!isSameMove(o,a)){if(o&&a&&a.lines)for(c=a.lines.length,u=0;u<c;++u)if((l=f[a.lines[u]][0])&&isSameMove(o,l)){a=l,d=!0;break}if(!d&&n&&(i=f[s][r])&&i.lines)for(c=i.lines.length,u=0;u<c;++u)if((l=f[i.lines[u]][0])&&l.isContinuation&&(l=f[i.lines[u]][1])&&(!o||isSameMove(o,l))){a=l,d=!0;break}if(!d)return!!(o&&o.san&&(o=t.fixSanMove(o.san,e._board(),e.turn()))||o&&o.to&&o.from&&Math.abs(o.to.charCodeAt(0)-o.from.charCodeAt(0))>1&&(o=t.fixObjMove(o,e._board(),e.turn())))&&e.moveForward(n,o)}return e.selectPosition(a.ids.move,a.ids.line)},e.moveVariation=function(t,n){var o,r,a,i=e._lines(),s=i[t];if(s&&s.id)for(r=(o=i[s.parentId][s.atMoveNode].lines).length-1;r>=0;--r)if(o[r]===t&&o[a=r-(n?1:-1)])return o[r]=o[a],o[a]=t,e.reorderLines(),!0;return!1},e.promoteVariation=function(t,n){for(var o,a,i,l,u,c,d=e._lines(),f=d[t];f&&f[0]&&f.id&&(-1!==n||f.parentId);){for(o=d[i=f.parentId],l=f.atMoveNode,f[0].lines=o[l].lines.concat(f[0].lines||[]),o[l].lines=void 0,c=o.length-l,a=o.splice(l,c),u=0;u<c;++u)a[u].ids.line=t,a[u].ids.move=u;for(a.id=t,a.parentId=i,a.atMoveNode=l,a.hash=f.hash,0===l?(a.initComment=o.initComment,o.initComment=f.initComment):f.initComment&&(o[l-1].comment=((o[l-1].comment||"")+" "+f.initComment).trim()),d[t]=a,c=f.length,u=0;u<c;++u)f[u].ids.line=i,f[u].ids.move=u+l,o.push(f[u]);for(a[0].isContinuation=!!f[0].isContinuation&&fixContComment(a[0]),o[l].isContinuation=!l&&"number"==typeof o.parentId&&d[o.parentId][o.atMoveNode].move===o[0].move&&fixContComment(o[l]),c=o[l].lines.length,u=0;u<c;++u)d[o[l].lines[u]].atMoveNode=l,d[o[l].lines[u]][0]&&(d[o[l].lines[u]][0].isContinuation=d[o[l].lines[u]][0].move===o[l].move&&fixContComment(d[o[l].lines[u]][0]));if(s===t?(s=i,r+=l):s===i&&r>=l&&(s=t,r-=l),1===n)break;f=d[t=i]}return void 0!==o&&(e._history(d[s]),e.reorderLines(),!r&&d[s][0].isContinuation&&e.selectPosition(d[s].atMoveNode,d[s].parentId),!0)},e.reorderLines=function(t,n){var r,a,i,l,u,c,d,f,m,p,v=e._lines();for(t?m=n.length-1:(t=0,n=[v[0]],m=0,o=!1),i=(r=v[t]).length,a=0;a<i;++a)if((l=r[a]).ids.line=m,l.lines)for(u=l.lines.length,c=0;c<u;++c)(f=v[d=l.lines[c]])?(f.atMoveNode=a,p=n.length,l.lines[c]=p,f.parentId=m,o||d!==s||(o=!0,s=p),n.push(f),e.reorderLines(d,n)):(1===l.lines.length?delete l.lines:l.lines.splice(c,1),--c,--u);t||e.saveLines(n,!0)},e.createVariation=function(){var t,o,a,i,l=e._history(),u=e._lines();return r===l.length-1?(t=n.createVariation(),l=e._history(),r=l.length-1,s=l.id,t):-1!==r&&(o=[],a=l[r],o.parentId=l.id,o.id=u.length,a.lines||(a.lines=[]),a.lines.push(o.id),i=e._getPos(r-1),o.hash=i.hash,o.atMoveNode=r,u.push(o),e.selectPosition(-1,o.id))},e.selectLineEnd=function(t){return"number"!=typeof t&&(t=s),(t!==s||r<e._history().length-1)&&e.selectPosition(null,t,!0)},e.selectLineStart=function(){var t,n;return s?(r>1||1===r&&!e._getPos(0).isContinuation?t=e._history():(n=e._getPos(-1),t=e._lines()[n.ids?n.ids.line:0]),e.selectPosition(t.id?t[1]&&t[0].isContinuation?1:0:-1,t.id)):-1!==r&&e.selectPosition(-1,0)},e.selectPosition=function(t,o,a){var i=e._lines(),l=e._history();if("number"==typeof o&&(o!==s||a)){if(o<0||o>=i.length)return!1;if(l=i[o],"number"!=typeof t)t=l.length-1;else if(t<-1||t>=l.length)return!1;s=o,e._history(l),a=!0}if("number"==typeof t&&(t!==r||a)){if(t<-1||t>=l.length)return!1;n.load(e._getPos(t).fen,n.header().Variant,!0,!0),r=t}return!0},e.resetToMainLine=function(){var t=e._lines();e.selectLineEnd(0),t.length>1&&(t.length=1,e.reorderLines())},e.saveLines=function(t,n){var o,r,a,i=e._lines(),s=t.length;for(t!==i&&(i.length=0),r=0;r<s;++r){if(o=t[r],r&&"number"!=typeof o.parentId)return!1;t!==i&&i.push(o),o.id=r}return n||(a=e.ids(),e.selectPosition(-1,0,!0),e.selectPosition(a.move,a.line)),!0},e.deletePosition=function(t,n){var o,a,i=e._lines();return!(!i[n]||!(i[n][t]||-1===t&&0!==n))&&(n&&(0===t?t=-1:1===t&&i[n][0].isContinuation&&(t=-1)),s>0&&n!==s?a=!1!==(o=function(e,t,n){for(var o,r=e[t];"number"==typeof(o=r.parentId);){if(o===n)return r.atMoveNode;r=e[o]}return!1}(i,s,n))&&o>=t:n===s&&t<=r&&(a=!0),a&&(t>1?e.selectPosition(t-1,n):(e.selectPosition(i[n][0].isContinuation||1===t?1:0,n),e.moveBackward())),t>0?i[n].length=t:n?i[n]=null:i[0].length=0,e.reorderLines(),e.ids())},e.mark=function(t,n){var o=r<0?e._lines()[s]:e._lines()[s][r],a=t.type,i=1;t.color&&("arrow"===a?e.mark({key:t.color+t.key,type:"cal"},n):"square"===a&&e.mark({key:t.color+t.key,type:"csl"},n)),"cal"!==a&&"csl"!==a&&(a="c_"+a,i=0),o.commands&&o.commands[a]&&(o.commands[a]=o.commands[a].split(",").filter(function(e){return e.slice(i).split(";")[0]!==t.key.slice(i)}).join(","),o.commands[a]||delete o.commands[a]),n||(o.commands||(o.commands={}),o.commands[a]=(o.commands[a]?o.commands[a]+",":"")+t.key+(t.data?";"+t.data.join(";"):""))},e.markings=function(){var t,n,o,a,i,l,u,c,d={},f=r<0?e._lines()[s]:e._lines()[s][r],m={cal:"arrow",csl:"square"};for(n in f.commands){if(o=f.commands[n],m[n])n=m[n],a=0;else{if("c_"!==n.substr(0,2))continue;n=n.slice(2),a=1}for(d[n]=d[n]||{},l=(i=o.split(",")).length,t=0;t<l;++t)a?(c=(u=i[t].split(";")).shift(),d[n][c]=d[n][c]||{type:n,key:c},d[n][c].data=u):(c=i[t].slice(1),d[n][c]=d[n][c]||{type:n,key:c},d[n][c].color=i[t][0])}return d},e.clearMarkings=function(){var t,n=r<0?e._lines()[s]:e._lines()[s][r];for(t in n.commands)/^c[sa]l$|^c_/.test(t)&&delete n.commands[t]},e.pgn=function(t){var o,r=e.ids();return e.selectLineEnd(0),o=n.pgn(t),e.selectPosition(r.move,r.line),o},e.loadMoves=function(t,n){var o,a,i;if(n=n||{},"string"==typeof t&&(t=decodeTCN(t)),t){for(n.atCurrent||e.selectPosition(-1,0),i=s,a=t.length,o=0;o<a;++o){if(!e.move(t[o],!0)&&(t[o].promotion=!0===n.autoPromote?"q":n.autoPromote,!e.move(t[o],!0)))return!1;s!==i&&"merge"!==n.method&&(e.promoteVariation(s,1),"promote"!==n.method&&(e._history()[r].lines=void 0,e.reorderLines()),i=s)}"merge"!==n.method&&"promote"!==n.method&&e.deletePosition(r+1,s)}return!0})}(n),e.disableHashing&&n.hashing(!1),e.pgn){if(!n.loadPgn(e.pgn,e.index,e.options))return!1}else{if(e.headers&&(e.variant=e.headers.Variant||e.variant,e.fen||(e.fen=e.headers.FEN)),(e.fen||e.variant)&&!n.load(e.fen||i,e.variant))return!1;e.headers&&"object"===(0,a.default)(e.headers)&&!Array.isArray(e.headers)&&n.header(e.headers)}if(e.tcn)if("object"===(0,a.default)(e.tcn)){if(!function(e,t,n){var o,r,a,i=[decodeTCN(t[0]),decodeTCN(t[1])],s=[0,0],l=[0,0],u=i[0].length+i[1].length,c=Math.max(0|n[0][0],0|n[0][1],0|n[1][0],0|n[1][1]),d=[0,0],f=[0,0];for(o=[[c+=600-c%600,c],[c,c]];u--;){if(f[0]=d[0]+o[0][l[0]]-n[0][s[0]]||0,f[1]=d[1]+o[1][l[1]]-n[1][s[1]]||0,i[r=f[0]<=f[1]?0:1][s[r]]||(r^=1),(!(a=r?e.siblingGame:e).move(i[r][s[r]])||u&&a.inCheckmate()&&a.undo(!0))&&!(a=(r^=1)?e.siblingGame:e).move(i[r][s[r]]))return!1;a._history()[s[r]].time=n[r][s[r]],o[r][l[r]]=n[r][s[r]],d[r]=f[r],l[r]^=1,++s[r]}return!0}(n,e.tcn,e.timestamps||[[],[]]))return!1}else o=decodeTCN(e.tcn);else o=e.moves;return!(o&&!makeMoves(n,o,e,e.timestamps))&&n}function normalizeMoveObj(e){return e&&(e.piece&d&&(e.promoted=!0),e.piece=u[e.piece&s],e.captured&&(e.captured&d&&(e.capturedPromotedPawn=!0),e.captured=u[e.captured&l]),e.promotion&&(e.promotion=u[e.promotion&s]),void 0!==e.drop&&(e.drop=c[e.drop])),e}function getPremoves(e,n,o){var a,i,s,l,u,d,f,m,p=[];function pawnCapture(e){var t,o=u[0]+"x"+e;if(1===n&&7===a||2===n&&2===a)for(t=4;t>0;--t)p.push({color:n,to:e,flags:r.FLAGS.CAPTURE|r.FLAGS.PROMOTION,from:u,promotion:1<<t+2,piece:4,san:o+"="+c[t].toUpperCase()});else 1===a&&2===n||8===a&&1===n||p.push({color:n,to:e,flags:r.FLAGS.CAPTURE,from:u,piece:4,san:o})}if(1!==n&&2!==n||!r.load(e,o||"chess"))return null;for(e=r.fen(),(l=t()).clear(),o&&l.header({Variant:o}),r.turn(n),l.turn(n),a=1;a<9;++a)for(i=1;i<9;++i)u=String.fromCharCode(i+96)+a,(s=r.get(u))&&(r.remove(u,!0),s.color===n&&("p"===s.type?(i>1&&pawnCapture(String.fromCharCode(i-1+96)+(a+(1===n?1:-1))),i<8&&pawnCapture(String.fromCharCode(i+1+96)+(a+(1===n?1:-1)))):"k"===s.type&&(f=u[0],m=a),l.put(s,u,!0),p=p.concat(l.moves({verbose:!0})),l.remove(u,!0)));return"-"!==(d=e.split(" ")[2])&&d.split("").forEach(function(e){(1===n&&e<"a"||2===n&&e>="a")&&("k"===(e=e.toLowerCase())?p.push({color:n,to:"g"+m,flags:r.FLAGS.KSIDE_CASTLE,from:"e"+m,piece:128,san:"O-O"}):"q"===e?p.push({color:n,to:"c"+m,flags:r.FLAGS.QSIDE_CASTLE,from:"e"+m,piece:128,san:"O-O-O"}):e>f?p.push({color:n,to:e+m,flags:r.FLAGS.KSIDE_CASTLE,from:f+m,piece:128,san:"O-O"}):p.push({color:n,to:e+m,flags:r.FLAGS.QSIDE_CASTLE,from:f+m,piece:128,san:"O-O-O"}))}),(p=p.concat(r.moves({verbose:!0}))).forEach(function(e){normalizeMoveObj(e)}),p}function getLegalMoves(e,t){var n,o,a,i;if("string"==typeof e){if(!(o=r).load(e,t))return null}else o=createGame(e);for(i=(n=o.moves({verbose:!0})).length,a=0;a<i;++a)normalizeMoveObj(n[a]);return n}function jce(e,t){return(o=o||n(jce))(e,t)}return jce.gameFingerprints=function(t){var n,o,r,a,s,l,u,c,d,f=createGame(t),m=[""],p=[];if(!f)return!1;for(d=(c=f.header()).Variant||"",l=f.hashes(),n="function"==typeof f.origHistory?f.origHistory(!0):f.history(!0),s=l.length,o=[l[0][0],l[0][1]],p.push(e.to64BitHex(o)+d),l[0]=e.to64BitHex(l[0]),r=1;r<s;++r)o[0]=(o[0]^l[r][0]*(r+58465))>>>0,o[1]=(o[1]^l[r][1]*(r+984))>>>0,l[r]=e.to64BitHex(l[r]),p.push(e.to64BitHex(o)+d),normalizeMoveObj(n[a=r-1]),u=(n[a].from?n[a].from:n[a].drop.toUpperCase()+"@")+n[a].to+(n[a].promotion||""),a&&(u=m[a]+" "+u),m.push(u);return{startingFen:c.FEN||i,hashes:l,fingerprints:p,moves:m,variant:c.Variant}},jce.getFenFromMoves=function(e,t,n){return r.reset(),r.load(e,n),!(t&&!makeMoves(r,t))&&r.fen()},jce.getLegalMoves=getLegalMoves,jce.getPremoves=getPremoves,jce.getPositionInfo=function(e,t,n){var o,a,i,s={gameOver:!1,check:!1,checkmate:!1,draw:!1,stalemate:!1,threefold:!1,insufficient:!1};if(Array.isArray(t)||(n=t,t=null),"boolean"==typeof n?(o=n,n={}):o=(n=n||{}).variant,"string"==typeof e){if(0!==(i=r).validateFen(e,o)||!i.load(e,o))return!1}else i=createGame(e);return!(t&&!makeMoves(i,t))&&(n.getLegalMoves?(a=getLegalMoves({game:i}),s.legalMoves=a):a=i.moves(),i.inCheck()?(s.check=!0,s.checkmate=0===a.length):s.stalemate=0===a.length,n.premove&&(n.check=!1,n.kings=!1),s.threefold=i.inThreefoldRepetition(),s.insufficient=i.insufficientMaterial(n.color),s.fiftyMoveRule=i.in50MoveRule(),s.draw=s.stalemate||s.threefold||s.insufficient||s.fiftyMoveRule||i.inDraw(),n.skipValidation||(s.isValid=i.isPositionValid(n)),o&&(s.variantWin=i.isVariantWin(),void 0===s.variantWin&&(s.variantWin=i.isBughouseWin())),s.gameOver=s.checkmate||s.draw||Boolean(s.variantWin),s)},jce.isFenValid=function(e,t){return 0===r.validateFen(e,t)},jce.encodeTCN=function(e){var t,n,o,r,a="";for(Array.isArray(e)||(e=[e]),n=e.length,t=0;t<n;t+=1)o=e[t].drop?79+m.indexOf(e[t].drop):f.indexOf(e[t].from[0])+8*(e[t].from[1]-1),r=f.indexOf(e[t].to[0])+8*(e[t].to[1]-1),e[t].promotion&&(r=3*m.indexOf(e[t].promotion)+64+(r<o?9+r-o:r-o-7)),a+=f[o]+f[r];return a},jce.decodeTCN=decodeTCN,jce.uciToObj=uciToObj,jce.generatePgn=function(e){var t;return(e=e||{}).disableHashing=!0,!!(t=createGame(e))&&t.pgn(e)},jce.pgnToFen=function(e,t){var n,o,a=[];if(r.reset(),!r.loadPgn(e))return!1;if(n=r.moveCount(),"number"==typeof t){for(t<0&&(t=n+t+1),o=n-1;o>=t&&o>=0;o-=1)r.undo();return r.fen()}for(o=0;o<=n;o+=1)a.unshift(r.fen()),r.undo();return a},jce.pgnToJson=function(e,t,n){var o,a=[],i=r;return"number"!=typeof t&&(n=t,t=void 0),o=i.tokenizePgn(e,n),t<0&&(t=o.length+t),!!o&&(n&&n.includeFen&&(i=createGame({analysis:!0})),o.forEach(function(e,o){var r,s;o===t||void 0===t?i.loadPgn([e],0,n)?(s=function normalizeHistory(e){var t,n,o,r,a,i,s,l=e.history(!0,!0);if(e.siblingGame){for(t=e.siblingGame.history(!0,!0),o=l.length+t.length,n=[],r=0;r<o;++r)!l.length||t.length&&t[0].bughouseOrder<l[0].bughouseOrder?(a=t.shift()).board="b":(a=l.shift()).board="a",n.push(a);l=n}for(o=l.length,r=0;r<o;++r)if((i=l[r]).fen||normalizeMoveObj(i),i.lines)for(s=i.lines.length-1;s>=0;--s)e.selectLine(i.lines[s]),i.lines[s]=normalizeHistory(e).moves;return{moves:l}}(i),r=i.header(),a.push({headers:r,moves:s.moves})):a.push(!1):a.push(void 0)}),"number"==typeof t?a[t]:a)},jce.sanToObj=function(e,t,n){return r.reset(),!!r.load(t,n)&&normalizeMoveObj(r.move(e))},jce.completeFen=r.completeFen,jce.shortenFen=function(e,t){return r.completeFen(e).split(" ").slice(0,t||4).join(" ")},jce.createGame=createGame,jce.getPositionDetails=function(e,t){var n,o,r,a;if((e=e||{}).disableHashing=!0,!(n=createGame(e)))return null;if(t)if(e.premove){if(!(r=makePremove(n,e.color,t)))return null}else{if(!(r=n.move(t)))return null;n.extended||normalizeMoveObj(r)}return a=n.fen(),e.premove&&(e.check=!1,e.kings=!1),e.skipValidation||n.isPositionValid(e)?(o=a.split(" "),{fen:a,pieces:getPieces(n),sideToMove:n.turn(),castling:o[2],epSquare:"-"===o[3]?null:o[3],halfMoves:+o[4],moveNumber:+o[5],move:r,hand:n.hand(),checks:n.checks()}):null},jce.predict=function(e,t){var n=Math.min(Math.max(.20773843*Math.atan(2.49085889*e/100-2.47841945*t/100)+.02262979*e/100-.02256839*t/100+.52239679,0),1),o=Math.min(Math.max(-.20720905*Math.atan(2.49626837*e/100-2.48220286*t/100)+-.02352551*e/100+.02172627*t/100+.49443923,0),1),r=Math.min(Math.max(Math.exp(.037043456*e/100+.178106427*t/100-8.069742932)+.004823544*Math.exp(-1.364136591*Math.pow(e/100-t/100,2))+-.001625539,0),1),a=n+o+r;return{w:n/a,b:o/a,d:r/a}},jce.FLAGS=r.FLAGS,jce.loadECO=function(t,n){e.loadBook(t,function(t,o){if(!o||!o.json)return n(t||new Error("Invalid book"));n(t,function(t){var n,r,a,i,s,l,u,c,d;if(t.hash)r="string"==typeof t.hash?[e.hex64ToDec(t.hash)]:[t.hash],i=1;else{if(!(n=createGame(t)))return!1;i=(r=n.hashes()).length}for(a=0;a<i;++a)if(s=o.json[e.to64BitHex(r[a])]){if(s.constructor===Array)if(l&&-1===s[0].m.indexOf(l.m)){for(c=s.length-1;c>=0;--c)if(!c||-1!==s[c].m.indexOf(l.m)){(d=s[c]).e=s[0].e,d.s=s[0].s,d.mate=s[0].mate,d.v=s[0].v,d.h=s[0].h,d.n=d.n||s[0].n,d.u=d.u||s[0].u,d.c=d.c||s[0].c;break}}else d=s[0];else d=s;(d.n||t.allowNameless)&&(l=d)}else t.mustEndInBook&&(l=void 0);if(l)return u={name:l.n},l.m&&(u.moves=l.m),void 0!==l.d&&(u.sdiff=l.d/100),l.u?(u.url=l.u,u.code=u.url.substr(0,3)):l.n&&l.c&&(u.url=l.c+"-"+l.n.replace(/['+,]/g,"").replace(/[^a-z0-9.]+/gi,"-").replace(/(with-\d|St)\.+-?/,"$1-"),u.code=l.c),l.e?(u.eval=l.e,u.depth=l.h,u.score=l.e[0].cp/100,void 0!==l.e[0].mate&&(u.mate=l.e[0].mate)):(u.score=l.s/100,void 0!==l.mate&&(u.mate=l.mate)),l.v&&(u.bad=!0),u},o.json)})},jce}()}();t.default=i},150:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveBackward=void 0;var o=n(10);t.moveBackward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,o.selectNode)(e,e.tree.selected,-1*t,!1)}},151:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveForward=void 0;var o=n(10);t.moveForward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,o.selectNode)(e,e.tree.selected,t,!1)}},152:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveToEnd=void 0;var o=n(4),r=n(1),a=n(42),i=n(0);t.moveToEnd=function(e){return r.Line.isMainLine(e.tree.selected.line)||o.Game.selectLine(e,0),(0,a.selectLineEnd)(e),i.State.updateState(e)}},153:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveVariation=void 0;var o=n(2),r=n(1);t.moveVariation=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=r.Line.getLine(e.jce._lines(),t);if(a&&void 0!==a.parentId){var i=r.Line.getLine(e.jce._lines(),a.parentId)[a.atMoveNode],s=-1;if(i.lines.forEach(function(e,n){t===e&&(s=n)}),s>-1){var l=null;n&&s>0?(l=i.lines[s-1],i.lines[s-1]=t,i.lines[s]=l):!n&&s<i.lines.length-1&&(l=i.lines[s+1],i.lines[s+1]=t,i.lines[s]=l)}o.History.add(e.history,o.Events.TREE_CHANGE)}return e}},154:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.promoteVariation=void 0;var o=n(4),r=n(1),a=n(0),i=n(2);t.promoteVariation=function(e,t){var n=t;void 0===n&&(n=e.tree.selected);var s=r.Line.getLine(e.jce._lines(),n.line);if(s&&void 0!==s.parentId)for(var l=n.move,u=function(){if(e.settings.mainLineIsImmutable&&r.Line.isMainLine(s.parentId))return"break";var t=r.Line.getLine(e.jce._lines(),s.parentId),n=r.Line.isContinuation(e.jce._lines(),s.id)?1:0,a=s[n]&&s[n].commentBefore,i=s.atMoveNode,u=s.slice(0);s.length=0,a&&t[i-1]&&(t[i-1].comment?(" "!==t[i-1].comment.substr(-1)&&(t[i-1].comment+=" "),t[i-1].comment+=a):t[i-1].comment=a,delete u[n].commentBefore,delete s.initComment);var c=t.slice(i),d=c[0].lines.map(function(e){return e});delete c[0].lines,c.forEach(function(t,n){t.lines&&t.lines.length&&t.lines.forEach(function(t){var o=r.Line.getLine(e.jce._lines(),t);o.parentId=s.id,o.atMoveNode=n})}),t.length=i,u.forEach(function(n){n.ids={line:t.id,move:t.length},n.lines&&n.lines.length&&n.lines.forEach(function(n){var o=r.Line.getLine(e.jce._lines(),n);o.parentId=t.id,o.atMoveNode=t.length}),t.push(n)}),c.forEach(function(e,t){e.ids={line:s.id,move:t},s.push(e)}),t[i].lines=d,t[i].lines.forEach(function(n){r.Line.getLine(e.jce._lines(),n).parentId=t.id}),o.Game.selectNode(e,{line:t.id,move:i+l}),s=r.Line.getLine(e.jce._lines(),s.parentId),l=i+l};void 0!==s.parentId;){if("break"===u())break}return e.jce.saveLines(e.tree.lines),i.History.add(e.history,i.Events.TREE_CHANGE),a.State.updateState(e)}},155:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.resetToMainLine=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(4),s=n(1),l=n(2),u=n(0),c=n(42);t.resetToMainLine=function(e){var t=(0,a.default)({},e.tree.selected);s.Line.isMainLine(e.tree.selected.line)||i.Game.selectLine(e,0),(0,c.selectLineEnd)(e);var n=e.tree.selected;return e.tree.lines.length=1,e.tree.lines=s.Line.rebuildIds(e.tree.lines),e.jce.saveLines(e.tree.lines),l.History.add(e.history,l.Events.JUMP_TO_POSITION,{from:t,to:n}),u.State.updateState(e)}},156:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updateMarkings=void 0;var o=n(61),r=(n(4),n(2)),a=(n(1),n(66)),i=n(67),s=n(68),l=n(0);t.updateMarkings=function(e){var t=e.arrow,n=e.effect,u=e.game,c=e.ids,d=e.square;return(0,o.clearMarkings)(u,c,!1),t&&(0,a.markArrow)(u,t,c,!1),n&&(0,i.markEffect)({game:u,effect:n,ids:c,updateState:!1}),d&&(0,s.markSquare)(u,d,c,!1),l.State.updateState(u),r.History.add(u.history,r.Events.TREE_CHANGE),u}},157:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updateNode=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(1),s=n(2),l=n(0),u=n(33);t.updateNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],o=e.jce._lines(),r=i.Line.findNode(o,t);if(!r||!n||n.commentBefore&&!i.Line.isFirstVisibleNode(o,t))return null;var c=i.Line.getLine(o,t.line);if(void 0===n.commentBefore&&i.Line.isFirstVisibleNode(o,t)?delete c.initComment:n.commentBefore&&(c.initComment=n.commentBefore),n.annotation&&(n.annotation=(0,u.annotationExists)(r,n.annotation)?"":(0,u.normalizeAnnotation)(n.annotation)),n.additionalAnnotation){if(!(0,u.isNagFormat)(n.additionalAnnotation))return null;(0,u.additionalAnnotationExists)(r,n.additionalAnnotation)&&(n.additionalAnnotation=[]),n.additionalAnnotation=[].concat((0,u.normalizeAnnotation)(n.additionalAnnotation))}return(0,a.default)(r,n),s.History.add(e.history,s.Events.UPDATE_NODE,{line:t.line,move:t.move}),l.State.updateState(e)}},158:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updatePgnHeaders=void 0;var o,r=n(11),a=(o=r)&&o.__esModule?o:{default:o},i=n(4),s=n(2),l=n(0),u=n(17);t.updatePgnHeaders=function(e,t){if(!t)return null;var n=(0,a.default)(t).reduce(function(e,n){return"Date"===n&&"number"==typeof t[n]&&(t[n]=u.Utils.formatJSTimestampForPgn(t[n])),e.push(n),e.push(t[n]),e},[]);return i.Game.updateHeaders(e,n),s.History.add(e.history,s.Events.PGN_HEADERS_UPDATED),e.setup.result=l.State.getResult(e),e}},159:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomAnimatedGif=t.getAnimatedGif=void 0;var o=_interopRequireDefault(n(43)),r=_interopRequireDefault(n(27)),a=_interopRequireDefault(n(8));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=function seekGifUntilReady(e,t){r.default.get(e).then(function(n){202===n.status?setTimeout(seekGifUntilReady.bind(null,e,t),2e3):200===n.status&&t(e)}).catch(function(){t(e)})};t.getAnimatedGif=function(e,t){var n=function(e,t){if(!["chess","chess960"].includes(e.toLowerCase()))return null;var n=t.match(/\/(daily|live)(?:\/game)?\/([0-9]+)/);return n?a.default.generate("web_game_get_gif_url",{type:n[1],id:parseInt(n[2],10)}):null}(e,t);return r.default.get(n).then(function(e){return new o.default(function(t){i(e.data,t)})})},t.getCustomAnimatedGif=function(e){var t=e.tcn,n=e.flip,s=e.isChess960,l=e.initialPosition,u=a.default.generate("web_game_callback_create_dyn_gif_url"),c={tcn:t,flip:n,isChess960:s,initialSetup:l};return r.default.post(u,c).then(function(e){return new o.default(function(t){i(e.data,t)})})}},16:function(e,t,n){e.exports=n(6)(95)},160:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.getAnimationType=function(e){return"battle"===e?"default":e}},161:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.getAnimationTypes=function(e){if(!Array.isArray(e))return e;var t=e.findIndex(function(e){return"battle"===e.code});return t>-1&&e.splice(t,1),e}},162:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getCoordinatePositioning=void 0;var o=n(14);t.getCoordinatePositioning=function(e){var t=o.coordinates.find(function(t){return[t.key,t.value].includes(e)});return t?t.value:null}},163:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.getShareUrl=function(){var e=window.document.documentElement.lang,t=window.location,n=e.split("-")[0];return t.pathname.split("/")[1]===n||"en"===n?t.href:t.protocol+"//"+t.hostname+"/"+n+t.pathname}},164:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.makeResizeEvent=function(){var e=void 0;return"function"==typeof Event?e=new Event("resize"):(e=document.createEvent("Event")).initEvent("resize",!1,!0),e}},165:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.normalizeFen=function(e){var t=e;-1!==t.indexOf("|")&&(t=t.split("|")[0].trim());var n=t.split(" "),o=n[0].split("/");return o.length>8&&(o.pop(),n[0]=o.join("/"),t=n.join(" ")),t}},1657:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(3)),r=n(34),a=_interopRequireDefault(n(12)),i=_interopRequireDefault(n(1982));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"main-ad",components:{IconFont:a.default},props:{isDismissable:{type:String,required:!0}},data:function(){return{enabled:!1,currentTime:(new Date).getTime()}},computed:(0,o.default)({},(0,r.mapState)("user",["isLoggedIn"]),{showCloseButton:function(){return"true"===this.isDismissable&&this.isLoggedIn},expirationTime:function(){return this.currentTime+864e5}}),created:function(){this.isLoggedIn&&i.default.getItem("mainAdExpiration")>this.currentTime||(this.enabled=!0)},methods:{hideAd:function(){i.default.setItem("mainAdExpiration",this.expirationTime),this.enabled=!1}}}},1658:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(27)),a=_interopRequireDefault(n(29)),i=n(13);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"survey",components:{FormButton:a.default},props:{discussUrl:{type:String,required:!0},hasVotedEarlier:{type:Boolean,default:!1},surveyData:{type:Object,required:!0},user:Boolean},data:function(){return{chosenOption:null,hasVotedNow:!1,isLoading:!1,showResults:!1,survey:{options:[],voteCount:0},translations:{backToVote:this.$trans("Back to Vote"),result:this.$trans("Result"),submit:this.$trans("Submit")}}},computed:{commentCount:function(){return 0===Number(this.survey.comment_count)?this.$trans("Discuss"):this.$transChoice("{0} 0 Comments|{1} 1 Comment|]1,Inf] %number% Comments",this.survey.comment_count,{"%number%":this.survey.comment_count})},hasVoted:function(){return this.hasVotedEarlier||this.hasVotedNow},progress:function(){var e=this;return this.survey.options.reduce(function(t,n){return t[n.id]=e.survey.vote_count?parseInt(n.vote_count/e.survey.vote_count*100,10):0,t},{})},redirectToLoginPage:function(){return this.user?null:i.routes.redirectToLoginPage(this.discussUrl)},votesText:function(){var e=this;return this.survey.options.reduce(function(t,n){return t[n.id]=e.$transChoice("{0} 0 Votes|{1} 1 Vote|]1,Inf] %count% Votes",n.vote_count,{"%count%":n.vote_count}),t},{})}},mounted:function(){this.survey=(0,o.default)({},this.surveyData)},methods:{requestCompleted:function(){this.isLoading=!1},submit:function(){var e=this.survey.id,t=i.routes.surveyVote(e,this.chosenOption);this.isLoading=!0,r.default.post(t).then(this.successfulVote.bind(this)).finally(this.requestCompleted.bind(this))},successfulVote:function(e){var t=this.survey.options.map(function(t){return t.vote_count=e.data.options[t.id],t});this.survey.options=t,this.survey.vote_count=e.data.voteCount,this.hasVotedNow=!0,this.showResults=!0},toggleResults:function(){this.showResults=!this.showResults}}}},1659:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(471)),r=n(662),a=n(96),i=n(1402),s=_interopRequireDefault(n(1403));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"tv-player-headline",components:{TvPlayer:s.default},props:{channel:{type:String,required:!0,default:r.constants.DEFAULT_CHANNEL},muted:{type:Boolean,default:r.constants.DEFAULT_MUTED},title:{type:String,required:!0}},data:function(){return{autoplay:r.constants.DEFAULT_AUTOPLAY,routes:(0,o.default)(i.routes)}},mounted:function(){(0,a.isMobile)()&&(this.autoplay=!1)}}},166:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pieceChangeRequiresRefresh=void 0;var o=n(14);t.pieceChangeRequiresRefresh=function(e,t){var n=e===t,r=o.reloadRequired.pieces.indexOf(e)>-1||o.reloadRequired.pieces.indexOf(t)>-1;return!n&&r}},167:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ratingChangeAnimation=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o};t.ratingChangeAnimation=function(e,t){var n=(0,a.default)({},{animationDuration:500,framesPerSecond:60,initialRating:0,ratingChange:0},e),o=n.initialRating+n.ratingChange,r=n.initialRating,i=Math.abs(n.animationDuration/n.ratingChange),s=1e3/n.framesPerSecond,l=Math.round(Math.max(i,s)),u=n.animationDuration/l,c=Math.round(n.ratingChange/u);!function scheduleNextAnimation(){setTimeout(function(){(r=n.ratingChange>0?Math.min(o,r+c):Math.max(o,r+c))!==o&&scheduleNextAnimation(),t(r)},l)}()}},168:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setBoardSize=void 0;var o=n(14);t.setBoardSize=function(e){var t=document.querySelector(o.domClasses.board);t&&"number"==typeof e&&(t.style.width=e+"px")}},169:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.showBoardResize=void 0;var o=n(14);t.showBoardResize=function(){var e=document.querySelector(o.domClasses.resize);e&&(e.style.visibility="visible")}},17:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var o=_interopRequireDefault(n(31)),r=_interopRequireDefault(n(3)),a=_interopRequireDefault(n(47));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=t.Utils={getId:function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array(e||20).fill().reduce(function(e){return e+t.charAt(Math.floor(Math.random()*t.length))},"")},getInitialFen:function(){return"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"},formatJSTimestampForPgn:function(e){var t=new Date(e),n=("0"+t.getUTCDate()).slice(-2),o=("0"+(t.getUTCMonth()+1)).slice(-2);return t.getFullYear()+"-"+o+"-"+n},getSanFromFileRank:function(e){return e&&e.file&&e.rank?String.fromCharCode(96+e.file)+e.rank.toString():null},getFileRankFromSan:function(e){return e?{file:e.toLowerCase().charCodeAt(0)-96,rank:Number(e.charAt(1))}:null},getPieceAt:function(e,t){return e.setup.pieces.find(function(e){return e.file===t.file&&e.rank===t.rank})},cloneGame:function(e){return{id:e.id,variant:e.variant,jce:e.jce,tree:i.cloneTree(e.tree),setup:JSON.parse((0,a.default)(e.setup)),markings:(0,r.default)({},e.markings),settings:(0,r.default)({},e.settings),history:[].concat((0,o.default)(e.history)),premoves:e.premoves.map(function(e){return JSON.parse((0,a.default)(e))})}},cloneTree:function(e){return(0,r.default)({},e,{initialMarkings:JSON.parse((0,a.default)(e.initialMarkings)),selected:(0,r.default)({},e.selected),selectedNode:e.selectedNode?(0,r.default)({},e.selectedNode,{ids:(0,r.default)({},e.selectedNode.ids),hash:[].concat((0,o.default)(e.selectedNode.hash)),lines:e.selectedNode.lines&&[].concat((0,o.default)(e.selectedNode.lines)),arrows:e.selectedNode.arrows&&[].concat((0,o.default)(e.selectedNode.arrows))}):null})},getFirstFen:function(e){return e.tree.lines[0].length?e.tree.lines[0][0].beforeFen:e.setup.fen}}},170:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.validateSize=function(e,t,n,o){var r=Math.min(e,t);return r=Math.max(r,n),r=(r=Math.floor(r/o)*o)>=n?r:r+o}},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(183),s=n(5);var l=function(e){this.$style=n(182)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},174:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return{emit:function(n,o){t.filter(function(e){return e.type===n}).forEach(function(t){return t.handler(e,o)})},off:function(e){return-1!==t.findIndex(function(t){return t.type===e.type&&t.handler===e.handler})&&t.splice(t,1),t},on:function(e,n){return t.push({type:e,handler:n}),t},state:e,subscriptions:t}}},175:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.state=void 0;var o=n(70);t.state={expanded:null===document.querySelector(o.sidebar.SIDEBAR+"."+o.sidebar.SIDEBAR_COLLAPSED),forcedOpen:!1,isLive:"/live"===window.location.pathname.substr(0,5),isLiveElement:document.querySelector("#live-app"),isVisible:!0,isWide:"en-US"!==document.documentElement.getAttribute("lang"),position:"horizontal",showingSecondary:null}},176:function(e,t,n){var o=n(73),r=n(46),a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!r(e))return!1;var t=o(e);return t==i||t==s||t==a||t==l}},177:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.toggleCollapse=t.onEditBtnClick=void 0;var o=_interopRequireDefault(n(25));t.parseContentCategories=parseContentCategories,t.parseContentResponse=parseContentResponse,t.showFooterOnLoad=showFooterOnLoad,t.showVideoModalOnClick=showVideoModalOnClick,t.showCaptcha=showCaptcha,t.hideCaptcha=hideCaptcha,t.stripTags=stripTags;var r=_interopRequireDefault(n(72)),a=n(185),i=n(13),s=n(71),l=n(186),u=n(188),c=n(184),d=_interopRequireDefault(n(69)),f=_interopRequireDefault(n(190));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parseContentCategories(e){return e.map(function(e){return e.name=i.translations.category(e.name),e}).sort(function(e,t){return e.display_order>t.display_order?1:-1})}function parseContentResponse(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={articles:{setHeadline:l.setArticleToHeadline,parseContent:l.parseArticlesResponse},blogs:{setHeadline:u.setBlogToHeadline,parseContent:u.parseBlogsResponse},news:{setHeadline:c.setNewsToHeadline,parseContent:c.parseNewsResponse}};return Object.prototype.hasOwnProperty.call(o,e)?(n&&t[0]&&(t[0]=o[e].setHeadline(t[0])),o[e].parseContent(t)):t}function showFooterOnLoad(){window.addEventListener("load",function(){(0,a.removeClassFromElement)(""+i.refs.NAVIGATION_FOOTER,"navigation-footer-hide"),(0,s.getElement)("layout-one-column-component")&&(0,a.addClassToElement)(""+i.refs.NAVIGATION_FOOTER,"navigation-footer-component-one-column"),(0,s.getElement)("layout-two-column-flipped-component")&&(0,a.addClassToElement)(""+i.refs.NAVIGATION_FOOTER,"navigation-footer-component-flipped-column")})}function showVideoModalOnClick(e){if(null!==e){var t=null;e.addEventListener("click",function(){var n=e.getAttribute("data-src");t||(t=t||(0,f.default)(n)),d.default.emit(r.default.SHOW_VIDEO_MODAL)})}}function showCaptcha(){(0,a.removeClassFromElement)(""+i.refs.CAPTCHA,"mobile-app-captcha-hide")}function hideCaptcha(){(0,a.addClassToElement)(""+i.refs.CAPTCHA,"mobile-app-captcha-hide")}function stripTags(e){return String(e).replace(/<[^>]+>/gm,"")}var m=t.onEditBtnClick=function(e,t){e.preventDefault(),t.classList.add(i.refs.POST_CAN_EDIT_URL)},p=function(e,t){return e||t},v=function(e){var t=e.currentTarget,n=t.getAttribute(i.attributes.ARIA_CONTROLS),o=t.getAttribute(i.attributes.CUSTOM_BTN_CLASS),r=t.getAttribute(i.attributes.CUSTOM_COLLAPSE_CLASS),a=i.refs.COLLAPSED,s=i.refs.HIDDEN;t.classList.toggle(p(o,a));var l=document.getElementById(n);l&&l.classList.toggle(p(r,s))};t.toggleCollapse=function toggleCollapse(){(0,o.default)(document.querySelectorAll("."+i.refs.COLLAPSE)).forEach(function(e){e.addEventListener("click",v)}),document.removeEventListener("DOMContentLoaded",toggleCollapse)};t.default={hideCaptcha:hideCaptcha,parseContentCategories:parseContentCategories,parseContentResponse:parseContentResponse,showCaptcha:showCaptcha,showFooterOnLoad:showFooterOnLoad,showVideoModalOnClick:showVideoModalOnClick,stripTags:stripTags,onEditBtnClick:m}},178:function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},179:function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},18:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GameAPI=void 0;var o=n(121),r=n(122),a=n(128),i=n(129),s=n(59),l=n(132),u=n(133),c=n(134),d=n(135),f=n(136),m=n(137),p=n(61),v=n(138),h=n(139),g=n(62),_=n(58),b=n(140),E=n(63),O=n(65),y=n(141),A=n(142),N=n(143),T=n(144),M=n(40),S=n(38),C=n(145),P=n(146),L=n(147),R=n(41),I=n(20),w=n(66),D=n(67),k=n(68),B=n(148),j=n(150),H=n(151),F=n(152),x=n(64),G=n(153),V=n(154),U=n(155),q=n(42),$=n(39),z=n(10),W=n(37),K=n(156),Y=n(157),Q=n(158);t.GameAPI={addBlinkingSquare:o.addBlinkingSquare,addVariant:r.addVariant,canMoveBackward:a.canMoveBackward,canMoveForward:i.canMoveForward,changeSettings:s.changeSettings,clearAnalysis:l.clearAnalysis,clearArrow:u.clearArrow,clearBlinkingSquare:c.clearBlinkingSquare,clearBoard:d.clearBoard,clearEffect:f.clearEffect,clearMarkedSquare:m.clearMarkedSquare,clearMarkings:p.clearMarkings,clearNodes:v.clearNodes,convertLanToFileRanks:h.convertLanToFileRanks,createGame:g.createGame,createVariation:_.createVariation,deleteLine:b.deleteLine,deleteNode:E.deleteNode,deleteRemainingNodes:O.deleteRemainingNodes,getCurrentFullLine:y.getCurrentFullLine,getPgn:A.getPgn,getPgnHeaders:N.getPgnHeaders,getSelectedNode:T.getSelectedNode,getTcn:M.getTcn,isMoveLegal:I.isMoveLegal,loadFromFen:S.loadFromFen,loadFromLan:C.loadFromLan,loadFromPgn:P.loadFromPgn,loadFromSanMoves:L.loadFromSanMoves,loadFromTcn:R.loadFromTcn,makeMove:I.makeMove,makeOpponentMove:I.makeOpponentMove,markArrow:w.markArrow,markEffect:D.markEffect,markSquare:k.markSquare,mergeTcn:B.mergeTcn,moveBackward:j.moveBackward,moveForward:H.moveForward,moveToEnd:F.moveToEnd,moveToStart:x.moveToStart,moveVariation:G.moveVariation,promoteVariation:V.promoteVariation,resetToMainLine:U.resetToMainLine,selectLineEnd:q.selectLineEnd,selectLineStart:$.selectLineStart,selectNode:z.selectNode,setPlayingAs:W.setPlayingAs,updateMarkings:K.updateMarkings,updateNode:Y.updateNode,updatePgnHeaders:Q.updatePgnHeaders}},180:function(e,t){e.exports=function(e){return e}},182:function(e,t){e.exports={component:"form-dropdown-component",select:"form-dropdown-select",filter:"form-dropdown-filter","desktop-button":"form-dropdown-desktop-button","mobile-button":"form-dropdown-mobile-button",value:"form-dropdown-value",chevron:"form-dropdown-chevron",options:"form-dropdown-options","advanced-options":"form-dropdown-advanced-options",option:"form-dropdown-option",icon:"form-dropdown-icon",live960:"form-dropdown-live960",bullet:"form-dropdown-bullet",blitz:"form-dropdown-blitz",rapid:"form-dropdown-rapid",threecheck:"form-dropdown-threecheck",kingofthehill:"form-dropdown-kingofthehill",crazyhouse:"form-dropdown-crazyhouse",bughouse:"form-dropdown-bughouse",selected:"form-dropdown-selected","short-title":"form-dropdown-short-title",overlay:"form-dropdown-overlay",separator:"form-dropdown-separator",flag:"form-dropdown-flag"}},183:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e,t,n,o=this,r=o.$createElement,a=o._self._c||r;return a("div",{class:o.$style.component},[o.iconButton?a("div",{class:(e={},e[o.$style["mobile-button"]]=o.iconButton,e),on:{click:function(e){return o.toggleOptions()}}},[a("icon-font",{class:o.$style.filter,attrs:{name:o.iconButton}})],1):o._e(),o._v(" "),a("div",{class:[o.$style.select,(t={},t[o.$style["desktop-button"]]=o.iconButton,t)],on:{click:function(e){return o.toggleOptions()}}},[o.value.icon?a("icon-font",{class:o.$style.icon,attrs:{theme:"primary",name:o.value.icon}}):o._e(),o._v(" "),o.value.countryId?a("div",{class:[o.$style.flag,"country-flags-component country-flags-large country-"+o.value.countryId]}):o._e(),o._v(" "),a("span",{class:o.$style.value},[o._v(o._s(o.value[o.labelKey]))]),o._v(" "),a("icon-font",{directives:[{name:"show",rawName:"v-show",value:o.showOptions,expression:"showOptions"}],class:o.$style.chevron,attrs:{name:"chevron-up"}}),o._v(" "),a("icon-font",{directives:[{name:"show",rawName:"v-show",value:!o.showOptions,expression:"!showOptions"}],class:o.$style.chevron,attrs:{name:"chevron-bottom"}})],1),o._v(" "),o.overlay?a("div",{directives:[{name:"show",rawName:"v-show",value:o.showOptions,expression:"showOptions"}],class:o.$style.overlay,on:{click:function(e){return o.toggleOptions()}}}):o._e(),o._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:o.showOptions,expression:"showOptions"}],class:[o.$style.options,(n={},n[o.$style["advanced-options"]]=o.advancedOptionsClass,n)]},o._l(o.options,function(e){return e.separator?e.separator?a("span",{class:o.$style.separator}):o._e():a("span",{key:e[o.valueKey],class:[o.$style.option,(t={},t[o.$style.selected]=e===o.value,t)],on:{click:function(t){return o.setSelectedOption(e)}}},[e.icon&&!e.noIconInsideDropdown?a("icon-font",{class:[o.$style.icon,(n={},n[o.$style[e.icon]]=o.colorIcons,n)],attrs:{theme:"primary",name:e.icon}}):o._e(),o._v(" "),e.countryId?a("div",{class:[o.$style.flag,"country-flags-component country-"+e.countryId]}):o._e(),o._v(" "),o.shortTitle?a("span",{class:o.$style["short-title"]},[o._v("\n        "+o._s(e[o.shortTitleKey])+"\n      ")]):o._e(),o._v(" "),a("span",{class:o.$style.label},[o._v("\n        "+o._s(e[o.labelKey])+"\n      ")])],1);var t,n}),0)])},r=[]},184:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(3));t.parseAuthorsResponse=parseAuthorsResponse,t.parseNewsResponse=parseNewsResponse,t.parseSingleNewsPost=parseSingleNewsPost,t.parseAdditionalPosts=function(e,t){return e.map(function(e,n){var o=parseSingleNewsPost(e);return o.image=t["additional"+(n+1)],o})},t.setNewsToHeadline=setNewsToHeadline;var r=_interopRequireDefault(n(8)),a=n(30);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parseAuthorsResponse(e){return e.length?e.map(function(e){return(0,o.default)({},e,{followers:(0,a.formatNumber)(e.followers)})}):e}function parseNewsResponse(e){return e.map(function(e){return(0,o.default)({},e,{author:{chessTitle:e.chess_title,username:e.username,url:r.default.generate("web_member_view",{username:e.username})},time:a.formatDate.relative(1e3*e.create_date),comments:(0,a.formatNumber)(e.comment_count),views:(0,a.formatNumber)(e.view_count),excerpt:e.body,image:e.image_url,isDraft:!e.is_live})})}function parseSingleNewsPost(e){return(0,o.default)({},{author:(0,o.default)({},e.user,{url:r.default.generate("web_member_view",{username:e.user.username}),membership:e.user.membership_level,isEnabled:e.user.is_enabled,countryCode:e.user.country.id.toString()}),time:a.formatDate.relative(e.create_date),comments:(0,a.formatNumber)(e.comment_count),views:(0,a.formatNumber)(e.view_count),content:e.body},e)}function setNewsToHeadline(e){return e&&(e.isHeadline=!0),e}t.default={parseAuthorsResponse:parseAuthorsResponse,parseNewsResponse:parseNewsResponse,parseSingleNewsPost:parseSingleNewsPost,setNewsToHeadline:setNewsToHeadline}},185:function(e,t){function removeClassFromElement(e,t){var n=document.getElementById(e);null===n&&void 0===n||n.classList.remove(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeClassFromElement=removeClassFromElement,t.addClassToElement=function(e,t){var n=document.getElementById(e);null===n&&void 0===n||n.classList.add(t)},t.default={removeClassFromElement:removeClassFromElement}},186:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(3));t.parseArticleCategories=parseArticleCategories,t.parseArticlesResponse=parseArticlesResponse,t.parseAuthorsResponse=parseAuthorsResponse,t.parseSingleArticle=parseSingleArticle,t.parseAdditionalPosts=function(e,t){return e.map(function(e,n){return parseSingleArticle({article:e,image:t["additional"+(n+1)]})})},t.setArticleToHeadline=setArticleToHeadline;var r=_interopRequireDefault(n(8)),a=n(30),i=n(187);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parseArticleCategories(e){return e.map(function(e){return e.name=i.translations.category(e.name),e}).sort(function(e,t){return e.display_order>t.display_order?1:-1})}function parseArticlesResponse(e){var t=window.location.pathname.indexOf("articles")>-1;return e.length?e.map(function(e){return(0,o.default)({},e,{author:{chessTitle:e.chess_title,username:e.username,url:r.default.generate(t?"web_article_member":"web_member_view",{username:e.username})},time:a.formatDate.relative(1e3*e.create_date),comments:(0,a.formatNumber)(e.comment_count),views:(0,a.formatNumber)(e.view_count),excerpt:e.body,image:e.image_url})}):e}function parseAuthorsResponse(e){return e.length?e.map(function(e){return(0,o.default)({},e,{followers:(0,a.formatNumber)(e.followers)})}):e}function parseSingleArticle(e){var t=e.article,n=e.avatar,i=void 0===n?"":n,s=e.categories,l=void 0===s?[]:s,u=e.image,c=void 0===u?"":u,d=e.parentId,f=void 0===d?0:d;return(0,o.default)({},{author:(0,o.default)({},t.user,{avatar:i,countryCode:t.user.country.id.toString(),isEnabled:t.user.is_enabled,membership:t.user.membership_level,url:r.default.generate("web_member_view",{username:t.user.username})}),category:l.find(function(e){return e.id===t.article_category_id})||{},comments:(0,a.formatNumber)(t.comment_count),content:t.body,image:c,parent:{id:f},time:a.formatDate.relative(t.create_date),views:(0,a.formatNumber)(t.view_count)},t)}function setArticleToHeadline(e){return e&&(e.isHeadline=!0),e}t.default={parseArticleCategories:parseArticleCategories,parseArticlesResponse:parseArticlesResponse,parseAuthorsResponse:parseAuthorsResponse,setArticleToHeadline:setArticleToHeadline}},187:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.chooseRoute=t.refs=t.translations=t.routes=t.attributes=void 0;var o,r=n(7),a=(o=r)&&o.__esModule?o:{default:o},i=n(44);t.attributes={ARTICLE_ID:"data-article-id"},t.routes={articlesIndex:function(e,t){var n={};return 1!==e&&(n.page=e),t&&(n.unpublished=t),(0,i.generateRoute)("web_article_index",n,!0)},articlesAuthors:(0,i.generateRoute)("web_articles_authors"),articlesSearch:function(e,t,n){return(0,i.generateRoute)("web_article_search",{keyword:e,page:t,orderBy:n},!0)},category:function(e){return(0,i.generateRoute)("web_article_category",{url:e})},categoryByPage:function(e,t,n){var o={url:e};return 1!==t&&(o.page=t),n&&(o.orderBy=n),(0,i.generateRoute)("web_article_category",o,!0)},createArticle:(0,i.generateRoute)("web_article_post"),curriculumForKids:(0,i.generateRoute)("web_article_view",{url:"free-chess-curriculum-for-parents-coaches"}),deleteArticle:function(e,t){return(0,i.generateRoute)("web_article_delete",{id:e,_token:t})},editArticle:function(e){return(0,i.generateRoute)("web_article_post",{id:e})},articleVersion:function(e,t){return(0,i.generateRoute)("web_article_post",{id:e,version:t})},member:function(e){return(0,i.generateRoute)("web_member_view",{username:e})},memberArticles:function(e){return(0,i.generateRoute)("web_article_member",{username:e})},memberArticlesByPage:function(e,t,n){return(0,i.generateRoute)("web_article_member",{username:e,page:t,orderBy:n},!0)},studyPlans:(0,i.generateRoute)("web_article_view",{url:"study-plan-directory"}),toggleCommentsLock:function(e){return(0,i.generateRoute)("web_article_toggle_lock_comments",{id:e})},translate:function(e){return(0,i.generateRoute)("web_article_post",{id:e})},unpublished:(0,i.generateRoute)("web_article_index",{unpublished:1})},t.translations={articles:a.default.trans("Articles"),articleAuthors:a.default.trans("Article Authors"),authors:a.default.trans("Authors"),category:function(e){return a.default.trans(e,{},"dynamic")},createArticle:a.default.trans("Create Article"),curriculumForKids:a.default.trans("Curriculum for Kids"),deleteArticle:a.default.trans("Delete Article"),deleteArticleConfirm:a.default.trans("Are you sure you want to delete this article?"),editArticle:a.default.trans("Edit Article"),headline:a.default.trans("Headline"),lockComments:a.default.trans("Lock Comments"),myArticles:a.default.trans("My Articles"),rss:a.default.trans("RSS"),studyPlans:a.default.trans("Study Plans"),translate:a.default.trans("Translate"),unlockComments:a.default.trans("Unlock Comments"),unpublished:a.default.trans("Unpublished")},t.refs={ARTICLES:"articles",ARTICLES_ID:"article-id",DATA_CATEGORY_URL:"data-category-url",DATA_CURRENT_PAGE:"data-current-page",DATA_KEYWORD:"data-keyword",DATA_ORDER_BY:"data-order-by",DATA_UNPUBLISHED:"data-unpublished",DATA_USERNAME:"data-username",PAGE_FILTERS:"page-filters",PAGINATION_BOTTOM:"pagination-bottom",POST_FORM_DATE:"form-date",POST_IMAGE_INPUT:"article_uploadedImages_main",POST_PREVIEW_BUTTON:"article_preview",POST_PUBLISH_BUTTON:"article_save",POST_TINYMCE:"article_body",PREVIEW_BUTTON:"article_preview",ROOT_AUTHORS:"view-articles-authors",ROOT_CATEGORY:"view-articles-category",ROOT_INDEX:"view-articles-index",ROOT_SINGLE:"view-articles-single",SAVE_BUTTON:"article_save"},t.chooseRoute={ARTICLES_SEARCH:"articlesSearch",CATEGORY_BY_PAGE:"categoryByPage",MEMBER_ARTICLES_BY_PAGE:"memberArticlesByPage"}},188:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(3));t.parseAuthorsResponse=parseAuthorsResponse,t.parseAuthorInfo=parseAuthorInfo,t.parseBlogsResponse=parseBlogsResponse,t.parseSingleBlogPost=parseSingleBlogPost,t.parseAdditionalPosts=function(e,t){return e.map(function(e,n){var o=parseSingleBlogPost(e);return o.image=t["additional"+(n+1)],o})},t.setBlogToHeadline=setBlogToHeadline,t.configureFilters=configureFilters;var r=n(98),a=n(99),i=n(30),s=n(22),l=n(13),u=n(189),c=_interopRequireDefault(n(91)),d=_interopRequireDefault(n(8));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parseAuthorsResponse(e){return e.map(function(e){return(0,o.default)({},e,{avatar:e.avatar_url,followers:(0,i.formatNumber)(e.follower_count),name:Object.prototype.hasOwnProperty.call(e,"first_name")?e.first_name+" "+(e.last_name?e.last_name:""):e.username})})}function parseAuthorInfo(e){var t=e.avatar,n=e.custom,o=e.isOwnBlog,r=e.isTracked,a=e.userUrl,i=e.viewedBlog,s=i.title,l=i.user;return{address:l.location,avatar:t,blogTitle:s,chessTitle:l.chess_title,country:l.country,custom:n,isEnabled:l.is_enabled,isFollowed:r,isOwnBlog:o,membership:l.membership_level,name:l.first_name?l.first_name+" "+(l.last_name?l.last_name:""):l.username,url:d.default.generate("web_blog_member",{url:a}),userUrl:a,username:l.username}}function parseBlogsResponse(e){return e.map(function(e){return(0,o.default)({},e,{author:{chessTitle:e.chess_title,username:e.username,url:d.default.generate("web_member_view",{username:e.username})},comments:(0,i.formatNumber)(e.comment_count),excerpt:e.body,isDraft:!e.is_live,image:e.image_url,time:i.formatDate.relative(1e3*e.create_date),views:(0,i.formatNumber)(e.view_count)})})}function parseSingleBlogPost(e){return(0,o.default)({},e,{author:(0,o.default)({},e.user,{url:d.default.generate("web_member_view",{username:e.user.username}),membership:e.user.membership_level,isEnabled:e.user.is_enabled,countryCode:e.user.country.id.toString(),chessTitle:e.user.chess_title}),comments:(0,i.formatNumber)(e.comment_count),content:e.body,time:i.formatDate.relative(e.create_date),url:d.default.generate("web_blog_view",{url:e.url}),views:(0,i.formatNumber)(e.view_count)})}function setBlogToHeadline(e){return e&&(e.isHeadline=!0),e}function configureFilters(){var e=c.default[l.refs.FILTERS],t=[{value:"create_date",label:u.translations.mostRecent},{value:"view_count",label:u.translations.mostViews}],n={onChange:function(e){var t=e.value,n=window.location.origin,o=window.location.pathname,i=(0,a.getAllUrlParams)(window.location.search),s=i.findIndex(function(e){return"orderBy"===e[0]});if(s>=0){i[s]=["orderBy",t];var l=(0,r.concatUrlParams)(i).join("&");window.location.href=""+n+o+"?"+l}else window.location.href=""+n+o+"?orderBy="+t},options:t,value:t[0]},o=document.getElementById(u.refs.ROOT_CATEGORY),i=o?o.getAttribute("data-order-by"):"";if(i){var d=t.find(function(e){return e.value===i});d&&(n.value=d)}c.default[l.refs.FILTERS]=(0,s.mergePropsData)(e,n)}t.default={configureFilters:configureFilters,parseAuthorsResponse:parseAuthorsResponse,parseAuthorInfo:parseAuthorInfo,parseBlogsResponse:parseBlogsResponse,parseSingleBlogPost:parseSingleBlogPost,setBlogToHeadline:setBlogToHeadline}},189:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.refs=t.translations=t.routes=void 0;var o,r=n(7),a=(o=r)&&o.__esModule?o:{default:o},i=n(44);t.routes={allBlogs:(0,i.generateRoute)("web_blog_all"),allBlogsByPage:function(e,t){var n={};return 1!==e&&(n.page=e),t&&(n.orderBy=t),(0,i.generateRoute)("web_blog_all",n,!0)},becomeABlogger:(0,i.generateRoute)("web_blog_view",{url:"webmaster/how-to-become-a-top-blogger-for-chesscom"}),blogGoLive:function(e){return(0,i.generateRoute)("web_blog_go_live",{id:e})},blogVersion:function(e,t){return(0,i.generateRoute)("web_blog_post",{id:e,version:t})},blogs:(0,i.generateRoute)("web_blog_index"),blogsIndexByPage:function(e){var t=1!==e?{page:e}:null;return(0,i.generateRoute)("web_blog_index",t,!0)},blogIdeas:{playing:(0,i.generateRoute)("web_blog_post",{title:a.default.trans("What got me playing chess")}),goals:(0,i.generateRoute)("web_blog_post",{title:a.default.trans("My chess goals are...")}),best:(0,i.generateRoute)("web_blog_post",{title:a.default.trans("My best chess win")})},blogsSearch:function(e){return(0,i.generateRoute)("web_blog_search",{keyword:e})},blogsSearchByPage:function(e,t,n){return(0,i.generateRoute)("web_blog_search",{keyword:e,page:t,orderBy:n},!0)},blogSettings:(0,i.generateRoute)("web_blog_settings_edit"),buryBlog:function(e,t,n){return(0,i.generateRoute)("web_content_set_buried",{bury:e,id:t,class:n})},createBlog:(0,i.generateRoute)("web_blog_post"),deleteBlog:function(e,t){return(0,i.generateRoute)("web_blog_delete",{id:e,_token:t})},editBlog:function(e){return(0,i.generateRoute)("web_blog_post",{id:e})},member:function(e){return(0,i.generateRoute)("web_member_view",{username:e})},memberBlogs:function(e){return(0,i.generateRoute)("web_blog_member",{url:e})},memberBlogsByPage:function(e,t,n){return(0,i.generateRoute)("web_blog_member",{url:e,page:t,orderBy:n},!0)},reportSpam:function(e){return(0,i.generateRoute)("web_blog_report_spam",{id:e})},topBloggers:(0,i.generateRoute)("web_blog_authors"),topBloggersByPage:function(e){return(0,i.generateRoute)("web_blog_authors",{page:e},!0)}},t.translations={allBlogs:a.default.trans("All Blogs"),becomeABlogger:a.default.trans("Become a listed Chess.com top blogger!"),blogs:a.default.trans("Blogs"),blogStart:a.default.trans("Start Your Blog"),blogStartMsg:a.default.trans("This is your personal blog where you can share your chess thoughts. Some ideas to blog about:"),blogSettings:a.default.trans("Blog Settings"),blogIdeas:{playing:a.default.trans("What got me playing chess"),goals:a.default.trans("My chess goals are..."),best:a.default.trans("My best chess win")},buryBlog:a.default.trans("Bury Blog"),blogNotPublished:a.default.trans("<strong>NOTE:</strong> Your Blog has not yet been published. This is only a <strong>preview</strong>."),clickHere:a.default.trans("Click here"),createBlog:a.default.trans("Create Post"),delete:a.default.trans("Delete"),deleteBlog:a.default.trans("Delete Blog"),deleteConfirmation:a.default.trans("Are you sure you want to delete this blog?"),edit:a.default.trans("Edit"),editBlog:a.default.trans("Edit Blog"),getListed:a.default.trans("Get Listed"),headline:a.default.trans("Headline"),mostRecent:a.default.trans("Most Recent"),mostViews:a.default.trans("Most Views"),myBlog:a.default.trans("My Blog"),moreInfo:a.default.trans("for more info."),no:a.default.trans("No"),noBlogPosts:a.default.trans("User doesn't have any blog posts"),publish:a.default.trans("Publish"),reportSpam:a.default.trans("Report Spam"),topBloggers:a.default.trans("Top Bloggers"),unburyBlog:a.default.trans("Unbury Blog"),yes:a.default.trans("Yes")},t.refs={BLOGS:"blogs",BLOGS_ID:"blog-id",CONFIRMATION_MODAL:"confirm-popover",CONFIRM_SUBMIT_MODAL:"confirm-submit-popover",INPUT_FOLLOW:"sidebar-input-follow",POST_HAS_IMAGE:"post-has-image",POST_IMAGE_INPUT:"blog_uploadedImages_main",POST_TINYMCE:"blog_body",PREVIEW_BUTTON:"blog_preview",ROOT_AUTHORS:"view-blogs-authors",ROOT_CATEGORY:"view-blogs-category",ROOT_INDEX:"view-blogs-index",ROOT_MEMBER:"view-blogs-member",ROOT_SINGLE:"view-blogs-single",SAVE_BUTTON:"blog_save"}},19:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.nodeProps=void 0;var o,r=n(31),a=(o=r)&&o.__esModule?o:{default:o},i=n(1);var s,l,u=t.nodeProps=["additionalAnnotation","annotation","arrows","color","comment","commentBefore","fen","flags","from","ids","lines","moveNumber","piece","previous","promotion","san","time","to"];t.default=(s=void 0,{state:l={lines:[]},updateLines:function(e){l.lines=[].concat((0,a.default)(e)),(e||[]).forEach(function(t,n){s=i.Line.isContinuation(e,t.id),l.lines[n]=t.map(function(e){var n={};return u.forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),s&&0===e.ids.move&&(n.commentBefore=t.initComment),n}),l.lines[n].atMoveNode=t.atMoveNode,l.lines[n].id=t.id,l.lines[n].parentId=t.parentId})}})},190:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(70),r=_interopRequireDefault(n(191)),a=_interopRequireDefault(n(24));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return new a.default({el:"#"+o.sitewide.MODAL_VIDEO,render:function(t){return t(r.default,{props:{source:e}})}})}},191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(76),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(193),s=n(5);var l=function(e){this.$style=n(192)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},192:function(e,t){e.exports={box:"modal-video-box",video:"modal-video-video",close:"modal-video-close"}},193:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e=this.$createElement,t=this._self._c||e;return t("modal-container",{ref:"modal"},[t("div",{class:this.$style.box},[t("div",{class:this.$style.video},[t("iframe",{attrs:{allowfullscreen:"",frameborder:"0",height:"100%",width:"100%",src:this.source}}),this._v(" "),t("icon-font",{class:this.$style.close,attrs:{family:"chess",name:"x",theme:"primary"},on:{click:this.hide}})],1)])])},r=[]},194:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(28);t.default={methods:{$trans:o.trans,$transChoice:o.transChoice}}},1975:function(e,t,n){n(694),n(745),n(746),n(720),n(796),n(1976),n(1401),n(1977),e.exports=n(1978)},1976:function(e,t){e.exports={component:"intro-component",shadow:"intro-shadow",container:"intro-container",logo:"intro-logo","login-box":"intro-login-box","dark-alt":"intro-dark-alt",header:"intro-header",title:"intro-title","play-with-us":"intro-play-with-us","play-now":"intro-play-now","guest-actions":"intro-guest-actions",icon:"intro-icon",learn:"intro-learn","play-online":"intro-play-online","play-computer":"intro-play-computer","on-mobile":"intro-on-mobile",puzzles:"intro-puzzles"}},1977:function(e,t){e.exports={quote:"index-quote","play-icon":"index-play-icon"}},1978:function(e,t,n){var o=n(685),r=n(13),a=n(662),i=n(177),s=_interopRequireDefault(n(1979)),l=_interopRequireDefault(n(1985));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById(o.refs.MAIN_AD);l.default.createInstances([r.refs.SIDEBAR_SURVEY,o.refs.SHORT_SIDEBAR_AD_BOTTOM,o.refs.SHORT_SIDEBAR_AD_TOP,a.refs.TV_PLAYER_HEADLINE]),e&&(0,s.default)()});var u=document.getElementById(o.refs.WHAT_IS_CHESS);(0,i.showVideoModalOnClick)(u),(0,i.showFooterOnLoad)()},1979:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(24)),r=n(685),a=_interopRequireDefault(n(1980)),i=_interopRequireDefault(n(32));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return new o.default({el:"#"+r.refs.MAIN_AD,components:{MainAd:a.default},store:i.default})}},198:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(43)),r=_interopRequireDefault(n(11)),a=_interopRequireDefault(n(21)),i=_interopRequireDefault(n(23));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function(){function ScriptLoader(){(0,a.default)(this,ScriptLoader),this.insert=this.loadScript(function(e,t){var n=document.createElement("script");return n.type="text/javascript",n.src=e,t&&(0,r.default)(t).forEach(function(e){n.setAttribute(e,t[e])}),document.body.appendChild(n),n})}return(0,i.default)(ScriptLoader,[{key:"loadScript",value:function(e){var t={};return function(n,r){if(void 0===t[n]){var a=new o.default(function(t,o){var a=e(n,r);a.onload=function(e){t(e)},a.onreadystatechange=a.onload,a.onerror=function(e){o(e)}});t[n]=a}return t[n]}}}]),ScriptLoader}();t.default=new s},1980:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1657),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(1984),s=n(5);var l=function(e){this.$style=n(1981)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},1981:function(e,t){e.exports={component:"main-ad-component",icon:"main-ad-icon"}},1982:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(21)),r=_interopRequireDefault(n(23)),a=_interopRequireDefault(n(1983));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=function(){function LocalStorage(){(0,o.default)(this,LocalStorage),this.jsonSettings=null,this.userPopoverData=null,this.chessBasil=(0,a.default)({namespace:null,storages:["local","cookie"],storage:"local",expireDays:1})}return(0,r.default)(LocalStorage,[{key:"works",value:function(){return!1!==this.chessBasil}},{key:"setItem",value:function(e,t){if(this.works()){var n=this.chessBasil.get("json_settings")||{};n[e]=t,this.jsonSettings=n,this.chessBasil.set("json_settings",n)}}},{key:"removeItem",value:function(e){if(this.works()){var t=this.chessBasil.get("json_settings");t&&(delete t[e],this.jsonSettings=t,this.chessBasil.set("json_settings",t))}}},{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.jsonSettings){if(this.jsonSettings[e])return this.jsonSettings[e]}else if(this.works()){var n=this.chessBasil.get("json_settings");if(this.jsonSettings=n,n&&n[e])return n[e]}return t}}]),LocalStorage}();t.default=new i},1983:function(e,t,n){e.exports=n(6)(188)},1984:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enabled?n("div",{class:e.$style.component},[e.showCloseButton?n("icon-font",{class:e.$style.icon,attrs:{name:"x"},on:{click:function(t){return t.preventDefault(),e.hideAd(t)}}}):e._e(),e._v(" "),e._t("default")],2):e._e()},r=[]},1985:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(78)),a=_interopRequireDefault(n(387)),i=_interopRequireDefault(n(390)),s=_interopRequireDefault(n(1986)),l=_interopRequireDefault(n(1990));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=(0,o.default)({},a.default,i.default,s.default,l.default),c=(0,r.default)(u);t.default=c},1986:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(22),a=n(13),i=n(1987),s=(o=i)&&o.__esModule?o:{default:o};t.default=(0,r.createComponentConfig)("#"+a.refs.SIDEBAR_SURVEY,function(e){return{component:s.default,propsData:{surveyData:JSON.parse(e.getAttribute("data-survey")),discussUrl:e.getAttribute("data-discuss-url"),hasVotedEarlier:"1"===e.getAttribute("data-has-voted"),user:!!e.getAttribute("data-user")}}})},1987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1658),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(1989),s=n(5);var l=function(e){this.$style=n(1988)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},1988:function(e,t){e.exports={question:"survey-question","question-link":"survey-question-link",label:"survey-label","label-title":"survey-label-title",subtitle:"survey-subtitle",progress:"survey-progress","progress-bar":"survey-progress-bar",submit:"survey-submit",actions:"survey-actions",separator:"survey-separator",details:"survey-details","results-button":"survey-results-button"}},1989:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{directives:[{name:"show",rawName:"v-show",value:!e.showResults&&!e.hasVoted,expression:"!showResults && !hasVoted"}]},[e._l(e.survey.options,function(t){return n("div",{key:t.id},[n("label",{class:e.$style.label},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenOption,expression:"chosenOption"}],attrs:{name:"surveyRadios",required:"required",type:"radio"},domProps:{value:t.id,checked:e._q(e.chosenOption,t.id)},on:{change:function(n){e.chosenOption=t.id}}}),e._v("\n        "+e._s(t.option)+"\n      ")])])}),e._v(" "),n("form-button",{directives:[{name:"show",rawName:"v-show",value:e.chosenOption,expression:"chosenOption"}],class:e.$style.submit,attrs:{disabled:e.isLoading,href:e.redirectToLoginPage,size:"large",theme:"primary"},on:{click:function(t){return e.submit()}}},[e._v("\n      "+e._s(e.translations.submit)+"\n    ")])],2),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showResults||e.hasVoted,expression:"showResults || hasVoted"}]},e._l(e.survey.options,function(t){return n("div",{key:t.id},[n("div",{class:e.$style["label-title"]},[e._v("\n        "+e._s(t.option)+"\n        "),n("span",{class:e.$style.subtitle},[e._v("\n          ("+e._s(e.progress[t.id])+"%,\n          "+e._s(e.votesText[t.id])+")\n        ")])]),e._v(" "),n("div",{class:e.$style.progress},[n("div",{class:e.$style["progress-bar"],style:"width: "+e.progress[t.id]+"%",attrs:{"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.progress[t.id],role:"progressbar"}})])])}),0),e._v(" "),n("div",{class:e.$style.actions},[n("a",{attrs:{href:e.discussUrl},domProps:{textContent:e._s(e.commentCount)}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.hasVoted,expression:"!hasVoted"}]},[n("span",{class:e.$style.separator},[e._v("|")]),e._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:!e.showResults,expression:"!showResults"}],attrs:{type:"button"},on:{click:function(t){return e.toggleResults()}}},[e._v("\n        "+e._s(e.translations.result)+"\n      ")]),e._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:e.showResults,expression:"showResults"}],attrs:{type:"button"},on:{click:function(t){return e.toggleResults()}}},[e._v("\n        "+e._s(e.translations.backToVote)+"\n      ")])])])])},r=[]},1990:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(22),a=n(662),i=n(1991),s=(o=i)&&o.__esModule?o:{default:o};t.default=(0,r.createComponentConfig)("#"+a.refs.TV_PLAYER_HEADLINE,function(e){return{component:s.default,propsData:{muted:"true"===e.getAttribute(a.attributes.TV_PLAYER_MUTED),channel:e.getAttribute(a.attributes.TV_PLAYER_CHANNEL),title:e.getAttribute(a.attributes.TV_PLAYER_TITLE)}}})},1991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1659),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(1993),s=n(5);var l=function(e){this.$style=n(1992)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},1992:function(e,t){e.exports={component:"tv-player-headline-component",player:"tv-player-headline-player"}},1993:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"post-preview-component post-preview-headline",class:e.$style.component},[n("tv-player",{class:e.$style.player,attrs:{autoplay:e.autoplay,channel:e.channel,muted:e.muted}}),e._v(" "),n("h2",{staticClass:"post-preview-titlecontainer"},[n("a",{staticClass:"post-preview-title",attrs:{href:e.routes.tv}},[e._v("\n      "+e._s(e.title)+"\n    ")])])],1)},r=[]},2:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.Events={ADD_BLINKING_SQUARE:"ADD_BLINKING_SQUARE",CLEAR_ARROW:"CLEAR_ARROW",CLEAR_BLINKING_SQUARE:"CLEAR_BLINKING_SQUARE",CLEAR_EFFECT:"CLEAR_EFFECT",CLEAR_MARKED_SQUARE:"CLEAR_MARKED_SQUARE",INIT:"INIT",LOAD:"LOAD",MAKE_MOVE:"MAKE_MOVE",ILLEGAL_MOVE:"ILLEGAL_MOVE",JUMP_TO_POSITION:"JUMP_TO_POSITION",TREE_CHANGE:"TREE_CHANGE",TREE_AMENDED:"TREE_AMENDED",SETTINGS_CHANGE:"SETTINGS_CHANGE",PGN_HEADERS_UPDATED:"PGN_HEADERS_UPDATED",CANCEL_PREMOVES:"CANCEL_PREMOVES",PREMOVE:"PREMOVE",GUESS_THE_MOVE:"GUESS_THE_MOVE",CANCEL_GUESS_THE_MOVE:"CANCEL_GUESS_THE_MOVE",UPDATE_NODE:"UPDATE_NODE"};var n=t.History={MAX_HISTORY_LIMIT:200,getInitialHistory:function(){return[]},add:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.length>n.MAX_HISTORY_LIMIT-1&&(e[e.findIndex(function(e){return null!==e})]=null);e.push({type:t,payload:o})},getLastItem:function(e){return e[e.length-1]}}},20:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(57);Object.defineProperty(t,"makeMove",{enumerable:!0,get:function(){return o.makeMove}});var r=n(126);Object.defineProperty(t,"makeOpponentMove",{enumerable:!0,get:function(){return r.makeOpponentMove}});var a=n(127);Object.defineProperty(t,"isMoveLegal",{enumerable:!0,get:function(){return a.isMoveLegal}})},200:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.refreshAd=t.positionDisabled=t.components=t.props=t.AdHelper=void 0;var o=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(21)),a=_interopRequireDefault(n(23)),i=_interopRequireDefault(n(305)),s=_interopRequireDefault(n(234)),l=_interopRequireDefault(n(311)),u=_interopRequireDefault(n(8)),c=_interopRequireDefault(n(32)),d=_interopRequireDefault(n(24)),f=n(96),m=_interopRequireDefault(n(314)),p=_interopRequireDefault(n(315));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var v=function(){function AdHelperClass(){var e=this;(0,r.default)(this,AdHelperClass),this.providers={},this.layout=window.Config?window.Config["ad.layout"]:"default",this.refreshIntervals=[90,10,10],this.counter=0,d.default.nextTick(function(){e.initProviderScripts()})}return(0,a.default)(AdHelperClass,[{key:"registerAdSlot",value:function(e,t){e in this.providers||(this.providers[e]=[]),-1===this.providers[e].indexOf(t)&&this.providers[e].push(t)}},{key:"setLayout",value:function(e){this.layout=e}},{key:"initProviderScripts",value:function(){var e=this;(0,i.default)(this.providers,function(t,n){"curse"===n?(m.default.init(),e.enableAutoRefresh()):p.default.init(e.layout)}),(0,o.default)(this.providers).length<1?setTimeout(function(){e.initProviderScripts()}):this.enableAutoRefresh()}},{key:"enableAutoRefresh",value:function(){0!==(0,o.default)(this.providers).length&&this.startRefreshTimer()}},{key:"startRefreshTimer",value:function(){var e=this;setTimeout(function(){if(e.providers.curse){if(window.factorem){var t=parseInt(e.providers.curse[e.counter].substr(-1),10);window.factorem.refreshAds([t],!0)}e.counter+=1,e.counter===e.providers.curse.length&&(e.counter=0),e.startRefreshTimer()}else setTimeout(e.startRefreshTimer.bind(e),1e3)},1e3*this.refreshIntervals[this.counter])}}]),AdHelperClass}();t.AdHelper=new v,t.props={position:{type:String,required:!1},provider:{type:String,default:"tms"},slotId:{type:String,required:!0},goPremiumLink:{type:String,default:u.default.generate("web_membership",{c:"no-ads"})}},t.components={PlaceholderAd:l.default,iframeAd:s.default},t.positionDisabled=function(e){var t=window.Config["ad.noAds"]||!1,n=window.Config["ad.disabledAds"]||[],o=Math.round((new Date).getTime()/1e3),r=window.location.pathname.split("/"),a=2===r[1].length?r[2]:r[1],i=(0,f.isMobile)()&&window.innerWidth<768,s=null!==window.navigator.userAgent.match(/PTST\/SpeedCurve/i)||c.default.getters["user/isLoggedIn"]&&-1!==["JustForShon","SmokeTestDiamond","NightwatchTest"].indexOf(c.default.getters["user/username"]);return!(!i&&!s)||(c.default.getters["user/isLoggedIn"]?t||c.default.getters["user/isPremium"]||c.default.getters["user/roles"].indexOf("ROLE_SUPPORT")>=0||-1!==n.indexOf(e)||!(c.default.state.user.registerDate<=o-172800):t||-1===["articles","article","news","forum","events","wcc2018"].indexOf(a))},t.refreshAd=function(e){d.default.nextTick(function(){window.factorem?window.factorem.refreshAds([e],!0):window.googletag&&window.googletag.pubads().refresh()})}},207:function(e,t,n){var o=n(239),r=n(52),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return r(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},208:function(e,t,n){(function(e){var o=n(79),r=n(240),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a?o.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l}).call(t,n(88)(e))},209:function(e,t){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&o.test(e))&&e>-1&&e%1==0&&e<t}},21:function(e,t,n){e.exports=n(6)(58)},210:function(e,t,n){var o=n(241),r=n(242),a=n(243),i=a&&a.isTypedArray,s=i?r(i):o;e.exports=s},211:function(e,t){e.exports={component:"form-button-component",dark:"form-button-dark","x-small":"form-button-x-small",small:"form-button-small",large:"form-button-large","x-large":"form-button-x-large","full-width":"form-button-full-width",basic:"form-button-basic",darkMode:"form-button-darkMode",primary:"form-button-primary",info:"form-button-info",danger:"form-button-danger"}},212:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e,t=this,n=t.$createElement;return(t._self._c||n)("button",t._g({class:[t.componentClasses(),t.$style[t.size],t.$style[t.theme],(e={},e[t.$style["full-width"]]=t.fullWidth,e)],attrs:{disabled:t.disabled,type:t.type},on:{click:t.handleClick}},t.$listeners),[t._t("default")],2)},r=[]},216:function(e,t,n){var o=n(237)();e.exports=o},217:function(e,t,n){var o=n(238),r=n(207),a=n(115),i=n(208),s=n(209),l=n(210),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),c=!n&&r(e),d=!n&&!c&&i(e),f=!n&&!c&&!d&&l(e),m=n||c||d||f,p=m?o(e.length,String):[],v=p.length;for(var h in e)!t&&!u.call(e,h)||m&&("length"==h||d&&("offset"==h||"parent"==h)||f&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||s(h,v))||p.push(h);return p}},218:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},22:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mergePropsData=t.createComponentConfig=void 0;var o=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(16));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.createComponentConfig=function(e,t){var n=document.querySelector(e),a=e.replace(/#|\./g,""),i=(0,r.default)({},""+a,{});return null!=n&&(i[a]=(0,o.default)({el:e},t(n))),i},t.mergePropsData=function(e,t){return e.propsData=(0,o.default)({},e.propsData,t),e}},222:function(e,t,n){var o=n(216),r=n(251);e.exports=function(e,t){return e&&o(e,t,r)}},223:function(e,t,n){var o=n(180);e.exports=function(e){return"function"==typeof e?e:o}},23:function(e,t,n){e.exports=n(6)(59)},230:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(200);t.default={name:"iframe-ad",props:{provider:{type:String,default:"tms"},slotId:{type:String,required:!0},sticky:{type:Boolean,default:!1}},computed:{adCssClass:function(){var e="";return"tms"===this.provider&&(e=this.sticky?"tmsads tmsads-sticky":"tmsads"),e}},mounted:function(){o.AdHelper.registerAdSlot(this.provider,this.slotId)}}},231:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(7),a=(o=r)&&o.__esModule?o:{default:o};t.default={name:"placeholder-ad",props:{goPremiumLink:{type:String,required:!0}},data:function(){return{labels:{hideAds:a.default.trans("Remove Ads")}}}}},234:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(230),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(310),s=n(5),l=Object(s.a)(r.a,i.a,i.b,!1,null,null,null);t.default=l.exports},237:function(e,t){e.exports=function(e){return function(t,n,o){for(var r=-1,a=Object(t),i=o(t),s=i.length;s--;){var l=i[e?s:++r];if(!1===n(a[l],l,a))break}return t}}},238:function(e,t){e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},239:function(e,t,n){var o=n(73),r=n(52),a="[object Arguments]";e.exports=function(e){return r(e)&&o(e)==a}},24:function(e,t,n){e.exports=n(6)(103)},240:function(e,t){e.exports=function(){return!1}},241:function(e,t,n){var o=n(73),r=n(178),a=n(52),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&r(e.length)&&!!i[o(e)]}},242:function(e,t){e.exports=function(e){return function(t){return e(t)}}},243:function(e,t,n){(function(e){var o=n(244),r="object"==typeof t&&t&&!t.nodeType&&t,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===r&&o.process,s=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}).call(t,n(88)(e))},244:function(e,t,n){e.exports=n(6)(180)},25:function(e,t,n){e.exports=n(6)(63)},251:function(e,t,n){var o=n(217),r=n(252),a=n(77);e.exports=function(e){return a(e)?o(e):r(e)}},252:function(e,t,n){var o=n(179),r=n(253),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return r(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},253:function(e,t,n){var o=n(218)(Object.keys,Object);e.exports=o},26:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.refs=t.invertedNagMap=t.nagMap=t.playerColors=t.defaultNodeLimit=void 0;var o=n(82),r=(t.defaultNodeLimit=function(){return{begin:{},focus:{},end:{}}},t.playerColors={BLACK:2,WHITE:1},t.nagMap={$1:"!",$2:"?",$3:"!!",$4:"??",$5:"!?",$6:"?!",$10:"=",$11:"=",$12:"=",$13:"",$14:"",$15:"",$16:"",$17:"",$18:"+-",$19:"-+",$22:"",$146:"N"});t.invertedNagMap=(0,o.invertObject)(r),t.refs={DIAGRAM_EDITOR:"diagram-editor-container"}},27:function(e,t,n){e.exports=n(6)(60)},276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(277),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(389),s=n(5);var l=function(e){this.$style=n(388)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},277:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(200),r=document.querySelector(".base-container"),a=0;t.default={name:"short-sidebar-ad",components:o.components,props:o.props,computed:{adId:function(){return"sidebar_short_"+this.position},enable:function(){return!(0,o.positionDisabled)(this.adId)},shouldBeSticky:function(){return this.enable&&"bottom"===this.position}},mounted:function(){this.shouldBeSticky&&(a=this.$refs[this.adId].offsetTop+this.$refs[this.adId].offsetHeight,r.addEventListener("scroll",this.onScroll))},beforeDestroy:function(){this.shouldBeSticky&&r.removeEventListener("scroll",this.onScroll)},methods:{onScroll:function(){this.$refs[this.adId]&&(r.scrollTop>a?this.$refs[this.adId].classList.add(this.$style.sticky):this.$refs[this.adId].classList.remove(this.$style.sticky))}}}},28:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Translator=t.getCountries=t.hasTranslation=t.transChoice=t.trans=t.getTranslatedPhrase=void 0;var o=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(87));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}r.default.placeHolderPrefix="",r.default.placeHolderSuffix="";var a=function(e){var t={};return null!==e&&void 0!==e&&(0,o.default)(e).forEach(function(n){var o=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");null!=o&&o.length>0&&(t[o]=e[n])}),t},i=t.getTranslatedPhrase=function getTranslatedPhrase(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"messages",n=arguments[2];return window.chesscom_translations&&window.chesscom_translations[t]&&window.chesscom_translations[t][e]?window.chesscom_translations[t][e]:window.chesscom_live_translations&&window.chesscom_live_translations[t]&&window.chesscom_live_translations[t][e]?window.chesscom_live_translations[t][e]:"live"===t&&window.i18n_phrases&&window.i18n_phrases[e]?window.i18n_phrases:"countries"===t&&window.Country&&window.Country[e]?window.Country:n?void 0:"javascript"!==t?getTranslatedPhrase(e,"javascript"):e},s=t.trans=function(e,t,n){return r.default.trans(i(e,n),a(t),n)},l=t.transChoice=function(e,t,n,o){return void 0===t?"":r.default.transChoice(i(e,o),t,a(n))};t.hasTranslation=function(e,t){return!!i(e,t,!0)},t.getCountries=function(){return window.chesscom_translations&&window.chesscom_translations.countries?window.chesscom_translations.countries:window.chesscom_live_translations&&window.chesscom_live_translations.countries?window.chesscom_live_translations.countries:window.Country?window.Country:void 0},t.Translator={trans:s,transChoice:l}},29:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(85),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(212),s=n(5);var l=function(e){this.$style=n(211)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},3:function(e,t,n){e.exports=n(6)(61)},30:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=void 0,t.getLocale=getLocale,t.formatNumber=formatNumber,t.formatTime=formatTime;var o,r=n(7),a=(o=r)&&o.__esModule?o:{default:o};function getLocale(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return(e||(Object.prototype.hasOwnProperty.call(window,"context")?window.context.i18n.locale:"en-US")).replace("_",t)}var i={year:{milliseconds:31536e6,str:"{1} 1 year|]1,Inf] %1$s% years",strAgo:"{1} 1 year ago|]1,Inf] %1$s% years ago"},month:{milliseconds:function(){switch((new Date).getMonth()){case 3:case 5:case 8:case 10:return 2592e6;case 1:return(new Date).getFullYear()%4==0?25056e5:24192e5;default:return 26784e5}}(),str:"{1} 1 month|]1,Inf] %1$s% months",strAgo:"{1} 1 month ago|]1,Inf] %1$s% months ago"},day:{milliseconds:864e5,str:"{1} 1 day|]1,Inf] %1$s% days",strAgo:"{1} 1 day ago|]1,Inf] %1$s% days ago"},hour:{milliseconds:36e5,str:"{1} 1 hour|]1,Inf] %1$s% hours",strAgo:"{1} 1 hour ago|]1,Inf] %1$s% hours ago"},minute:{milliseconds:6e4,str:"{1} 1 minute|]1,Inf] %1$s% minutes",strAgo:"{1} 1 minute ago|]1,Inf] %1$s% minutes ago"}},s=t.formatDate={hoursMinute:function(e){var t,n,o=[],r=0,i=e;return!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&(i-=86400*(r=Math.floor(i/86400))),i-=3600*(t=Math.floor(i/3600)),n=Math.floor(i/60),r>0&&o.push(a.default.transChoice("{0} 0 days|{1} 1 day|]1,Inf] %1$s% days",r,{"%1$s%":r})),t>0&&o.push(a.default.transChoice("{0} 0 hours|{1} 1 hour|]1,Inf] %1$s% hours",t,{"%1$s%":t})),(n>0||0===o.length)&&o.push(a.default.transChoice("{0} 0 min|{1} 1 min|]1,Inf] %1$s% min",n,{"%1$s%":n})),o.join(" ")},long:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat(getLocale(),{year:"numeric",month:"short",day:"numeric"}).format(t)},full:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat(getLocale(),{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}).format(t)},numeric:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e instanceof Date?e:new Date(e);if(window.Intl){var n=getLocale();return new Intl.DateTimeFormat(n,{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)}return("0"+(t.getMonth()+1)).slice(-2)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()},relative:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=void 0,r=void 0,s=Date.now(),l=(e instanceof Date?e:new Date(e)).getTime(),u=s-l;if(Math.abs(u)>i.month.milliseconds&&t){return new Intl.DateTimeFormat(getLocale(),{year:"numeric",month:"short",day:"numeric"}).format(l)}if(u>=i.year.milliseconds)r=i.year,o=Math.abs(Math.floor(u/i.year.milliseconds));else if(u>=i.month.milliseconds)r=i.month,o=Math.abs(Math.floor(u/i.month.milliseconds));else if(u>=i.day.milliseconds)r=i.day,o=Math.abs(Math.floor(u/i.day.milliseconds));else if(u>=i.hour.milliseconds)r=i.hour,o=Math.abs(Math.floor(u/i.hour.milliseconds));else{if(!(u>=i.minute.milliseconds))return a.default.trans("Just now");r=i.minute,o=Math.abs(Math.floor(u/i.minute.milliseconds))}var c=Math.abs(u)===u;return a.default.transChoice(c&&n?r.strAgo:r.str,o,{"%1$s%":o})},customNumericDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m/d/y",o=e instanceof Date?e:new Date(e),r={d:("0"+o.getDate()).slice(-2),m:("0"+(o.getMonth()+1)).slice(-2),y:""+o.getFullYear()};return["m","d","y"].every(function(e){return n.split("/").includes(e)})?n.split("/").reduce(function(e,t){return e.push(r[t]),e},[]).join(t):""+r.m+t+r.d+t+r.y}};function formatNumber(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Intl.NumberFormat([getLocale(t),"en-US"],n).format(e)}function formatTime(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0||null==e)return"";var n=(e%1e3/1e3).toString().slice(2,t+2),o=Math.floor(e/1e3),r=Math.floor(o/60),a=Math.floor(r/60),i=r%60,s=o%60,l=(i=i<10&&a?"0"+i:i)+":"+(s=s<10?"0"+s:s);return a&&(l=a+":"+l),t&&(l=l+"."+n),l}t.default={formatDate:s,getLocale:getLocale,formatNumber:formatNumber,formatTime:formatTime}},305:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(306),a=(o=r)&&o.__esModule?o:{default:o};t.default=a.default},306:function(e,t,n){var o=n(307),r=n(308),a=n(223),i=n(115);e.exports=function(e,t){return(i(e)?o:r)(e,a(t))}},307:function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}},308:function(e,t,n){var o=n(222),r=n(309)(o);e.exports=r},309:function(e,t,n){var o=n(77);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!o(n))return e(n,r);for(var a=n.length,i=t?a:-1,s=Object(n);(t?i--:++i<a)&&!1!==r(s[i],i,s););return n}}},31:function(e,t,n){e.exports=n(6)(62)},310:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.adCssClass,attrs:{id:this.slotId}})},r=[]},311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(231),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(313),s=n(5);var l=function(e){this.$style=n(312)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},312:function(e,t){e.exports={upgrade:"placeholder-ad-upgrade",link:"placeholder-ad-link"}},313:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.$style.upgrade},[t("a",{class:this.$style.link,attrs:{target:"_blank",href:this.goPremiumLink}},[this._v("\n    "+this._s(this.labels.hideAds)+"\n  ")])])},r=[]},314:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(21)),r=_interopRequireDefault(n(23)),a=_interopRequireDefault(n(198));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=function(){function CurseHelper(){(0,o.default)(this,CurseHelper);var e=(new Date).setHours(12,0,0,0),t=window.location.pathname;this.curseAdUrl="//cdm.cursecdn.com/js/chess/cdmfactorem_min.js?misc="+e,"/home"===t&&(this.curseAdUrl+="&sec=home")}return(0,r.default)(CurseHelper,[{key:"init",value:function(){var e=this;window.factorem={},window.factorem.slotSizes=[[[728,90]],[[300,250]],[[300,250]],[[728,90]],[[728,90]],[[300,250]],[[160,600]],[[160,600]]];var t=function windowLoadEvent(){window.removeEventListener("load",windowLoadEvent),a.default.insert(e.curseAdUrl)};!0===window.loadEventFired?t():window.addEventListener("load",t,!1)}}]),CurseHelper}();t.default=new i},315:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(21)),r=_interopRequireDefault(n(23)),a=_interopRequireDefault(n(198));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=function(){function TmsHelper(){(0,o.default)(this,TmsHelper),this.TmsAdUrl="//rocinante.themediashop.co/library/chess.js"}return(0,r.default)(TmsHelper,[{key:"init",value:function(e){var t=this,n=function windowLoadEvent(){window.removeEventListener("load",windowLoadEvent),a.default.insert(t.TmsAdUrl,{"data-tmsclient":"Chess","data-layout":e,"data-debug":"true"})};!0===window.loadEventFired?n():window.addEventListener("load",n,!1)}}]),TmsHelper}();t.default=new i},32:function(e,t,n){e.exports=n(6)(136)},33:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowEllipsisOnBlackMoveNumber=t.shouldShowDisplayNumber=t.isFirstNodeOnFormattedLine=t.generateAnnotationString=t.cleanCommentString=t.canBeDeleted=t.nodeIsBeforeLimitBegin=t.nodeIsAfterNodeLimitEnd=t.nodeIsALimit=t.isOnMainLine=t.isOnLastLineOfParent=t.isFirstNodeInGame=t.isLastMoveOnLine=t.isOnFirstLineOfParent=t.isEnPassant=t.hasLines=t.hasCommentBefore=t.hasComment=t.hasAnnotation=t.hasAdditionalAnnotation=t.isNagFormat=t.annotationExists=t.additionalAnnotationExists=t.normalizeAnnotation=void 0,t.displayNumber=function(e,t){var n="";u(e)&&(n+=e.nodeMoveNumber+(t-1)+".",c(e)&&(n+=".."),n+="&nbsp;");return n};var o=n(1),r=n(26),a=n(89),i=t.normalizeAnnotation=function normalizeAnnotation(e){return Object.prototype.hasOwnProperty.call(r.nagMap,e)||Object.prototype.hasOwnProperty.call(r.invertedNagMap,e)?s(e)?r.nagMap[e]:normalizeAnnotation(r.invertedNagMap[e]):e||""},s=(t.additionalAnnotationExists=function(e,t){return e.additionalAnnotation&&Array.isArray(e.additionalAnnotation)&&i(e.additionalAnnotation[0])===i(t)},t.annotationExists=function(e,t){return i(e.annotation)===i(t)},t.isNagFormat=function(e){return e&&"$"===e.charAt(0)}),l=(t.hasAdditionalAnnotation=function(e){return e.additionalAnnotation&&e.additionalAnnotation[0]},t.hasAnnotation=function(e){return Object.prototype.hasOwnProperty.call(e,"annotation")},t.hasComment=function(e){return Boolean(e&&"string"==typeof e.comment)},t.hasCommentBefore=function(e){return Boolean(e&&"string"==typeof e.commentBefore)},t.hasLines=function(e){return Boolean(e&&e.lines&&e.lines.length)},t.isEnPassant=function(e){return 4===e.flags},t.isOnFirstLineOfParent=function(e,t){return e.ids.line===t.lines[0]},t.isLastMoveOnLine=function(e,t){return e.ids.move===t.lines[e.ids.line].length-1},t.isFirstNodeInGame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===e.move&&0===e.line},t.isOnLastLineOfParent=function(e,t){return e.ids.line===t.lines[t.lines.length-1]},t.isOnMainLine=function(e){return o.Line.isMainLine(e.ids.line)}),u=(t.nodeIsALimit=function(e,t,n){return Object.prototype.hasOwnProperty.call(e,n)&&Object.prototype.hasOwnProperty.call(e[n],"ids")&&e[n].ids.move===t.ids.move&&e[n].ids.line===t.ids.line},t.nodeIsAfterNodeLimitEnd=function(e,t){var n=e[a.nodeLimitTypes.END];return!(!n||!Object.prototype.hasOwnProperty.call(n,"ids"))&&(t.ids.line>n.ids.line||t.ids.line===n.ids.line&&t.ids.move>n.ids.move)},t.nodeIsBeforeLimitBegin=function(e,t){var n=e[a.nodeLimitTypes.BEGIN];return!(!n||!Object.prototype.hasOwnProperty.call(n,"ids"))&&(t.ids.line<e.begin.ids.line||t.ids.line===e.begin.ids.line&&t.ids.move<e.begin.ids.move)},t.canBeDeleted=function(e,t){return!(t&&l(e))},t.cleanCommentString=function(e){var t=void 0;return" "===(t=(t=e.replace(/<\/?[^>]+(>|$)/g,"")).replace(/&nbsp;/g," "))&&(t=""),t},t.generateAnnotationString=function(e){var t="";return e.annotation&&(t=""+t+i(e.annotation)),e.additionalAnnotation&&e.additionalAnnotation[0]&&(t=t+"&nbsp;"+i(e.additionalAnnotation[0])),t},t.isFirstNodeOnFormattedLine=function(e){return 0===e.ids.move},t.shouldShowDisplayNumber=function(e){return Boolean(e.isWhite||e.isFirstNodeOnLine||e.previousHasComment||e.previousHasLines)}),c=t.shouldShowEllipsisOnBlackMoveNumber=function(e){return Boolean(!e.isWhite&&(e.previousHasComment||e.previousHasLines||e.isFirstNodeOnLine))}},34:function(e,t,n){e.exports=n(6)(104)},35:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GamePremoves=void 0;var o=n(4),r=t.GamePremoves={premove:function(e,t){var n=!1;return e.settings.premoves&&!e.settings.analysis&&e.jce.premoves.length<8&&(n=e.jce.premove(t,e.setup.playingAs)),n},cancelPremoves:function(e){return!!e.jce.premoves.length&&(e.jce.premoves.length=0,!0)},consumePremove:function(e){if(e.jce.premoves.length){var t=e.jce.premoves.shift();if(o.Game.move(e,t.move)){var n=e.jce.premoves.map(function(e){return e});e.jce.premoves.length=0;for(var a=0;a<n.length;a+=1){var i=n[a];if(delete i.move.san,!r.premove(e,i.move))break}return!0}}return!1}}},37:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.setPlayingAs=function(e,t){return[1,2].indexOf(t)>=0&&(e.setup.playingAs=t),e}},38:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromFen=void 0;var o=n(4),r=n(1),a=n(2),i=n(0);t.loadFromFen=function(e,t){return t?(r.Line.clearAllMarkings(e.jce._lines()),o.Game.load(e,t),a.History.add(e.history,a.Events.LOAD),i.State.updateState(e)):null}},387:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(22),a=n(13),i=n(276),s=(o=i)&&o.__esModule?o:{default:o};t.default=(0,r.createComponentConfig)("#"+a.refs.SHORT_SIDEBAR_AD_BOTTOM,function(e){return{component:s.default,propsData:{position:e.getAttribute("data-position"),slotId:e.getAttribute("data-slot-id")}}})},388:function(e,t){e.exports={container:"short-sidebar-ad-container",component:"short-sidebar-ad-component",iframe:"short-sidebar-ad-iframe",bottom:"short-sidebar-ad-bottom",sticky:"short-sidebar-ad-sticky"}},389:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enable?n("div",{ref:e.adId,class:[e.$style.component,e.$style[e.position]]},[n("iframe-ad",{class:e.$style.iframe,attrs:{"go-premium-link":e.goPremiumLink,provider:e.provider,"slot-id":e.slotId,sticky:e.shouldBeSticky}}),e._v(" "),n("placeholder-ad",{attrs:{"go-premium-link":e.goPremiumLink}})],1):e._e()},r=[]},39:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.selectLineStart=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(4),s=n(1),l=n(2),u=n(0);t.selectLineStart=function(e){var t=s.Line.getSelectedLine(e),n=0,o=(0,a.default)({},e.tree.selected);0===e.tree.selected.move&&void 0!==t.parentId?(i.Game.selectLine(e,t.parentId),t=s.Line.getSelectedLine(e)):s.Line.isMainLine(t.id)&&(n=-1);var r={line:t.id,move:n};return i.Game.selectNode(e,r),l.History.add(e.history,l.Events.JUMP_TO_POSITION,{from:o,to:r}),u.State.updateState(e)}},390:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(22),a=n(13),i=n(276),s=(o=i)&&o.__esModule?o:{default:o};t.default=(0,r.createComponentConfig)("#"+a.refs.SHORT_SIDEBAR_AD_TOP,function(e){return{component:s.default,propsData:{position:e.getAttribute("data-position"),slotId:e.getAttribute("data-slot-id")}}})},4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var o=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(15)),a=n(1),i=n(123),s=n(124),l=n(125),u=n(17);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c={createJce:function(e){var t=(0,o.default)({},e,{analysis:!0});return r.default.createGame(t)||null},updateIdsFromJce:function(e){return e&&e.jce?(e.tree.selected=e.jce.ids(),e):null},getSelectedIds:function(e){return e.jce.ids()},getPositionInfo:function(e){var t=r.default.getPositionInfo({game:e.jce},{skipValidation:!0,getLegalMoves:!0});return e.settings.premoves?t.legalPremoves=c.getLegalPremoves(e):t.legalPremoves=[],t},getPositionDetails:function(e){return(0,o.default)(r.default.getPositionDetails({game:e.jce,kings:!1,skipValidation:!0}),{hand:c.getHand(e)})},addExtraCastlingMoves:function(e){e.setup.legalMoves.forEach(function(t){16!==t.flags&&32!==t.flags||("chess960"===e.variant?c.addCastlingMoves960(e,t):c.addCastlingMoves(e,t))})},addCastlingMoves:function(e,t){var n=1===t.color?1:8;(16===t.flags?[8]:[1,2]).forEach(function(o){e.setup.legalMoves.push({color:t.color,flags:t.flags,piece:"k",from:t.from,san:16===t.flags?"O-O":"O-O-O",to:u.Utils.getSanFromFileRank({file:o,rank:n})})})},addCastlingMoves960:function(e,t){for(var n=u.Utils.getFileRankFromSan(t.from).rank,o=1,r=0;r<2;){var a=u.Utils.getPieceAt(e,{file:o,rank:n});void 0!==a&&"r"===a.type&&r++,(1===r&&32===t.flags||2===r&&16===t.flags)&&e.setup.legalMoves.push({color:t.color,flags:t.flags,piece:"k",from:t.from,san:16===t.flags?"O-O":"O-O-O",to:u.Utils.getSanFromFileRank({file:o,rank:n})})}o++},getHeaders:function(e){return e.jce.header()},getFen:function(e){return e.jce.fen()},getPgn:function(e,t){return e.jce.pgn(t)},getPremoves:function(e){return e.jce.premoves},getHand:function(e){return e.jce.hand()},getChecks:function(e){return e.jce.checks()},getLegalPremoves:function(e){return r.default.getPremoves(e.jce.premoves&&e.jce.premoves.length>0?e.jce.premoves[e.jce.premoves.length-1].fen:e.jce.fen(),e.setup.playingAs,e.variant)},load:function(e,t){return e.jce.load(t)&&c.updateIdsFromJce(e),e},loadPgn:function(e,t){return e.jce.loadPgn(t)&&c.updateIdsFromJce(e),e},createVariation:function(e){return e.jce.createVariation()&&(e.jce.reorderLines(),c.updateIdsFromJce(e)),e},getJCEMove:function(e,t){var n=t;return c.isValidMoveObject(t)?(n.san?n=r.default.sanToObj(n.san,c.getFen(e),e.variant):n.tcn&&(n=r.default.decodeTCN(n.tcn)[0]),n):null},move:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return null;var o=!1;if(!1===n){var r=t.from?e.jce.get(t.from):null,a=t.to?e.jce.get(t.to):null;if(r&&a&&"k"===a.type)return null;e.jce.remove(t.to),e.jce.remove(t.from);var i=t.drop||t.put;o=e.jce.put(r||{type:i.toLowerCase(),color:i&&i.toUpperCase()===i?1:2},t.to),t.from&&r&&null===t.to&&(o=!0)}else t.drop&&(t.drop=t.drop.toLowerCase()),o=e.jce.move(t);return o&&c.updateIdsFromJce(e),o},selectLine:function(e,t){var n=a.Line.getLine(e.tree.lines,t);return n&&(e.jce.selectLine(t),e.tree.selected={line:t,move:n.length-1}),e},selectNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{line:0,move:0};return e.jce.selectPosition(t.move,t.line),e},updateHeaders:function(e,t){return e.jce.header(t)},clear:function(e){return e.jce.clear(e.variant)},isFileRankEqual:function(e,t){return e.file&&t.file&&e.rank&&t.rank&&e.file===t.file&&e.rank===t.rank},isValidMoveObject:function(e){return"string"==typeof e.from&&"string"==typeof e.to||"string"==typeof e.san||"string"==typeof e.tcn||!e.from&&"string"==typeof e.to&&"string"==typeof e.drop||null===e.to&&"string"==typeof e.from||!e.from&&"string"==typeof e.to&&"string"==typeof e.put},movesMatch:function(e,t){return!(e.from!==t.from||e.to!==t.to||e.promotion&&e.promotion!==t.promotion||e.drop&&e.drop!==t.drop)},getMoveNumber:function(e,t){return 1===e?Math.ceil(t/2+1):Math.floor(t/2+1)},isUserTurn:function(e){return e.setup.playingAs===e.setup.sideToMove},getFens:s.getFens,getLastTcn:l.getLastTcn,getSanMoves:i.getSanMoves};t.Game=c},40:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getTcn=void 0;var o,r=n(15),a=(o=r)&&o.__esModule?o:{default:o},i=n(1);t.getTcn=function(e,t){var o=e.jce&&e.jce._lines()||n(19).default.state.lines;return a.default.encodeTCN(i.Line.getLine(o,t)||o[0])}},41:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromTcn=void 0;var o,r=n(2),a=n(0),i=n(17),s=n(15),l=(o=s)&&o.__esModule?o:{default:o},u=n(38),c=n(20),d=n(10),f=n(55);t.loadFromTcn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Utils.getInitialFen(),o=arguments[3];(0,u.loadFromFen)(e,n);var s=l.default.decodeTCN(t);return s?(s.forEach(function(t){"Crazyhouse"!==e.variant&&"Bughouse"!==e.variant||!t.drop||(0,f.setHand)(e,e.setup.sideToMove,t.drop),(0,c.makeMove)(e,t,!0)}),a.State.updateState(e),o?(0,d.selectNode)(e,e.tree.selected,-1):(r.History.add(e.history,r.Events.LOAD),e)):null}},42:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.selectLineEnd=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(4),s=n(1),l=n(2),u=n(0);t.selectLineEnd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.tree.selected.line,n=s.Line.getLine(e.jce._lines(),t).length-1,o=(0,a.default)({},e.tree.selected);if(e.tree.selected.move!==n||t!==e.tree.selected.line){var r={line:t,move:n};return i.Game.selectNode(e,r),l.History.add(e.history,l.Events.JUMP_TO_POSITION,{from:o,to:r}),u.State.updateState(e)}return e}},43:function(e,t,n){e.exports=n(6)(159)},44:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.generateRoute=void 0;var o,r=n(8),a=(o=r)&&o.__esModule?o:{default:o};t.generateRoute=function(e,t,n){var o=e,r=t;if(n){var i=document.querySelector("[data-url-locale]"),s=i&&i.getAttribute("data-url-locale"),l=s&&"en"!==s.split("_")[0]&&s.split("_")[0];l&&r&&(o="i18n_"+o,r._locale=l)}return a.default.generate(o,r)}},46:function(e,t,n){e.exports=n(6)(113)},47:function(e,t,n){e.exports=n(6)(175)},471:function(e,t,n){e.exports={default:n(721),__esModule:!0}},48:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(94),a=(o=r)&&o.__esModule?o:{default:o};t.default={name:"icon-font",mixins:[a.default]}},5:function(e,t,n){"use strict";t.a=function(e,t,n,o,r,a,i,s){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var u,c="function"==typeof e?e.options:e;t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0);o&&(c.functional=!0);a&&(c._scopeId=a);i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r);if(u)if(c.functional){c._injectStyles=u;var d=c.render;c.render=function(e,t){return u.call(t),d(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:c}}},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(56),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);var i=n(117),s=n(5);var l=function(e){this.$style=n(116)},u=Object(s.a)(r.a,i.a,i.b,!1,l,null,null);t.default=u.exports},52:function(e,t,n){e.exports=n(6)(186)},54:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(16),a=(o=r)&&o.__esModule?o:{default:o};t.default={props:{isDarkMode:{type:Boolean,default:!1}},methods:{componentClasses:function(){var e;return e={},(0,a.default)(e,this.$style.component,!0),(0,a.default)(e,this.$style.darkMode,this.isDarkMode),e}}}},55:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setHand=void 0;n(0);var o={p:1,n:32,b:256,r:2048,q:16384};t.setHand=function(e,t,n){return e.jce._hand[t]=n.split("").reduce(function(e,t){return e+o[t]},0),e.setup.hand=e.jce.hand(),e}},56:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(83);t.default={name:"modal-container",props:{autoShow:{type:Boolean,default:!1},closeOnBackgroundClick:{type:Boolean,default:!0},closeOnEscPress:{type:Boolean,default:!1},centerOverParent:{type:Boolean,default:!1},centerOverContent:{type:Boolean,default:!1}},data:function(){return{visible:!1}},mounted:function(){this.closeOnEscPress&&window.addEventListener("keyup",this.onKeyPress),this.autoShow&&this.show()},beforeDestroy:function(){this.closeOnEscPress&&window.removeEventListener("keyup",this.onKeyPress)},methods:{hide:function(){this.visible=!1,this.$emit(o.events.MODAL_DID_HIDE)},onBackgroundClick:function(){this.closeOnBackgroundClick&&this.hide()},onKeyPress:function(e){27===e.keyCode&&this.hide()},show:function(){this.visible=!0}}}},57:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.makeMove=t.isValidMove=void 0;var o,r=n(4),a=n(10),i=n(2),s=n(0),l=n(15),u=(o=l)&&o.__esModule?o:{default:o},c=n(1),d=n(58);var f=function(e){return-1!==e.tree.selected.move&&e.settings.mainLineIsImmutable&&c.Line.isMainLine(e.tree.selected.line)},m=t.isValidMove=function(e,t){return null!==u.default.getPositionDetails({fen:r.Game.getFen(e),variant:r.Game.getHeaders(e).Variant||"Chess"},t)};t.makeMove=function makeMove(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=r.Game.getJCEMove(e,t);if(null===o)return i.History.add(e.history,i.Events.ILLEGAL_MOVE),e;var l=e.settings.analysis||n;if(!c.Line.isHead(e.jce._lines(),e.tree.selected)){if(!l)return(0,a.selectNode)(e,c.Line.getHeadIds(e.jce._lines(),e.tree.selected.line));var u=c.Line.getNextMatchingNode(e.jce._lines(),e.tree.selected,o);if(u)return(0,a.selectNode)(e,u.ids);if(m(e,o)){if(i.History.add(e.history,i.Events.TREE_AMENDED),e.settings.variations)return r.Game.selectNode(e,{line:e.tree.selected.line,move:e.tree.selected.move+1}),r.Game.createVariation(e),s.State.updateState(e),makeMove(e,o);if(!e.settings.mainLineIsImmutable)return c.Line.prune(e.jce._lines(),e.tree.selected),makeMove(e,o)}return i.History.add(e.history,i.Events.ILLEGAL_MOVE),e}if(!l&&!r.Game.isUserTurn(e))return i.History.add(e.history,i.Events.ILLEGAL_MOVE),e;if(l&&e.settings.variations&&f(e)&&m(e,o)){var p=c.Line.getNextMatchingNode(e.jce._lines(),e.tree.selected,o);return p?(0,a.selectNode)(e,p.ids):((0,d.createVariation)(e,!0),s.State.updateState(e),makeMove(e,o))}return!f(e)&&r.Game.move(e,o,e.settings.rules)?(i.History.add(e.history,i.Events.MAKE_MOVE,o),s.State.updateState(e)):(i.History.add(e.history,i.Events.ILLEGAL_MOVE),e)}},58:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createVariation=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(4),s=n(1),l=n(2),u=n(0);t.createVariation=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,a.default)({},e.tree.selected);if(!e.settings.variations)return null;void 0!==n.line&&void 0!==n.move?i.Game.selectNode(e,n):n=e.tree.selected;var r=s.Line.getNode(e.jce._lines(),{line:n.line,move:n.move}).san;return i.Game.createVariation(e),t&&i.Game.move(e,r),l.History.add(e.history,l.Events.JUMP_TO_POSITION,{from:o,to:n}),u.State.updateState(e)}},59:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.changeSettings=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(2),s=n(101),l=n(0);t.changeSettings=function(e,t){var n=Object.prototype.hasOwnProperty.call(t,"premoves")&&e.settings.premoves!==t.premoves;return e.settings=(0,a.default)(e.settings,t),e.settings.premoves||(0,s.cancelPremoves)(e),i.History.add(e.history,i.Events.SETTINGS_CHANGE),n&&l.State.updateState(e),e}},6:function(e,t){e.exports=vueDLL},60:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.cancelPremoves=void 0;var o=n(2),r=n(35),a=n(0);t.cancelPremoves=function(e){return r.GamePremoves.cancelPremoves(e)&&(o.History.add(e.history,o.Events.CANCEL_PREMOVES),a.State.updateState(e)),e}},61:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearMarkings=void 0;var o=n(2),r=n(1),a=n(4),i=n(0);t.clearMarkings=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=r.Line.getNode(e.jce._lines(),t)||r.Line.getNode(e.jce._lines(),a.Game.getSelectedIds(e))||e.tree.initialMarkings;return(s.arrows&&s.arrows.length||s.squares&&s.squares.length||s.effects&&s.effects.length)&&(s.arrows=[],s.squares=[],s.effects=[],n&&(i.State.updateState(e),o.History.add(e.history,o.Events.TREE_CHANGE))),e}},62:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createGame=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(17),s=n(0),l=n(4),u=n(2),c=n(37);t.createGame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={id:i.Utils.getId(),variant:e.variant||"chess",settings:(0,a.default)(s.State.getInitialSettings(),e.settings),setup:(0,a.default)(s.State.getInitialSetup(),e.setup),tree:(0,a.default)(s.State.getInitialTree(),e.tree),history:u.History.getInitialHistory(),markings:(0,a.default)(s.State.getInitialMarkings(),e.markings),premoves:[]};return(0,c.setPlayingAs)(t,e.player||1),Object.defineProperty(t,"jce",{writable:!1,enumerable:!1,configurable:!1,value:l.Game.createJce(e)}),l.Game.updateIdsFromJce(t),u.History.add(t.history,u.Events.INIT),t.jce.siblingGame&&!t.sibling&&(t.sibling={id:i.Utils.getId(),variant:t.variant||"chess",sibling:t,settings:t.settings,setup:s.State.getInitialSetup(),tree:s.State.getInitialTree(),history:u.History.getInitialHistory(),markings:(0,a.default)(s.State.getInitialMarkings(),e.markings),premoves:[]},Object.defineProperty(t.sibling,"jce",{writable:!1,enumerable:!1,configurable:!1,value:l.Game.createJce({game:t.jce.siblingGame})}),l.Game.updateIdsFromJce(t.sibling)),s.State.updateState(t),t}},63:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteNode=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=(n(33),n(1)),s=n(2),l=n(0);n(64),n(10);t.deleteNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(i.Line.findNode(e.jce._lines(),e.tree.selected),(0,a.default)(e.tree.selected,t));return n.line>0&&(n.move<=0||i.Line.isFirstVisibleNode(e.jce._lines(),n))&&(n.move=-1),e.jce.deletePosition(n.move,n.line),s.History.add(e.history,s.Events.TREE_CHANGE),l.State.updateState(e),e}},64:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveToStart=void 0;var o=n(4),r=n(1),a=n(39),i=n(0);t.moveToStart=function(e){return r.Line.isMainLine(e.tree.selected.line)||o.Game.selectLine(e,0),(0,a.selectLineStart)(e),i.State.updateState(e)}},65:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteRemainingNodes=void 0;var o,r=n(3),a=(o=r)&&o.__esModule?o:{default:o},i=n(63);n(2),n(0);t.deleteRemainingNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,a.default)(e.tree.selected,t);return(0,i.deleteNode)(e,{move:n.move+1,line:n.line})}},66:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.markArrow=void 0;var o=n(2),r=n(1),a=n(4),i=n(0);t.markArrow=function(e,t,n){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=r.Line.getNode(e.jce._lines(),n)||r.Line.getNode(e.jce._lines(),a.Game.getSelectedIds(e))||e.tree.initialMarkings;return l.arrows||(l.arrows=[]),l.arrows.find(function(e){return a.Game.isFileRankEqual(e.fromFileRank,t.fromFileRank)&&a.Game.isFileRankEqual(e.toFileRank,t.toFileRank)})||(l.arrows.push(t),s&&(i.State.updateState(e),o.History.add(e.history,o.Events.TREE_CHANGE))),e}},662:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.translations=t.routes=t.constants=t.attributes=t.refs=void 0;var o=_interopRequireDefault(n(8)),r=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.refs={CREATE_SHOW_BANNER_IMAGE_BUTTON:"banner-image-upload-button",CREATE_SHOW_BANNER_IMAGE_INPUT:"show_uploadedImages_banner",CREATE_SHOW_BANNER_IMAGE_THUMBNAIL:"banner-image-upload-thumbnail",CREATE_SHOW_MAIN_IMAGE_BUTTON:"main-image-upload-button",CREATE_SHOW_MAIN_IMAGE_INPUT:"show_uploadedImages_main",CREATE_SHOW_MAIN_IMAGE_THUMBNAIL:"main-image-upload-thumbnail",CREATE_VIDEO_CHAT:"tv_video_chatId",CREATE_VIDEO_CUSTOM_EMBED:"tv-custom-embed",CREATE_VIDEO_HEADLINE_IMAGE_BUTTON:"headline-image-upload-button",CREATE_VIDEO_HEADLINE_IMAGE_INPUT:"tv_video_uploadedImages_headline",CREATE_VIDEO_HEADLINE_IMAGE_THUMBNAIL:"headline-image-upload-thumbnail",CREATE_VIDEO_LANGUAGE:"tv_video_language",CREATE_VIDEO_MAIN_IMAGE_BUTTON:"main-image-upload-button",CREATE_VIDEO_MAIN_IMAGE_INPUT:"tv_video_uploadedImages_main",CREATE_VIDEO_MAIN_IMAGE_THUMBNAIL:"main-image-upload-thumbnail",CREATE_VIDEO_SHOW:"tv_video_show",POST_TINYMCE:"show_description",CREATE_VIDEO_STREAM_TYPE:"tv_video_streamType",CUSTOM_HTML:"custom-html-modal",CUSTOM_HTML_CLOSE:"custom-html-close-on-click",CUSTOM_HTML_OPENED:"custom-html-modal-opened",CUSTOM_HTML_SHOW:"custom-html-show",LANGUAGE_DROPDOWN:"tv-language-select",ROOT_INDEX:"view-tv-index",ROOT_SCHEDULE:"view-tv-schedule",ROOT_SHOWS:"view-tv-shows",TV_PLAYER:"tv-player",TV_PLAYER_HEADLINE:"tv-player-headline"},t.attributes={AMPLITUDE_PROPS:"data-amplitude-props",CURRENT_LANGUAGE:"data-current-language",IS_WATCHED:"data-is-watched",LANGUAGES:"data-languages",LIVE_VIDEO_URL:"data-live-video-url",TOTAL_PAGES:"data-total-pages",TV_PLAYER_CHANNEL:"data-channel",TV_PLAYER_MUTED:"data-muted",TV_PLAYER_TITLE:"data-title"},t.constants={DEFAULT_AUTOPLAY:!0,CUSTOM_STREAM_TYPE:"custom",DEFAULT_CHANNEL:"chess",DEFAULT_MUTED:!1},t.routes={getFeaturedVideo:function(){return o.default.generate("web_tv_callback_get_featured_video")},getShowLanguage:function(e){return o.default.generate("web_tv_callback_show_language",{show:e})},schedule:o.default.generate("web_chess_tv"),scheduleI18n:function(e){return o.default.generate("web_chess_tv_i18n",{locale:e})}},t.translations={deleteEpisodeConfirm:r.default.trans("Are you sure you want to delete this episode?"),deleteShowConfirm:r.default.trans("Are you sure you want to delete this show?")}},67:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.markEffect=void 0;var o=n(2),r=n(1),a=n(4),i=n(0);t.markEffect=function(e){var t=e.game,n=e.effect,s=e.ids,l=e.persist,u=e.updateState,c=void 0===u||u;if(l)return t.setup.effects=n?[n]:null,i.State.updateState(t),t;var d=r.Line.getNode(t.jce._lines(),s)||r.Line.getNode(t.jce._lines(),a.Game.getSelectedIds(t))||t.tree.initialMarkings;return d.effects||(d.effects=[]),d.effects.find(function(e){return a.Game.isFileRankEqual(e.square,n.square)})||(d.effects.push(n),c&&(i.State.updateState(t),o.History.add(t.history,o.Events.TREE_CHANGE))),t}},68:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.markSquare=void 0;var o=n(2),r=n(1),a=n(4),i=n(0);t.markSquare=function(e,t,n){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=r.Line.getNode(e.jce._lines(),n)||r.Line.getNode(e.jce._lines(),a.Game.getSelectedIds(e))||e.tree.initialMarkings;return l.squares||(l.squares=[]),l.squares.find(function(e){return a.Game.isFileRankEqual(e,t)})||(l.squares.push(t),s&&(i.State.updateState(e),o.History.add(e.history,o.Events.TREE_CHANGE))),e}},685:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.refs={MAIN_AD:"main-ad",SHORT_SIDEBAR_AD_BOTTOM:"short-sidebar-ad-bottom",SHORT_SIDEBAR_AD_TOP:"short-sidebar-ad-top",TALL_SIDEBAR_AD:"tall-sidebar-ad",WHAT_IS_CHESS:"what-is-chess"},t.positions={MODAL:"modal"}},69:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(174),a=(o=r)&&o.__esModule?o:{default:o},i=n(175);t.default=(0,a.default)(i.state)},694:function(e,t){e.exports={ad:"what-is-chess-ad",title:"what-is-chess-title",play:"what-is-chess-play",icon:"what-is-chess-icon"}},7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(28);t.default=o.Translator},70:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.header={BADGE_HOME:"navigation-header-home-badge",BADGE_MESSAGES:"navigation-header-messages-badge",BADGE_SECONDARY_MESSAGES:"navigation-secondary-messages-badge",BADGE_PLAY:"navigation-header-play-badge",DAILY_TIME_CONTROLS_BUTTON:"navigation-sidebar-play-button",FEATURE_LINK_HELP:"navigation-header-help-link",FEATURE_LINK_NOTIFICATIONS:"navigation-header-notifications-link",FEATURE_LINK_SEARCH:"navigation-header-search-link",FEATURE_LINK_SETTINGS:"navigation-header-settings-link",FEATURE_LINK_SIDE_MENU:"side-navigation-link",HEADER:"navigation-header",HEADER_COMPONENT:"navigation-header-primary-component",HELP_POPOVER:"navigation-popover-help-component navigation-header-features-popover-help",LINK_FORUMS:"navigation-header-link-forums",LINK_HOME:"navigation-header-link-home",LINK_LEARN:"navigation-header-link-learn",LINK_PLAY:"navigation-header-link-play",LINK_SHARE:"navigation-header-link-share",NOTIFICATIONS_POPOVER:"navigation-popover-notifications-component navigation-header-features-popover-notifications",SEARCH_POPOVER:"navigation-popover-search-component navigation-header-features-popover-search",SECONDARY_ELEMENT:"navigation-header-category-secondary",SECONDARY_HIDE:"secondary-hide",SETTINGS_POPOVER:"navigation-header-features-popover-settings",TIME_CONTROLS:"navigation-header-play-right",TV_COMPONENT:"navigation-header-category-component navigation-header-primary-watch",TV_POPOVER:"navigation-popover-watch-component navigation-header-primary-popover-watch"},t.sidebar={AUTHENTICATE:"navigation-sidebar-authenticate-component",AUTHENTICATE_COLLAPSED:"navigation-sidebar-authenticate-collapsed",BADGE_HOME:"navigation-sidebar-home-badge",BADGE_INDEX:"navigation-sidebar-index-badge",BADGE_MESSAGES:"navigation-sidebar-messages-badge",BADGE_PLAY:"navigation-sidebar-play-badge",BOTTOM_LINK_EXPAND_COLLAPSE:"navigation-sidebar-expand-collapse-feature",BOTTOM_LINK_HELP:"navigation-sidebar-help-feature",BOTTOM_LINK_SEARCH:"navigation-sidebar-search-feature",BOTTOM_LINK_SETTINGS:"navigation-settings-link",BOTTOM_LINK_TOP_MENU:"navigation-toggle",DAILY_TIME_CONTROLS_BUTTON:"navigation-sidebar-play-button",HELP_POPOVER:"navigation-popover-help-component navigation-sidebar-feature-popover-help",LINK:"navigation-sidebar-category-component",LINK_HOME:"navigation-sidebar-home-category",LINK_INDEX:"navigation-sidebar-index-category",LINK_LEARN:"navigation-sidebar-learn-category",LINK_PLAY:"navigation-sidebar-play-category",LINK_SHARE:"navigation-sidebar-share-category",LOGO:"navigation-sidebar-primary-logo",LOGO_COLLAPSED:"navigation-sidebar-logo-collapsed",NAV_CLOSE_ICON:"nav-close-icon",NAV_OPEN_ICON:"nav-open-icon",NOTIFICATIONS_PANEL_CATCHMENT:"navigation-sidebar-notifications-catchment",SEARCH_BUTTON:"navigation-search-link",SEARCH_POPOVER:"navigation-sidebar-feature-popover-search",SECONDARY:"navigation-sidebar-secondary-component",SECONDARY_ACTIVE:"navigation-sidebar-secondary-active",SECONDARY_COLLAPSED:"navigation-sidebar-secondary-collapsed",SECONDARY_CONTROLS_SHOW:"navigation-sidebar-play-show",SECONDARY_DAILY_TIME_CONTROLS:"navigation-sidebar-play-daily",SECONDARY_ELEMENT:"navigation-sidebar-secondary-element",SECONDARY_LINK_DAILY:"navigation-secondary-dailychess",SECONDARY_LINK_LIVE:"navigation-secondary-livechess",SECONDARY_LIVE_TIME_CONTROLS:"navigation-sidebar-play-live",SECONDARY_NAVIGATION:"navigation-sidebar-secondary-navigation",SECONDARY_PANEL_HOME:"navigation-sidebar-home-component",SECONDARY_PANEL_LEARN:"navigation-sidebar-learn-component",SECONDARY_PANEL_NOTIFICATIONS:"navigation-sidebar-notifications-component",SECONDARY_PANEL_PLAY:"navigation-sidebar-play-component",SECONDARY_PANEL_SHARE:"navigation-sidebar-share-component",SECONDARY_WIDE:"navigation-sidebar-secondary-wide",SIDEBAR:"#sb",SIDEBAR_CATEGORIES_COLLAPSED:"navigation-sidebar-categories-collapsed",SIDEBAR_CATEGORY:"navigation-sidebar-category-component",SIDEBAR_CATEGORY_COLLAPSED:"navigation-sidebar-category-collapsed",SIDEBAR_COLLAPSED:"collapsed",SIDEBAR_FEATURE:"navigation-sidebar-feature-component",SIDEBAR_FEATURE_COLLAPSED:"navigation-sidebar-feature-collapsed",SIDEBAR_FEATURES:"navigation-sidebar-features-component",SIDEBAR_FEATURES_COLLAPSED:"navigation-sidebar-features-collapsed",SIDEBAR_FORCED_OPEN:"navigation-sidebar-open",SIDEBAR_GAMES:"navigations-sidebar-games",SIDEBAR_INTERNATIONAL:"nav-sidebar-wide",SIDEBAR_LINKS:"navigation-sidebar-primary-top",TIME_CONTROLS:"navigation-sidebar-play-daily",TV_COMPONENT:"navigation-sidebar-category-component navigation-sidebar-categories-watch",TV_ELEMENT:"chesstv",TV_EXCLAM:"navigation-sidebar-categories-exclamation",TV_POPOVER:"navigation-popover-watch-component navigation-sidebar-categories-popover-watch"},t.footer={FOOTER:"navigation-footer"},t.sitewide={DAILY_TIME_CONTROLS_HEADER:"daily-time-controls-header",LIVE_TIME_CONTROLS_HEADER:"live-time-controls-header",DAILY_TIME_CONTROLS_SIDEBAR:"daily-time-controls-sidebar",LIVE_TIME_CONTROLS_SIDEBAR:"live-time-controls-sidebar",MOBILE_NAV_TOGGLE:"mobile-nav-toggle",LANGUAGE_PICKER_MODAL:"language-picker-modal",MODAL_VIDEO:"modal-video"}},71:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.copyCustomValueToClipoard=t.show=t.injectModalMounts=t.injectMounts=t.hide=t.hasParent=t.getScrollElement=t.getElementContentDimensions=t.getElements=t.getElement=t.getClickedChild=t.browserWidth=void 0;var o,r=n(25),a=(o=r)&&o.__esModule?o:{default:o};t.copyInputValueToBuffer=copyInputValueToBuffer,t.showHideMore=showHideMore;var i=n(13),s=n(80);var l=t.browserWidth=function(){return window.parent.innerWidth},u=t.getClickedChild=function(e,t,n){var o=n,r=null;if(!e||!t||!n)return r;for(;o&&o!==e&&!r;)o.classList.contains(t)&&(r=o),o=o.parentNode;return r},c=t.getElement=function(e){return document.querySelector("."+e)},d=t.getElements=function(e){return document.getElementsByClassName(e)},f=t.getElementContentDimensions=function(e){var t=e.currentStyle||window.getComputedStyle(e),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight),o=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r=parseFloat(t.marginBottom)+parseFloat(t.marginTop),a=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),i=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),s=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{height:e.offsetHeight+r-a+s,width:e.offsetWidth+n-o+i}},m=(t.getScrollElement=function(){return document.querySelector(".base-container")||document.body},t.hasParent=function hasParent(e,t){return!!e&&(!(!e.classList||!e.classList.contains(t))||Boolean(e.parentNode)&&hasParent(e.parentNode,t))}),p=t.hide=function(e){e.forEach(function(e){var t=document.getElementsByClassName(e)[0];t&&"none"!==t.style.display&&(t.style.display="none")})},v=t.injectMounts=function(e,t){t.forEach(function(t){var n=document.createElement("div");n.id=t,e.appendChild(n)})},h=(t.injectModalMounts=function(e){var t=(0,s.getBoardContainerElement)();v(t,e)},t.show=function(e){document.getElementsByClassName(e)[0].style.display=""});t.copyCustomValueToClipoard=function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};function copyInputValueToBuffer(e){e&&(e.focus(),e.select(),document.execCommand("copy"))}function showHideMore(e,t,n,o){var r=c(e),s=d(t),l=c(n),u=c(o);r&&(l.innerHTML=i.translations.showMore,r.addEventListener("click",function(){u.classList.toggle("sidebar-users-grid-toggle-icon-up"),l.innerHTML=l.innerHTML===i.translations.showMore?i.translations.showLess:i.translations.showMore,(0,a.default)(s).forEach(function(e){e.style.display="block"===e.style.display?"none":"block"})}))}t.default={browserWidth:l,copyInputValueToBuffer:copyInputValueToBuffer,getClickedChild:u,getElement:c,getElementContentDimensions:f,getElements:d,hasParent:m,hide:p,injectMounts:v,show:h,showHideMore:showHideMore}},72:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BOTTOM_LINK_MOUSE_ENTER:"BOTTOM_LINK_MOUSE_ENTER",EXPAND_COLLAPSE_CHANGE:"EXPAND_COLLAPSE_CHANGE",FEATURE_LINK_INIT:"FEATURE_LINK_INIT",FETCH_NOTIFICATIONS:"FETCH_NOTIFICATIONS",FETCH_NOTIFICATION_COUNT:"FETCH_NOTIFICATION_COUNT",HIDE_TIME_CONTROLS:"HIDE_TIME_CONTROLS",LINK_SECONDARY_HIDE:"LINK_SECONDARY_HIDE",LINK_SECONDARY_MOUNTS:"LINK_SECONDARY_MOUNTS",NAV_TOGGLED:"NAV_TOGGLED",NOTIFICATIONS_FETCHED:"NOTIFICATIONS_FETCHED",NOTIFICATIONS_PANEL_INIT:"NOTIFICATIONS_PANEL_INIT",OPEN_LANGUAGE_PICKER:"OPEN_LANGUAGE_PICKER",SECONDARY_CHANGE:"SECONDARY_CHANGE",SHOW_VIDEO_MODAL:"SHOW_VIDEO_MODAL",TOGGLE_DAILY_CONTROLS:"TOGGLE_DAILY_CONTROLS",TOGGLE_LIVE_CONTROLS:"TOGGLE_LIVE_CONTROLS",VIEW_MOUNTED:"VIEW_MOUNTED"}},720:function(e,t){e.exports={separator:"authentication-login-separator",label:"authentication-login-label",form:"authentication-login-form","zero-margin":"authentication-login-zero-margin",options:"authentication-login-options",forgot:"authentication-login-forgot",social:"authentication-login-social",button:"authentication-login-button",facebook:"authentication-login-facebook",google:"authentication-login-google",icon:"authentication-login-icon"}},721:function(e,t,n){n(722),e.exports=n(92).Object.freeze},722:function(e,t,n){var o=n(723),r=n(724).onFreeze;n(725)("freeze",function(e){return function(t){return e&&o(t)?e(r(t)):t}})},723:function(e,t,n){e.exports=n(6)(10)},724:function(e,t,n){e.exports=n(6)(151)},725:function(e,t,n){e.exports=n(6)(94)},73:function(e,t,n){e.exports=n(6)(183)},74:function(e,t,n){e.exports=n(6)(105)},745:function(e,t){e.exports={category:"social-members-category",title:"social-members-title",icon:"social-members-icon",content:"social-members-content",quantity:"social-members-quantity"}},746:function(e,t){e.exports={component:"social-likes-component",network:"social-likes-network",icon:"social-likes-icon",quantity:"social-likes-quantity",facebook:"social-likes-facebook",twitter:"social-likes-twitter",youtube:"social-likes-youtube",twitch:"social-likes-twitch",instagram:"social-likes-instagram"}},75:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(12),a=(o=r)&&o.__esModule?o:{default:o};t.default={name:"form-dropdown",components:{IconFont:a.default},props:{advancedOptionsClass:{type:Boolean,default:!1},colorIcons:{type:Boolean,default:!1},countryFlag:{type:Number,default:2},iconButton:{type:String,default:""},labelKey:{type:String,default:"label"},onChange:{type:Function,required:!1},options:{type:Array,required:!0},overlay:{type:Boolean,default:!1},shortTitle:{type:Boolean,default:!1},shortTitleKey:{type:String,default:"shortTitle"},value:{type:Object,required:!0},valueKey:{type:String,default:"value"}},data:function(){return{showOptions:!1}},methods:{setSelectedOption:function(e){this.toggleOptions(),this.value!==e&&(this.$emit("input",e),this.onChange&&this.onChange(e))},toggleOptions:function(){this.showOptions=!this.showOptions}}}},76:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(69)),r=_interopRequireDefault(n(72)),a=_interopRequireDefault(n(12)),i=_interopRequireDefault(n(51));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"modal-video",components:{IconFont:a.default,ModalContainer:i.default},props:{source:{type:String,required:!0}},mounted:function(){var e=this;o.default.on(r.default.SHOW_VIDEO_MODAL,function(){e.$refs.modal.show()})},methods:{hide:function(){this.$refs.modal.hide()}}}},77:function(e,t,n){var o=n(176),r=n(178);e.exports=function(e){return null!=e&&r(e.length)&&!o(e)}},78:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(3)),a=_interopRequireDefault(n(24)),i=_interopRequireDefault(n(194));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}a.default.mixin(i.default);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=function(n){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n]&&(0,o.default)(e[n]).length?(t[n]=t[n]||(i=(0,r.default)({},e[n],s),new a.default((0,r.default)({},i,{el:i.el,render:function(e){return e(i.component,{props:i.propsData})},store:i.store}))),t[n]):null};return{createInstance:n,createInstances:function(e){e.forEach(function(e){return n(e)})},instances:t}}},79:function(e,t,n){e.exports=n(6)(114)},796:function(e,t){e.exports={board:"daily-puzzle-board"}},797:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={GAME_ILLEGAL_MOVE:100,RATING_MAX:3500,RATING_MIN:0,ACTIVE_DAY_CUTOFF:365,TIME_WARNING_SECONDS:28800,MAX_DAY_PER_MOVE:14,TIME_MULTIPLIER:10,DEFAULT_NAME:"Let's Play!",WELCOME_NAME:"Welcome to Chess.com!",MIN_CHEAT_POLICY_RATING:2e3,MIN_SUSPICIOUS_PLAY_RATING:2e3,MIN_SUSPICIOUS_PLAY_TOGGLE_PERC:75,MIN_SUSPICIOUS_PLAY_PLY_COUNT:40,MIN_PLY_COUNT_RATED:6,SPAM_CHECK_GAMES_MIN_LIMIT:5,SPAM_CHECK_NEW_PLAYERS_GAMES_MIN_LIMIT:10,DEFAULT_FEN_SHORT:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq",DEFAULT_FEN:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",ACCESS_LEVEL_SUPER_ADMIN:"super_admin",ACCESS_LEVEL_ADMIN:"admin",ACCESS_LEVEL_MEMBER:"member",ACTIVITY_TYPE_NEWS:"news",ACTIVITY_TYPE_EVENT:"event",ACTIVITY_TYPE_FORUM:"forum",ACTIVITY_TYPE_NOTES:"notes",POINT_VALUE:1,LAST_ACTIVITY_DATE_EXPIRATION_IN_MINUTES:10,MAX_PROBLEMS_PER_DAY_DEFAULT:3,AVERAGE_TIME_PER_MOVE:30,MIN_ATTEMPT_COUNT:20,MIN_SCORE_TO_BE_QUEUED:5,BEST_SCORE:0,DEAD_SCORE:10,MIN_RATING:400,MAX_ATTEMPT_LOGGED_OUT:10,USER_FEED_MAX_PAGES:4,USER_FEED_ITEMS_FIRST_PAGE:5,USER_FEED_ITEMS_PER_PAGE:20,STD_PROP_LIST:1,ARRAY_AS_PROPS:2,DEFAULT_LOCALE:"en_US",DEFAULT_LANGUAGE_CODE:"en",DEFAULT_LANGUAGE_DIRECTION:"ltr",DEFAULT_MAX_YEAR_INCREASE:5,CONTENT_ITEMS_PER_PAGE:25,LEADERBOARD_ITEMS_PER_PAGE:50,I18N_DEFAULT_LOCALE:"en_US"}},8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_interopRequireDefault(n(21)),r=_interopRequireDefault(n(23));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a=function(){function Router(){(0,o.default)(this,Router),this.baseUrl=null,null==window.Routing&&(window.Routing={generate:function(e){return e}})}return(0,r.default)(Router,[{key:"generate",value:function(e,t,n){var o=t||{},r=this.baseUrl||o.baseUrl||null;return"string"==typeof o.username&&(o.username=o.username.toLowerCase()),null!=r?(delete o.baseUrl,r+window.Routing.generate(e,o,!1)):window.Routing.generate(e,o,n)}},{key:"setBaseUrl",value:function(e){this.baseUrl=e}}]),Router}();t.default=new a},80:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSize=t.showBoardResize=t.setBoardSize=t.ratingChangeAnimation=t.pieceChangeRequiresRefresh=t.normalizeFen=t.makeResizeEvent=t.getShareUrl=t.getCustomAnimatedGif=t.getCoordinatePositioning=t.getBoardElement=t.getBoardContainerElement=t.getAnimationTypes=t.getAnimationType=t.getAnimatedGif=t.buildEffect=t.animationChangeRequiresRefresh=t.getCoordinateHeight=void 0;var o=n(118);Object.defineProperty(t,"getCoordinateHeight",{enumerable:!0,get:function(){return o.getCoordinateHeight}});var r=n(119),a=n(120),i=n(159),s=n(160),l=n(161),u=n(86),c=n(162),d=n(163),f=n(164),m=n(165),p=n(166),v=n(167),h=n(168),g=n(169),_=n(170);t.animationChangeRequiresRefresh=r.animationChangeRequiresRefresh,t.buildEffect=a.buildEffect,t.getAnimatedGif=i.getAnimatedGif,t.getAnimationType=s.getAnimationType,t.getAnimationTypes=l.getAnimationTypes,t.getBoardContainerElement=u.getBoardContainerElement,t.getBoardElement=u.getBoardElement,t.getCoordinatePositioning=c.getCoordinatePositioning,t.getCustomAnimatedGif=i.getCustomAnimatedGif,t.getShareUrl=d.getShareUrl,t.makeResizeEvent=f.makeResizeEvent,t.normalizeFen=m.normalizeFen,t.pieceChangeRequiresRefresh=p.pieceChangeRequiresRefresh,t.ratingChangeAnimation=v.ratingChangeAnimation,t.setBoardSize=h.setBoardSize,t.showBoardResize=g.showBoardResize,t.validateSize=_.validateSize},82:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.transformObjectBooleansToBinaryString=t.hasProperty=t.invertObject=t.objectWithExcludedProps=t.objectHasProp=t.objectHasData=t.objectIsEmpty=void 0;var o=_interopRequireDefault(n(16)),r=_interopRequireDefault(n(3)),a=_interopRequireDefault(n(11));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.objectHasAllProperties=function(e,t){return t.every(function(t){return e[t]})},t.objectHasSomeProperties=function(e,t){return t.some(function(t){return e[t]})};t.objectIsEmpty=function(e){return e&&!(0,a.default)(e).length};t.objectHasData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&(0,a.default)(e).length>0};t.objectHasProp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return Object.prototype.hasOwnProperty.call(e,t)},t.objectWithExcludedProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,a.default)(e).filter(function(e){return!t.includes(e)}).reduce(function(t,n){return(0,r.default)({},t,(0,o.default)({},n,e[n]))},{})},t.invertObject=function(e){return(0,a.default)(e).reduce(function(t,n){return(0,r.default)({},t,(0,o.default)({},e[n],n))},{})},t.hasProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.transformObjectBooleansToBinaryString=function(e){return(0,a.default)(e).reduce(function(t,n){var o=e[n];return"boolean"==typeof o&&(o=o?"1":"0"),t[n]=o,t},{})}},83:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.events={HIDE_MODAL:"hide-modal",HIDE_MODAL_BACKGROUND_CLICK:"hide-background",HIDE_MODAL_SOCIAL_SHARE:"hide-modal-social-share",LOGIN_OR_REGISTER_MODAL:"LOGIN_OR_REGISTER_MODAL",MODAL_DID_HIDE:"modal-did-hide",SHOW_MODAL_SOCIAL_SHARE:"show-modal-social-share",SHOW_UPGRADE_MODAL:"show-upgrade-modal"}},85:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(54),a=(o=r)&&o.__esModule?o:{default:o};t.default={name:"form-button",mixins:[a.default],props:{disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},href:{type:String,required:!1},size:{type:String,required:!1},theme:{type:String,required:!1},type:{type:String,default:"button"}},methods:{handleClick:function(e){e.stopPropagation(),this.href&&(window.location=this.href)}}}},86:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getBoardElement=t.getBoardContainerElement=void 0;var o,r=n(25),a=(o=r)&&o.__esModule?o:{default:o},i=n(14);var s=t.getBoardContainerElement=function(){var e=i.domClasses.board.substr(1),t=document.getElementsByClassName(e)[0];return t||null};t.getBoardElement=function(){var e=s();if(!e)return null;var t=e.childNodes;return(0,a.default)(t).find(function(e){return 1===e.nodeType})}},87:function(e,t,n){var o,r;
/**
 * @author William DURAND <william.durand1@gmail.com>
 * @license MIT Licensed
 */void 0===(r="function"==typeof(o=function(){"use strict";var e={},t="en",n=[],o=new RegExp(/^\w+\: +(.+)$/),r=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),a=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/),i={locale:get_current_locale(),fallback:t,placeHolderPrefix:"%",placeHolderSuffix:"%",defaultDomain:"messages",pluralSeparator:"|",add:function(t,o,r,a){var i=a||this.locale||this.fallback,s=r||this.defaultDomain;return e[i]||(e[i]={}),e[i][s]||(e[i][s]={}),e[i][s][t]=o,!1===function(e,t){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}(n,s)&&n.push(s),this},trans:function(e,t,n,o){return replace_placeholders(get_message(e,n,o,this.locale,this.fallback),t||{})},transChoice:function(e,t,n,s,l){var u=get_message(e,s,l,this.locale,this.fallback),c=parseInt(t,10);return void 0===(n=n||{}).count&&(n.count=t),void 0===u||isNaN(c)||(u=function(e,t,n){var s,l,u=[],c=[],d=e.split(i.pluralSeparator),f=[];for(s=0;s<d.length;s++){var m=d[s];r.test(m)?(f=m.match(r),u[f[0]]=f[f.length-1]):o.test(m)?(f=m.match(o),c.push(f[1])):c.push(m)}for(l in u)if(a.test(l))if((f=l.match(a))[1]){var p,v=f[2].split(",");for(p in v)if(t==v[p])return u[l]}else{var h=convert_number(f[4]),g=convert_number(f[5]);if(("["===f[3]?t>=h:t>h)&&("]"===f[6]?t<=g:t<g))return u[l]}return c[function(e,t){var n=t;"pt_BR"===n&&(n="xbr");n.length>3&&(n=n.split("_")[0]);switch(n){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1==e?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===e||1==e?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return 1==e?0:e>=2&&e<=4?1:2;case"ga":return 1==e?0:2==e?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"sl":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mk":return e%10==1?0:1;case"mt":return 1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"lv":return 0===e?0:e%10==1&&e%100!=11?1:2;case"pl":return 1==e?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2;case"cy":return 1==e?0:2==e?1:8==e||11==e?2:3;case"ro":return 1==e?0:0===e||e%100>0&&e%100<20?1:2;case"ar":return 0===e?0:1==e?1:2==e?2:e>=3&&e<=10?3:e>=11&&e<=99?4:5;default:return 0}}(t,n)]||c[0]||void 0}(u,c,l||this.locale||this.fallback)),replace_placeholders(u,n)},fromJSON:function(e){if("string"==typeof e&&(e=JSON.parse(e)),e.locale&&(this.locale=e.locale),e.fallback&&(this.fallback=e.fallback),e.defaultDomain&&(this.defaultDomain=e.defaultDomain),e.translations)for(var t in e.translations)for(var n in e.translations[t])for(var o in e.translations[t][n])this.add(o,e.translations[t][n][o],n,t);return this},reset:function(){e={},n=[],this.locale=get_current_locale()}};function replace_placeholders(e,t){var n,o=i.placeHolderPrefix,r=i.placeHolderSuffix;for(n in t){var a=new RegExp(o+n+r,"g");if(a.test(e)){var s=String(t[n]).replace(new RegExp("\\$","g"),"$$$$");e=e.replace(a,s)}}return e}function get_message(t,o,r,a,i){var s,l,u,c=r||a||i,d=o,f=c.split("_")[0];if(!(c in e))if(f in e)c=f;else{if(!(i in e))return t;c=i}if(void 0===d||null===d)for(var m=0;m<n.length;m++)if(has_message(c,n[m],t)||has_message(f,n[m],t)||has_message(i,n[m],t)){d=n[m];break}if(has_message(c,d,t))return e[c][d][t];for(;c.length>2&&(s=c.length,u=(l=c.split(/[\s_]+/))[l.length-1].length,1!==l.length);)if(has_message(c=c.substring(0,s-(u+1)),d,t))return e[c][d][t];return has_message(i,d,t)?e[i][d][t]:t}function has_message(t,n,o){return t in e&&(n in e[t]&&o in e[t][n])}function convert_number(e){return"-Inf"===e?Number.NEGATIVE_INFINITY:"+Inf"===e||"Inf"===e?Number.POSITIVE_INFINITY:parseInt(e,10)}function get_current_locale(){return"undefined"!=typeof document?document.documentElement.lang.replace("-","_"):t}return i})?o.call(t,n,t,e):o)||(e.exports=r)},88:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},89:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.notationRows=t.nodeLimitActionMappings=t.nodeLimitTypes=t.diagramEditorSpecificActions=t.contextMenuCommands=t.annotations=t.commandActions=t.commandPositions=void 0;var o,r,a=_interopRequireDefault(n(16)),i=n(26),s=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l,u=t.commandPositions={AFTER:"after",BEFORE:"before"},c=t.commandActions={ADD_ANNOTATION:"addAnnotation",ADD_EVAL_NOTATION:"addEvalNotation",CLEAR_ANALYSIS:"clearAnalysis",CREATE_CONTINUATION:"createContinuation",CREATE_VARIATION:"createVariation",DELETE_COMMENT:"deleteComment",DELETE_LINE:"deleteLine",DELETE_MOVE:"deleteMove",INSERT_COMMENT:"insertComment",MOVE_VARIATION_DOWN:"moveVariationDown",MOVE_VARIATION:"moveVariation",PROMOTE_VARIATION:"promoteVariation",REMOVE_ANNOTATION:"removeAnnotation",REMOVE_BEGIN:"removeBegin",REMOVE_END:"removeEnd",REMOVE_EVAL_ANNOTATION:"removeEvalAnnotation",REMOVE_FOCUS:"removeFocus",SET_BEGIN:"setBegin",SET_END:"setEnd",SET_FOCUS:"setFocus",UPDATE_COMMENT:"updateComment"},d=t.annotations=[{code:"$1",display:i.nagMap.$1,meaning:s.default.trans("Good move"),action:c.ADD_ANNOTATION},{code:"$2",display:i.nagMap.$2,meaning:s.default.trans("Bad move"),action:c.ADD_ANNOTATION},{code:"$3",display:i.nagMap.$3,meaning:s.default.trans("Excellent move"),action:c.ADD_ANNOTATION},{code:"$4",display:i.nagMap.$4,meaning:s.default.trans("Blunder"),action:c.ADD_ANNOTATION},{code:"$5",display:i.nagMap.$5,meaning:s.default.trans("Speculative move"),action:c.ADD_ANNOTATION},{code:"$6",display:i.nagMap.$6,meaning:s.default.trans("Dubious move"),action:c.ADD_ANNOTATION},{code:"$10",display:i.nagMap.$10,meaning:s.default.trans("Drawish"),action:c.ADD_EVAL_NOTATION},{code:"$13",display:i.nagMap.$13,meaning:s.default.trans("Unclear"),action:c.ADD_EVAL_NOTATION},{code:"$14",display:i.nagMap.$14,meaning:s.default.trans("White has a slight advantage"),action:c.ADD_EVAL_NOTATION},{code:"$15",display:i.nagMap.$15,meaning:s.default.trans("Black has a slight advantage"),action:c.ADD_EVAL_NOTATION},{code:"$16",display:i.nagMap.$16,meaning:s.default.trans("White has a moderate advantage"),action:c.ADD_EVAL_NOTATION},{code:"$17",display:i.nagMap.$17,meaning:s.default.trans("Black has a moderate advantage"),action:c.ADD_EVAL_NOTATION},{code:"$18",display:i.nagMap.$18,meaning:s.default.trans("White has a decisive advantage"),action:c.ADD_EVAL_NOTATION},{code:"$19",display:i.nagMap.$19,meaning:s.default.trans("Black has a decisive advantage"),action:c.ADD_EVAL_NOTATION},{code:"$22",display:i.nagMap.$22,meaning:s.default.trans("The position is in zugzwang"),action:c.ADD_EVAL_NOTATION},{code:"$146",display:i.nagMap.$146,meaning:s.default.trans("Novelty"),action:c.ADD_EVAL_NOTATION}],f=(t.contextMenuCommands={CLEAR_ALL_ANALYSIS:{name:s.default.trans("Clear All Analysis"),action:c.CLEAR_ANALYSIS},CREATE_CONTINUATION:{name:s.default.trans("Insert Continuation"),action:c.CREATE_CONTINUATION},CREATE_VARIATION:{name:s.default.trans("Insert Alternate Line"),action:c.CREATE_VARIATION},DELETE_COMMENT_AFTER:{name:s.default.trans("Delete Comment After"),action:c.DELETE_COMMENT,position:u.AFTER},DELETE_COMMENT_BEFORE:{name:s.default.trans("Delete Comment Before"),action:c.DELETE_COMMENT,position:u.BEFORE},DELETE_LINE:{name:s.default.trans("Delete Entire Variation"),action:c.DELETE_LINE},DELETE_MOVE:{name:s.default.trans("Delete Move"),action:c.DELETE_MOVE},INSERT_COMMENT_AFTER:{name:s.default.trans("Comment After"),action:c.INSERT_COMMENT,position:u.AFTER},INSERT_COMMENT_BEFORE:{name:s.default.trans("Comment Before"),action:c.INSERT_COMMENT,position:u.BEFORE},MOVE_VARIATION_DOWN:{name:s.default.trans("Move Variation Down"),action:c.MOVE_VARIATION_DOWN},MOVE_VARIATION_UP:{name:s.default.trans("Move Variation Up"),action:c.MOVE_VARIATION},PROMOTE_VARIATION:{name:s.default.trans("Promote"),action:c.PROMOTE_VARIATION},REMOVE_ANNOTATION:{name:s.default.trans("Remove Annotation"),action:c.REMOVE_ANNOTATION},REMOVE_BEGIN:{name:s.default.trans("Remove Begin"),action:c.REMOVE_BEGIN},REMOVE_END:{name:s.default.trans("Remove End"),action:c.REMOVE_END},REMOVE_EVAL_ANNOTATION:{name:s.default.trans("Remove Evaluation Annotation"),action:c.REMOVE_EVAL_ANNOTATION},REMOVE_FOCUS:{name:s.default.trans("Remove Focus"),action:c.REMOVE_FOCUS},SET_BEGIN:{name:s.default.trans("Set Begin"),action:c.SET_BEGIN},SET_END:{name:s.default.trans("Set End"),action:c.SET_END},SET_FOCUS:{name:s.default.trans("Set Focus"),action:c.SET_FOCUS}},t.diagramEditorSpecificActions=[c.SET_BEGIN,c.SET_END,c.SET_FOCUS,c.REMOVE_BEGIN,c.REMOVE_END,c.REMOVE_FOCUS],t.nodeLimitTypes={BEGIN:"begin",END:"end",FOCUS:"focus"});t.nodeLimitActionMappings={SET:(o={},(0,a.default)(o,c.SET_BEGIN,f.BEGIN),(0,a.default)(o,c.SET_END,f.END),(0,a.default)(o,c.SET_FOCUS,f.FOCUS),o),REMOVE:(r={},(0,a.default)(r,c.REMOVE_BEGIN,f.BEGIN),(0,a.default)(r,c.REMOVE_END,f.END),(0,a.default)(r,c.REMOVE_FOCUS,f.FOCUS),r)},t.notationRows=(l=[],d.forEach(function(e){var t=l[l.length-1]||null;t&&4!==t.length?t.push(e):l.push([e])}),l)},9:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.classNames={BACKGROUND:"icon-background",COMPONENT:"icon-component",COMPONENT_SHADOW:"icon-component-shadow",SHADOW:"icon-shadow"}},91:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),r=n(22),a=_interopRequireDefault(n(7)),i=_interopRequireDefault(n(172));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=[{value:"newest",label:a.default.trans("Most Recent")},{value:"view_count",label:a.default.trans("Most Views")}],l=document.getElementById(o.refs.FILTERS),u=l?l.getAttribute(o.attributes.ICON_BUTTON):null;t.default=(0,r.createComponentConfig)("#"+o.refs.FILTERS,function(){return{component:i.default,propsData:{iconButton:u,onChange:function(){},options:s,overlay:!0,value:s[0]}}})},92:function(e,t,n){e.exports=n(6)(1)},93:function(e,t){e.exports={component:"icon-font-component",primary:"icon-font-primary",darkMode:"icon-font-darkMode",secondary:"icon-font-secondary",tertiary:"icon-font-tertiary",chess:"icon-font-chess",captured:"icon-font-captured"}},94:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={props:{family:{type:String,default:"chess"},isDarkMode:{type:Boolean,default:!1},name:{type:String,required:!0},theme:{type:String,default:""}}};t.default=n},95:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(){var e,t=this,n=t.$createElement,o=t._self._c||n;return o("div",t._g({class:[t.$style.component,(e={},e[t.$style.darkMode]=t.isDarkMode,e)]},t.$listeners),[o("span",{class:[t.$style[t.family],t.name,t.$style[t.theme]]})])},r=[]},96:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.getWindowTitle=function(){return encodeURIComponent(window.document.title)},o=t.getWindowLocation=function(){return encodeURIComponent(window.location.href)},r=(t.windowPath=window.location.pathname,t.windowTitle=n()),a=t.windowLocation=o();window.chessBrowserChecker={};t.bookmarkPage=function(){if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(r,a,"");else if(window.external&&"AddFavorite"in window.external)window.external.AddFavorite(a,r);else{var e=-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")?"Cmd":"Ctrl";alert("Press "+e+"+D to bookmark this page.")}},t.browserNames={chrome:"Chrome",edge:"edge",firefox:"Firefox",ie:"IE",safari:"Safari",waterfox:"Waterfox"};window.chessBrowserChecker.supportedBrowsers=["Chrome","edge","Firefox","IE","Safari","Waterfox"];var i=t.browserVersions={chrome:74,edge:17,firefox:60,safari:11,waterfox:56};window.chessBrowserChecker.supportedBrowserVersions=i;t.printWindow=function(){window.print()},t.sendEmail=function(e,t){window.location.href="mailto:?"+e+"&"+t};var s=function(e,t){return t.appVersion.indexOf(e)>-1},l=(t.isMobile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)},t.isEdge=function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent).match(/Edge/)}),u=(t.isAndroid=function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent).match(/Android/)},t.isApple=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return Boolean(["macintosh","iphone","ipad"].find(function(t){return e.toLowerCase().indexOf(t)>=0}))},t.getBrowser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent,t=void 0,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(l(e)){var o=e.indexOf("Edge/");return{name:"Edge",version:parseInt(e.substring(o+5,e.indexOf(".",o)),10)}}if(/trident/i.test(n[1]))return{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""};if("Chrome"===n[1]&&null!=(t=e.match(/\bOPR\/(\d+)/)))return{name:"Opera",version:t[1]};if("Firefox"===n[1]){var r=e.match(/(waterfox(?=\/))\/?\s*(\d+)/i)||[];if("Waterfox"===r[1])return{name:r[1],version:parseInt(r[2],10)}}return"Safari"===(n=n[2]?[n[1],n[2]]:[window.navigator.appName,window.navigator.appVersion,"-?"])[0]&&null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0],version:parseInt(n[1],10)}});window.chessBrowserChecker.getBrowserInformation=u;t.getWindowsVersion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator;return s("NT",e)?s("Windows NT 5.1",e)||s("Windows NT 6.0",e)?6:s("Windows NT 6.1",e)?7:s("Windows NT 6.2",e)||s("Windows NT 6.3",e)?8:10:-1};var c=t.isOldBrowser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent,t=u(e);return"Chrome"===t.name?t.version<i.chrome:"Safari"===t.name?t.version<i.safari:"Firefox"===t.name?t.version<i.firefox:"Edge"===t.name?t.version<i.edge:"IE"===t.name};window.chessBrowserChecker.isOldBrowser=c},97:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.makeSvg=function(e){var t=e.path,n=void 0===t?"":t,o=e.size,r=void 0===o?24:o,a=e.viewBox;return'\n  <svg width="'+r+'" height="'+r+'" viewBox="'+(void 0===a?"0 0 18 19":a)+'">\n    '+n+"\n  </svg>\n"}},98:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.concatUrlParams=function(e){var t=[];return e.forEach(function(e){t.push(e.join("="))}),t}},99:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.getAllUrlParams=function(e){var t=[];return e.substring(1).split("&").forEach(function(e){t.push(e.split("="))}),t}}});