!function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1954)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(1),s=n(4);var l={},u={q:9,r:5,b:3,n:3,p:1,k:0},c=t.State={getInitialSettings:function(){return{variations:!1,analysis:!1,mainLineIsImmutable:!1,rules:!0,premoves:!1,GTM:!1}},getInitialSetup:function(){return{ranks:8,files:8}},getInitialTree:function(){return{initialMarkings:{arrows:[],effects:[],squares:[]}}},getInitialMarkings:function(){return{arrows:[],blinkingSquares:[],effects:[],squares:[]}},clearState:function(e){return e.setup=c.getInitialSetup(),e},updateState:function(e){e.setup=(0,i.default)({},e.setup,s.Game.getPositionInfo(e),s.Game.getPositionDetails(e)),s.Game.addExtraCastlingMoves(e),e.tree.lines=o.Line.getLinesFromJce(e),e.tree.selected=e.jce.ids(),e.tree.selectedNode=o.Line.getSelectedNode(e),e.setup.capturedPieces=c.getCapturedPieces(e.setup),e.setup.capturedScores=c.getCapturedScores(e.setup),e.setup.result=c.getResult(e),e.premoves=s.Game.getPremoves(e),e.variant=s.Game.getHeaders(e).Variant||e.variant,e.startingMoveNumber=e.setup.moveNumber;var t=o.Line.getNode(e.tree.lines,s.Game.getSelectedIds(e))||e.tree.initialMarkings;return t&&(e.markings.squares=t.squares?t.squares.map(function(e){return(0,i.default)({},e)}):[],e.markings.arrows=t.arrows?t.arrows.map(function(e){return(0,i.default)({},e)}):[],e.setup.effects?e.markings.effects=e.setup.effects:t.effects?e.markings.effects=t.effects.map(function(e){return(0,i.default)({},e)}):e.markings.effects=[]),l[e.id]=!0,e.sibling&&!l[e.sibling.id]&&(e.sibling=c.updateState(e.sibling)),l={},e},getCapturedPieces:function(e){return e.pieces.reduce(function(e,t){if("k"===t.type)return e;var n=t.promoted?"p":t.type;return e[t.color-1][n]-=1,e},[{p:8,n:2,b:2,r:2,q:1},{p:8,n:2,b:2,r:2,q:1}])},getCapturedScores:function(e){return e.pieces.reduce(function(e,t){return e[t.color-1]+=u[t.type],e},[0,0])},getResult:function(e){var t=s.Game.getHeaders(e).Result;return"*"!==t?t:e.setup.insufficient||e.setup.stalemate?"1/2-1/2":e.setup.gameOver&&!e.setup.draw?1===e.setup.sideToMove?"0-1":"1-0":"*"}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.Line={getLine:function(e,t){return e[t]||null},getNode:function(e,t,a){if("number"==typeof t){if(void 0!==a){var r=n.getLine(e,Math.max(0,t));return r?r[a]:null}return null}if(!t)return null;var i=n.getLine(e,Math.max(0,t.line));return i?i[t.move]:null},getSelectedLine:function(e){return n.getLine(e.jce._lines(),e.tree.selected.line)},getSelectedNode:function(e){return n.getNode(e.jce._lines(),e.tree.selected)},nodeIsSelected:function(e,t){return!!(t||t.line||t.move)&&(e.selected.line===t.line&&e.selected.move===t.move)},getLinesFromJce:function(e){return n.formatLinesFromJce(e.jce._lines())},getJceSelectedLine:function(e){return e._lines()[e._history().id]},formatLinesFromJce:function(e){return n.consolidateComments(e)},consolidateComments:function(e){return e.map(function(t){var a=n.isContinuation(e,t.id)?n.getNode(e,t.id,1):n.getNode(e,t.id,0);return a?(t.initComment&&(a.commentBefore=t.initComment),t):t})},isContinuation:function(e,t){var a=n.getLine(e,t);if(!a)return!1;if(void 0!==a.parentId&&void 0!==a[0]){var r=n.getNode(e,a.parentId,a.atMoveNode);return!(!r||!r.move)&&r.move===a[0].move}return!1},isMainLine:function(e){return 0===e},getNextNodeIds:function(e,t){return!e||e.move+t<0?null:{line:e.line,move:e.move+t}},getNextContinuationLineId:function(e,t){var a=n.getNode(e,t);if(!a||!a.lines)return null;var r=a.lines.find(function(t){return n.isContinuation(e,t)});return-1!==r?r:null},getParentNode:function(e,t){var a={line:e[t.line].parentId,move:e[t.line].atMoveNode};return n.findNode(e,a)},getParentNodeIds:function(e,t){var a=n.getLine(e,t.line);return a&&void 0!==a.parentId?{line:a.parentId,move:a.atMoveNode}:null},deleteRemainingNodes:function(e,t){return e?(e.length=t+1,e):null},deleteNode:function(e,t){return n.prune(e,{line:t.line,move:t.move-1})},deleteLine:function(e,t){var a=n.getLine(e,t);if(void 0!==a.parentId){var r=n.getNode(e,{line:a.parentId,move:a.atMoveNode});r.lines=r.lines.filter(function(e){return e!==t}),0===r.lines.length&&delete r.lines}var i=e.filter(function(e){return n.isMainLine(e.id)||e.id!==t});return n.rebuildIds(i)},rebuildIds:function(e){var t=[];return e.forEach(function(e,n){e.id!==n&&(t[e.id]=n)}),e.map(function(n){return n.id=void 0!==t[n.id]?t[n.id]:n.id,void 0!==t[n.parentId]&&(n.parentId=t[n.parentId]),n.forEach(function(n){n.ids.line=void 0!==t[n.ids.line]?t[n.ids.line]:n.ids.line,n.lines&&n.lines.length>0&&(n.lines=n.lines.map(function(e){return void 0!==t[e]?t[e]:e}).filter(function(t){return void 0!==e[t]}),0===n.lines.length&&delete n.lines)}),n})},prune:function(e,t){return n.getNode(e,{line:t.line,move:t.move+1})?(e[t.line]=n.deleteRemainingNodes(e[t.line],t.move),!n.isMainLine(t.line)&&n.isFirstVisibleNode(e,t)&&e.splice(e.findIndex(function(e){return e.id===t.line}),1),e.sort(function(e,t){return e.id-t.id}).reduce(function(e,t){var a=n.getNode(e,{line:t.parentId,move:t.atMoveNode});return(n.isMainLine(t.id)||a)&&e.push(t),e},[])):e},isFirstNodeInTree:function(e){return 0===e.line&&-1===e.move},isFirstVisibleNode:function(e,t){return n.isContinuation(e,t.line)?1===t.move:0===t.move},isFirstNodeInLine:function(e,t){return t&&e&&e[t.line]&&e[t.line][0]&&e[t.line][0].ids&&e[t.line][0].ids.line===t.line&&e[t.line][0].ids.move===t.move},isHead:function(e,t){return t&&e[t.line].length-1===t.move||!1},getHeadIds:function(e,t){return{line:t,move:e[t].length-1}},nodeMatchesMove:function(e,t,a){var r=n.getNode(e,t);return!!r&&(r.from===a.from&&r.to===a.to&&(r.promotion||null)===(a.promotion||null))},shouldMatchMove:function(e,t,n){return e&&1===t&&0===n},getNextMatchingNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2],r=n.getNode(e,t),i=n.getNode(e,t.line,t.move+1);return e.reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return r&&e.moveNumber===r.moveNumber+1||i&&e.moveNumber===i.moveNumber}).filter(function(t){return!!(r&&t.ids.line===r.ids.line||i&&t.ids.line===i.ids.line)||(!!(r&&r.lines&&-1!==r.lines.indexOf(t.ids.line)&&n.isContinuation(e,t.ids.line))||!(!i||!i.lines||-1===i.lines.indexOf(t.ids.line)||n.isContinuation(e,t.ids.line)))}).filter(function(t){return n.nodeMatchesMove(e,t.ids,a)}).sort(function(e,t){return e.ids.line-t.ids.line})[0]||null},clearNode:function(e,t){var a=n.getNode(e,t);return a?(delete a.comment,delete a.annotation,a):null},findNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!e||void 0===t.line)return null;if("string"==typeof a)switch(t.move){case"begin":t.move=0;break;case"end":t.move=e[0].length-1}else if(void 0===t.move)return e[t.line];var i=void 0;return a&&0!==Math.abs(a)&&(t=new Array(Math.abs(a)).fill(a/Math.abs(a)).reduce(function(t,a){if(null===t)return null;var o=n.isContinuation(e,t.line),s=n.getNextNodeIds(t,a);if(n.getNode(e,s)&&(-1!==a||!o||0!==s.move))return s;switch(a){case 1:return r?t:null!==(i=n.getNextContinuationLineId(e,t))?{line:i,move:1}:null;case-1:return s=o?n.getParentNodeIds(e,t):n.getNextNodeIds(n.getParentNodeIds(e,t),-1),n.getNode(e,s)?s:t;default:return null}},t)),n.getNode(e,t)||null},clearNodeMarkings:function(e,t){var a=n.getNode(e,t);return a?(delete a.squares,delete a.arrows,delete a.effects,a):null},clearNodeAnalysis:function(e,t){var a=n.getNode(e,t);return a?(delete a.comment,delete a.annotation,delete a.additionalAnnotation,a):null},clearAllMarkings:function(e){return e?(e.forEach(function(t){t.length>0&&t.forEach(function(t){return n.clearNodeMarkings(e,{line:t.ids.line,move:t.ids.move})})}),e):null},clearAnalysis:function(e){return e?(e.forEach(function(t){t.length>0&&t.forEach(function(t){return n.clearNodeAnalysis(e,{line:t.ids.line,move:t.ids.move})})}),e):null}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.Events={ADD_BLINKING_SQUARE:"ADD_BLINKING_SQUARE",CLEAR_ARROW:"CLEAR_ARROW",CLEAR_BLINKING_SQUARE:"CLEAR_BLINKING_SQUARE",CLEAR_EFFECT:"CLEAR_EFFECT",CLEAR_MARKED_SQUARE:"CLEAR_MARKED_SQUARE",INIT:"INIT",LOAD:"LOAD",MAKE_MOVE:"MAKE_MOVE",ILLEGAL_MOVE:"ILLEGAL_MOVE",JUMP_TO_POSITION:"JUMP_TO_POSITION",TREE_CHANGE:"TREE_CHANGE",TREE_AMENDED:"TREE_AMENDED",SETTINGS_CHANGE:"SETTINGS_CHANGE",PGN_HEADERS_UPDATED:"PGN_HEADERS_UPDATED",CANCEL_PREMOVES:"CANCEL_PREMOVES",PREMOVE:"PREMOVE",GUESS_THE_MOVE:"GUESS_THE_MOVE",CANCEL_GUESS_THE_MOVE:"CANCEL_GUESS_THE_MOVE",UPDATE_NODE:"UPDATE_NODE"};var n=t.History={MAX_HISTORY_LIMIT:200,getInitialHistory:function(){return[]},add:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.length>n.MAX_HISTORY_LIMIT-1&&(e[e.findIndex(function(e){return null!==e})]=null);e.push({type:t,payload:a})},getLastItem:function(e){return e[e.length-1]}}},function(e,t,n){e.exports=n(6)(61)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var a=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(15)),i=n(1),o=n(123),s=n(124),l=n(125),u=n(17);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c={createJce:function(e){var t=(0,a.default)({},e,{analysis:!0});return r.default.createGame(t)||null},updateIdsFromJce:function(e){return e&&e.jce?(e.tree.selected=e.jce.ids(),e):null},getSelectedIds:function(e){return e.jce.ids()},getPositionInfo:function(e){var t=r.default.getPositionInfo({game:e.jce},{skipValidation:!0,getLegalMoves:!0});return e.settings.premoves?t.legalPremoves=c.getLegalPremoves(e):t.legalPremoves=[],t},getPositionDetails:function(e){return(0,a.default)(r.default.getPositionDetails({game:e.jce,kings:!1,skipValidation:!0}),{hand:c.getHand(e)})},addExtraCastlingMoves:function(e){e.setup.legalMoves.forEach(function(t){16!==t.flags&&32!==t.flags||("chess960"===e.variant?c.addCastlingMoves960(e,t):c.addCastlingMoves(e,t))})},addCastlingMoves:function(e,t){var n=1===t.color?1:8;(16===t.flags?[8]:[1,2]).forEach(function(a){e.setup.legalMoves.push({color:t.color,flags:t.flags,piece:"k",from:t.from,san:16===t.flags?"O-O":"O-O-O",to:u.Utils.getSanFromFileRank({file:a,rank:n})})})},addCastlingMoves960:function(e,t){for(var n=u.Utils.getFileRankFromSan(t.from).rank,a=1,r=0;r<2;){var i=u.Utils.getPieceAt(e,{file:a,rank:n});void 0!==i&&"r"===i.type&&r++,(1===r&&32===t.flags||2===r&&16===t.flags)&&e.setup.legalMoves.push({color:t.color,flags:t.flags,piece:"k",from:t.from,san:16===t.flags?"O-O":"O-O-O",to:u.Utils.getSanFromFileRank({file:a,rank:n})})}a++},getHeaders:function(e){return e.jce.header()},getFen:function(e){return e.jce.fen()},getPgn:function(e,t){return e.jce.pgn(t)},getPremoves:function(e){return e.jce.premoves},getHand:function(e){return e.jce.hand()},getChecks:function(e){return e.jce.checks()},getLegalPremoves:function(e){return r.default.getPremoves(e.jce.premoves&&e.jce.premoves.length>0?e.jce.premoves[e.jce.premoves.length-1].fen:e.jce.fen(),e.setup.playingAs,e.variant)},load:function(e,t){return e.jce.load(t)&&c.updateIdsFromJce(e),e},loadPgn:function(e,t){return e.jce.loadPgn(t)&&c.updateIdsFromJce(e),e},createVariation:function(e){return e.jce.createVariation()&&(e.jce.reorderLines(),c.updateIdsFromJce(e)),e},getJCEMove:function(e,t){var n=t;return c.isValidMoveObject(t)?(n.san?n=r.default.sanToObj(n.san,c.getFen(e),e.variant):n.tcn&&(n=r.default.decodeTCN(n.tcn)[0]),n):null},move:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return null;var a=!1;if(!1===n){var r=t.from?e.jce.get(t.from):null,i=t.to?e.jce.get(t.to):null;if(r&&i&&"k"===i.type)return null;e.jce.remove(t.to),e.jce.remove(t.from);var o=t.drop||t.put;a=e.jce.put(r||{type:o.toLowerCase(),color:o&&o.toUpperCase()===o?1:2},t.to),t.from&&r&&null===t.to&&(a=!0)}else t.drop&&(t.drop=t.drop.toLowerCase()),a=e.jce.move(t);return a&&c.updateIdsFromJce(e),a},selectLine:function(e,t){var n=i.Line.getLine(e.tree.lines,t);return n&&(e.jce.selectLine(t),e.tree.selected={line:t,move:n.length-1}),e},selectNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{line:0,move:0};return e.jce.selectPosition(t.move,t.line),e},updateHeaders:function(e,t){return e.jce.header(t)},clear:function(e){return e.jce.clear(e.variant)},isFileRankEqual:function(e,t){return e.file&&t.file&&e.rank&&t.rank&&e.file===t.file&&e.rank===t.rank},isValidMoveObject:function(e){return"string"==typeof e.from&&"string"==typeof e.to||"string"==typeof e.san||"string"==typeof e.tcn||!e.from&&"string"==typeof e.to&&"string"==typeof e.drop||null===e.to&&"string"==typeof e.from||!e.from&&"string"==typeof e.to&&"string"==typeof e.put},movesMatch:function(e,t){return!(e.from!==t.from||e.to!==t.to||e.promotion&&e.promotion!==t.promotion||e.drop&&e.drop!==t.drop)},getMoveNumber:function(e,t){return 1===e?Math.ceil(t/2+1):Math.floor(t/2+1)},isUserTurn:function(e){return e.setup.playingAs===e.setup.sideToMove},getFens:s.getFens,getLastTcn:l.getLastTcn,getSanMoves:o.getSanMoves};t.Game=c},function(e,t,n){"use strict";t.a=function(e,t,n,a,r,i,o,s){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var u,c="function"==typeof e?e.options:e;t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0);a&&(c.functional=!0);i&&(c._scopeId=i);o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r);if(u)if(c.functional){c._injectStyles=u;var d=c.render;c.render=function(e,t){return u.call(t),d(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:c}}},function(e,t){e.exports=vueDLL},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(28);t.default=a.Translator},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(21)),r=_interopRequireDefault(n(23));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=function(){function Router(){(0,a.default)(this,Router),this.baseUrl=null,null==window.Routing&&(window.Routing={generate:function(e){return e}})}return(0,r.default)(Router,[{key:"generate",value:function(e,t,n){var a=t||{},r=this.baseUrl||a.baseUrl||null;return"string"==typeof a.username&&(a.username=a.username.toLowerCase()),null!=r?(delete a.baseUrl,r+window.Routing.generate(e,a,!1)):window.Routing.generate(e,a,n)}},{key:"setBaseUrl",value:function(e){this.baseUrl=e}}]),Router}();t.default=new i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.classNames={BACKGROUND:"icon-background",COMPONENT:"icon-component",COMPONENT_SHADOW:"icon-component-shadow",SHADOW:"icon-shadow"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.selectNode=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(4),s=n(1),l=n(2),u=n(0);t.selectNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=s.Line.findNode(e.jce._lines(),t,n,a),c=(0,i.default)({},e.tree.selected),d=c.line,f=c.move;if(!r)return e;var p={};return p=t.move+n<0&&t.line===r.ids.line?{line:0,move:-1}:r.ids,o.Game.selectNode(e,p),l.History.add(e.history,l.Events.JUMP_TO_POSITION,{from:{line:d,move:f},to:p}),u.State.updateState(e)}},function(e,t,n){e.exports=n(6)(45)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(48),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(95),s=n(5);var l=function(e){this.$style=n(93)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.localStorageSettings=t.routes=t.events=t.refs=t.translations=t.constants=t.callbacks=t.attributes=void 0;var a=_interopRequireDefault(n(8)),r=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.attributes={ARIA_CONTROLS:"aria-controls",AVATAR:"data-avatar",CUSTOM_BTN_CLASS:"data-custom-btn-class",CUSTOM_COLLAPSE_CLASS:"data-custom-collapse-class",ICON_BUTTON:"data-icon-button",STATS:"data-stats",SURVEY_DATA:"data-survey",SURVEY_VOTED:"data-voted-survey",USERNAME:"data-username",VS_STATS:"data-vs-stats"},t.callbacks={getArticleAuthors:"web_article_callback_list_authors",getBlogAuthors:"web_blog_callback_authors",getContent:"web_content_callback_load_more",getNewsAuthors:"web_news_callback_list_authors"},t.constants={GRID_VIEW:"grid",LIST_VIEW:"list",LOGGED_IN:window.context&&window.context.user,USERNAME:window.context&&window.context.user?window.context.user.username:null},t.translations={category:function(e){return r.default.trans(e,{},"dynamic")},loading:r.default.trans("Loading..."),showMore:r.default.trans("More"),showLess:r.default.trans("Less")},t.refs={AMPLITUDE_LOGGER:"amplitude-logger",BASE_CONTAINER:".base-container",BOARD_POPOVER:"v-board-popover",CAPTCHA:"captcha",COLLAPSE:"v-toggle-collapse",COLLAPSED:"toggle-collapsed",CONTENT_AD:"content-ad",CONTENT_CATEGORY_SELECT:"content-category-select",CONTENT_LANGUAGE_SELECT:"content-language-select",CONFIRM_OPEN:"confirm-open",CONFIRM_POPOVER:"v-confirm-popover",FEATURE_SIDEBAR_LINK:"post-category-link-feature",FILTERS:"page-filters",FORM_DATEPICKER:"v-datepicker",FORM_DROPDOWN:"form-dropdown",GAME_PREVIEW:"game-preview",GIFT_MEMBERSHIP_MODAL:"gift-membership-modal",HEADLINE_SIDEBAR_LINK:"post-category-link-headline",HIDDEN:"toggle-hidden",LANGUAGE_DROPDOWN:"post-view-languages",MESSAGE_PARENT:"vue-message",NAVIGATION_FOOTER:"navigation-footer",NEW_GAME:"new-game",NEW_GAME_BUTTON:"new-game-button",PAGINATION_BOTTOM:"pagination-bottom",PAGINATION_TOP:"pagination-top",POST_AUTHOR_FOLLOW:"post-author-follow",POST_CAN_EDIT_URL:"post-can-edit-url",POST_EDIT_URL:"post-edit-url",POST_EDIT_URL_FIELD:"post-edit-url-field",POST_IMAGE_BUTTON:"image-upload-button",POST_IMAGE_THUMBNAIL:"image-upload-thumbnail",SCROLL_TOP_ANCHOR:"scroll-top-anchor",SHORT_SIDEBAR_AD_BOTTOM:"short-sidebar-ad-bottom",SHORT_SIDEBAR_AD_TOP:"short-sidebar-ad-top",SIDEBAR_STATS:"sidebar-stats",SIDEBAR_SURVEY:"sidebar-survey",SIDEBAR_TOGGLE_BUTTON_TEXT:"sidebar-users-grid-toggle-button-text",SIDEBAR_TOGGLE_ICON:"sidebar-users-grid-toggle-icon",SIDEBAR_USER_ITEMS:"sidebar-users-grid-toggle-item",SIDEBAR_USERS_TOGGLE_BUTTON:"sidebar-users-grid-toggle-button",STAT_CHART:"stat-chart",TOOLTIP:"v-tooltip",TOOLTIP_CLASS:"tooltip",TOOLTIP_TOP:"top",USER_POPOVER:"v-user-popover",USER_TAGLINE:"post-view-meta-user",VERSION_DROPDOWN:"version-dropdown"},t.events={SHOW_MODAL:"show-confirm-popover",VOTE_COUNTED:"vote-counted",VIEW_CHANGE:"view-change",VIEW_GRID:"view-grid",VIEW_LIST:"view-list"},t.routes={changeContentLanguage:function(){return a.default.generate("web_user_callback_set_content_language")},enPassant:function(){return a.default.generate("web_article_view",{url:"how-to-capture-en-passant"})},surveyVote:function(e,t){return a.default.generate("web_survey_callback_vote",{id:e,optionId:t})},redirectToLoginPage:function(e){return a.default.generate("web_security_login_and_go",{redirectUrl:e})}},t.localStorageSettings=JSON.parse(localStorage.getItem("json_settings"))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initialSetup=t.sidebarStatusStates=t.boardDimensions=t.domClasses=t.coordinates=t.reloadRequired=t.coordinateOptions=t.callbacks=t.defaultBoardOptions=t.paths=t.coordinateTypes=t.domSelectors=t.classifications=t.boardAnimationTypes=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(102)),r=n(26),i=n(28);var o="//images.chesscomfiles.com",s=(t.boardAnimationTypes={ARCADE:"arcade",DEFAULT:"default",NATURAL:"natural",NONE:"none",SLOW:"slow"},t.classifications={ALMOST_CORRECT:{color:"#8a8886",icon:a.undo},BEST_MOVE:{color:"#9EBA5A",icon:a.bestMove,key:"bestMove",label:(0,i.trans)("Best Move"),phrase:(0,i.trans)("is best")},BLUNDER:{annotation:r.nagMap.$4,color:"#b33430",icon:a.blunder,key:"blunder",label:(0,i.trans)("Blunder"),phrase:(0,i.trans)("is a blunder")},BOOK:{icon:a.book,key:"book",label:(0,i.trans)("Book"),phrase:(0,i.trans)("is a book move")},BRILLIANT:{color:"#1baca6",icon:a.brilliant,key:"brilliant",label:(0,i.trans)("Brilliant"),phrase:(0,i.trans)("is brilliant")},CORRECT:{color:"#acce59",key:"correct",icon:a.correct,label:(0,i.trans)("Correct")},CRITICAL:{key:"critical",label:(0,i.trans)("Critical")},EXCELLENT:{color:"#5a9ac0",icon:a.excellent,key:"excellent",label:(0,i.trans)("Excellent"),phrase:(0,i.trans)("is excellent")},FORCED:{key:"forced",label:(0,i.trans)("Forced"),phrase:(0,i.trans)("is forced")},GOOD:{icon:a.good,key:"good",label:(0,i.trans)("Good"),phrase:(0,i.trans)("is good")},INACCURACY:{annotation:r.nagMap.$6,color:"#f0c15c",icon:a.inaccuracy,key:"inaccuracy",label:(0,i.trans)("Inaccuracy"),phrase:(0,i.trans)("is an inaccuracy")},INCORRECT:{color:"#c93430",icon:a.incorrect,key:"incorrect",label:(0,i.trans)("Incorrect")},MISSED_WIN:{color:"#dd5357",icon:a.missedWin,key:"missedWin",label:(0,i.trans)("Missed Win"),phrase:(0,i.trans)("is a missed win")},MISTAKE:{annotation:r.nagMap.$2,color:"#e6912c",icon:a.mistake,key:"mistake",label:(0,i.trans)("Mistake"),phrase:(0,i.trans)("is a mistake")},STAR:{color:"#e6912c",icon:a.bestMove,key:"star"}},t.domSelectors={COORDINATE_FILE:".coordinates .letter"},t.coordinateTypes={INSIDE:"inside",NONE:null,OUTSIDE:"outside"});t.paths={boards:o+"/chess-themes/boards",pieces:o+"/chess-themes/pieces",sounds:o+"/chess-themes/sounds",variants:"bundles/web/images/variants",webglData:"bundles/web/images/webgl_data"},t.defaultBoardOptions={boardStyle:"green",pieceStyle:"neo",highlightColor:"#FFFF33",highlightOpacity:.5,arrowColor:"rgb(255, 168, 0)",flipped:!1,files:8,ranks:8},t.callbacks={getOptions:"web_user_callback_get_board_settings",getStyles:"web_themes_data_callback",updateOption:{animationType:"web_user_game_settings_email_callback_animation_type",colorScheme:"web_user_game_settings_email_callback_board_color",coordinates:"web_user_game_settings_email_callback_coordinates",highlightLegalMoves:"web_user_game_settings_email_callback_show_legal_moves_toggle",highlightMoves:"web_user_game_settings_email_callback_highlight_last_move_toggle",moveListDisplayType:"web_user_game_settings_email_callback_move_list_display_type",pieceStyle:"web_user_game_settings_email_callback_piece",playSounds:"web_user_game_settings_email_callback_sound_toggle",soundTheme:"web_user_game_settings_email_callback_sound_theme"}},t.coordinateOptions=[{key:0,label:(0,i.trans)("None"),value:s.NONE},{key:1,label:(0,i.trans)("Inside"),value:s.INSIDE},{key:2,label:(0,i.trans)("Outside"),value:s.OUTSIDE}],t.reloadRequired={pieces:["real3d"],animations:["arcade","natural"]},t.coordinates=[{key:"0",value:null},{key:"1",value:"inside"},{key:"2",value:"outside"}],t.domClasses={board:".board-board",resize:".board-controls",sidebar:".board-sidebar"},t.boardDimensions={minSidebarWidth:300,boardPaddingLeft:30},t.sidebarStatusStates={COMPUTER_MOVING:0,MOVE_CORRECT:1,MOVE_INCORRECT:2,PLAYER_MOVING:3,SOLVED:4},t.initialSetup="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(47)),r=_interopRequireDefault(n(11)),i=_interopRequireDefault(n(74));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=function(){"use strict";var e=function(){var e=[[2637767806,863464769],[720845184,95069639],[1155203408,610415943],[2618685246,1655139042],[1971536997,1218186377],[848342074,540017087],[263957791,1627660921],[3896152207,4076560586],[226391645,1484086288],[436746274,3467632685],[2516964848,3797861296],[3491888988,3510251221],[1086189917,1248276018],[18044180,1876255637],[1572111136,1190386149],[597658413,2146900428],[97624494,2243205793],[1738507407,1854916977],[1950989311,2149575947],[2098318769,3283594736],[2194108574,2015279052],[4079062812,2500884588],[856979699,2941369318],[1270058469,3877737539],[2858720366,3170717948],[2378012835,1387254795],[2278688587,2178388503],[435406673,3555273441],[3031118064,1655806655],[2063925420,1107589828],[3376753832,436852829],[615148625,1302492416],[1285502018,1963045959],[346460119,1016137793],[2803604355,1176288659],[55085973,2968618255],[1669016372,4287873088],[164740250,1037634196],[896886403,883023163],[1935551383,2764331555],[410153072,4055711755],[533441746,1505690343],[3541084098,3466290517],[3214426080,4267541060],[2675233103,1951705124],[1374411850,3115986997],[1552073989,3684348154],[4244110986,875606593],[844343081,3115990494],[2356462440,135999605],[3116133511,377238503],[2129956651,2197966368],[299173332,3276914047],[1701379241,745972291],[1306570996,254977976],[2530644806,214138461],[1122123979,1667800879],[1831591130,3801192033],[1116211970,920967505],[1594837592,2551651254],[972591349,2046373768],[2479207924,1935030411],[1675376029,2367888248],[3960916618,3935874422],[1398143232,3265801671],[133930885,1520005442],[1351827834,2829577566],[2076951437,2723839804],[435980918,2364847828],[1668970368,3738157273],[2185864314,3993911799],[2041407829,31969768],[346864372,2004703094],[4047877822,3437142421],[3669961416,538399484],[616810829,4190688246],[3144558884,4030272234],[216165387,2513010905],[2761740594,3216997572],[3919406634,4096014649],[669429112,2434161727],[2234904640,3111407601],[1421079802,1598085235],[1924213810,310373675],[4002762044,2067865415],[2592451728,2586110625],[1890340057,4031717877],[4189625662,2577429954],[2276713138,3049850801],[2741429688,3310307512],[2924122950,3426712818],[421576781,1193704381],[2277442246,3030264553],[153237420,595540057],[4278711886,4176286928],[2380848297,4030514510],[2618700582,1303682185],[3018992701,185284845],[957243316,1291916363],[1543415220,1898408169],[504378001,531073412],[2591337657,1692896435],[1333852064,903543556],[1661259930,188168388],[561112646,2197961224],[1536910315,2632972300],[1349168372,2307429186],[411152329,2745631190],[1694697476,1081411140],[3755185459,2631660711],[4019355068,4027326706],[2066937809,3761668332],[3120395808,3878773315],[94890149,2109283191],[3045629038,358812277],[1249184265,3465901047],[3477490924,2308583306],[4114113436,3875911716],[1014604031,1434513279],[3991324799,2222416029],[2040431088,1539915569],[2253613964,4081224332],[2547464012,1611168627],[2722521980,4281500978],[71289574,213969824],[2450408597,903689630],[1894451515,364024012],[1939968537,374938813],[1447259295,3785468557],[4021046128,1664847745],[3139524504,3562928047],[1173487682,4065269608],[2467266804,3907744866],[4284945151,3486998177],[2925674454,1953016432],[3710671816,1271453948],[2129465869,1422863833],[587093076,18243356],[3373793513,2411305257],[2156648078,1791034213],[3737413652,1534461430],[468575139,2935304962],[1129551363,3603256834],[2861996892,1763494778],[2826449619,2465197654],[1704209531,1014895022],[3738359347,3402630390],[569410928,4095796581],[3021312909,2108247612],[2444777957,2664129360],[282063667,3773661258],[682545472,3188439005],[3318488457,1917822038],[1447622272,4045023041],[757420137,4038580915],[2613420942,4146703316],[4012836163,150381244],[2938127093,3428591704],[1208226490,3086335530],[2935205706,1446903363],[430957978,3830532479],[1381578755,3757172800],[4109399782,1596778224],[288855589,1954372339],[3169178148,2256716053],[2644780093,3895892303],[107966643,1071681559],[1304747544,2607225372],[1359190711,1898207171],[3229237120,3273634996],[3027167685,3863637628],[3011615298,2883984519],[564135827,978463264],[770797430,362326607],[1983662611,1907583229],[4153656423,48268960],[3609759233,720080177],[3727911466,1270989899],[200708787,2366086947],[744508026,393422515],[1213261630,65757284],[3485747185,3845951003],[2958861301,1680248217],[2598470344,3163845864],[2767997908,4233451722],[3881113485,1492930166],[1773764017,2764062206],[4189435844,2898689174],[4234838742,1267095035],[2624081078,3302114327],[2395569449,390426320],[1728307101,690284926],[3309827454,1118258254],[2028172868,3888829086],[4271523049,909051386],[146617804,942892565],[2467685867,974297806],[2483428231,503635829],[3743260573,2018222096],[1002067894,2289153437],[3535252974,3738302271],[4154611160,1002664952],[3623154244,2349656961],[3646679180,3524329383],[862933752,4282853607],[2806008282,3272780913],[2734037942,3828874677],[1328176304,2137666995],[2278785213,2780788825],[381286368,1816476193],[2074232908,2316293454],[4087773386,3651330956],[967884669,3728964514],[4239349185,3213509668],[419231360,1463788948],[1275421624,2672384707],[1088456595,436245261],[2365565249,783696577],[1758083333,845223583],[2048846183,3530914274],[2635948261,124738415],[940630937,3069598626],[839474029,1253439921],[902477345,165479306],[2836079689,2681188273],[2007115168,2093139645],[1363041891,1282466609],[1130479818,1063857938],[3644959908,1260430427],[1385135238,46497915],[1386975934,3110156681],[2635987502,4233461619],[1915744629,4117939016],[487743653,285736599],[2049219159,3960249250],[69242857,3908563670],[1511066720,1488527520],[215590039,1703564952],[1459430344,4184955468],[676103291,2642967214],[83799035,3182827979],[1949179493,476101251],[2593534694,1493478716],[2283504289,995211746],[1349412676,3449243940],[2954378677,1878813305],[249149717,3329151870],[1578231917,1483986052],[4135085182,890874990],[461755528,3505523909],[3669622373,634949665],[219487622,2914465301],[2825233742,3703631897],[2479105382,2935590907],[2582097898,3187672881],[1221328648,1843341402],[2140891889,3958868911],[1482849818,345750049],[751922730,3178831411],[3546542069,4036458902],[216179596,877293293],[444615341,3117393729],[2424254530,494454238],[1344234989,3003337991],[929188581,2760877801],[2507911009,1879899982],[980166547,1311840394],[3566535507,1790747461],[143525013,2311336672],[4181962471,4273938872],[1815842366,862009811],[911175674,1179575598],[3591335374,3694215714],[1452686093,3393294272],[385158879,2447709103],[4011414929,1264623507],[1448477120,911094312],[3971299641,2289992053],[3133647265,2234591563],[3007628400,964409938],[1708345684,3673411261],[3031964479,2843021794],[3022128657,2480338599],[118850112,473449293],[2048127371,3202109429],[3158349745,382018770],[1505327237,3807570472],[2568424029,3272693060],[1866609495,3888556537],[844703982,1852802964],[3504617058,682636099],[1448882679,3733580327],[821387540,2215744532],[3631471417,311618895],[2077838877,2383929020],[3352949096,1688694420],[2491080787,3998672444],[3368630402,4182204255],[983299419,2837414346],[3651215291,1033373924],[265429091,3988955082],[3019003608,2896212153],[2955948456,3025235588],[903690197,2266253487],[3925215275,89402958],[3959093811,3609545561],[2455088053,223552128],[3115011301,2133669107],[1765081558,673805649],[3324795129,2111392191],[3443871631,432345706],[3152559950,3425427147],[3699649406,672784944],[3129545774,7668664],[2747044893,173040075],[3925243406,852328481],[164095314,3161868591],[2234471571,1302682825],[2164784335,105893718],[159995093,536831360],[599199451,425051327],[3274759746,1680930461],[1192619331,3903085578],[2832721114,3078660237],[91404660,4030521531],[3044880024,1578375623],[3906596030,754177855],[803516785,1894094672],[288455592,2030430096],[2143232492,2317305324],[388352703,3406060288],[2521731420,3588403719],[1043041227,4028028525],[3195290851,2468913324],[4166724431,3168683191],[1228226538,968516529],[500177583,3444787306],[533367442,4252082053],[4236023256,657816314],[413575568,3367198397],[3435884549,3334062733],[1004255532,1135705894],[2859513268,4170618274],[3914086821,1251487871],[3080761716,3489067886],[3571165255,699353261],[773372954,3648014952],[769693293,2939128604],[3116440923,507748478],[1687629160,3739431776],[2489486648,3502376324],[3686847158,2878383449],[3530767427,902211375],[2121652637,2493976397],[1827477891,930064171],[2549918411,4029725732],[2071415163,844118802],[2236083679,3088894868],[2040110303,4144562891],[3489536313,1133419300],[2190878435,2301466071],[2465915458,2448602097],[1675766804,2073834499],[3329799896,1613253148],[1483966600,1348836071],[159505618,2527621997],[2674227354,1695130688],[2683539437,1927873839],[3833196123,2570082188],[3891433165,759819981],[1455453349,2179602430],[1430583255,1957776111],[2067726741,4235143439],[303380021,2998980439],[2136024795,3126725799],[2054591852,1051702291],[1029141665,489794361],[2317027384,569642164],[2068461795,624418658],[2499875684,1830645251],[1302894490,4319401],[1002663431,2406815191],[1560941298,2060652753],[2141002286,515773223],[3661248027,475092913],[3705503008,2419919909],[914567990,3496539911],[3462935583,2039034761],[2878378006,2379243316],[1133857586,1390159333],[3023618742,2140726761],[282908558,944874642],[3686955701,1148723903],[2604456805,4163675010],[3061545110,377179268],[3218002352,76459088],[2836503392,916455101],[536836808,151306053],[2886925079,404221671],[2936593041,2011015485],[453815187,1852163908],[3042568989,82176306],[3279635891,4174836410],[3282689058,2360003049],[4088968807,1516570623],[2680453086,1322680794],[1731693966,3438253771],[1842894553,1294307894],[2736377365,2964642609],[121205621,521330014],[2324595870,3005710757],[3784465521,676493813],[1958759409,2030833406],[1306150933,1016370058],[2636541290,482366508],[1950415745,1695073534],[322077955,3746046623],[3602873262,3829181504],[1211684447,1861645455],[504701736,4080111082],[2407799203,1223857855],[1925743434,1498920209],[3617596327,845198428],[2498480299,3484773806],[2680229135,2560201696],[3731399221,1536412390],[2756509305,2924710846],[2635957500,3459716133],[1372762539,769635894],[802677945,3878474636],[1707760534,3075809808],[3714687192,2872792173],[1615679922,1606381794],[1940556374,1337437342],[445390489,731124040],[2864974375,64601760],[1984806574,2141516710],[513390958,1890172555],[744398315,1475299139],[982749166,852662657],[652663695,4260736510],[1184061125,82616221],[3363191899,147951756],[1064069880,1507328085],[2138882964,547595589],[2616926846,3186935246],[2298715513,3606862940],[2414381911,811477686],[2694745228,900437726],[4202576185,2201114451],[3602305260,3323446937],[3756663274,2658490339],[3061587876,2171079416],[3390977925,2850497765],[486312941,224925241],[3515712841,3510684394],[1322319486,2647200565],[3839619171,1148450258],[392296762,1154854654],[1401523788,957405781],[1934485528,527352730],[645968162,3131215255],[696971825,3361451947],[2038689491,1946699733],[1723966113,2785859721],[2652365974,1118037185],[3988018407,3134982149],[1354171594,3053634345],[1287854075,2631782435],[1723106141,2662328866],[563845090,1878819261],[639520332,171129501],[534957223,1696062352],[3612364282,2283204027],[3109494688,1304463816],[500957989,630925278],[3477030536,2149497258],[4109750364,281719363],[951472732,564407054],[922095147,2767874048],[3946156928,829677774],[2622281253,2086286851],[2936811901,850242186],[630086272,3340782667],[2340986210,1296336989],[4107355543,3865114709],[3560210278,3968418243],[3868847493,2967450637],[611513888,2083325060],[3265390517,3025776309],[2874106961,3424470508],[1668707698,2923258228],[2778598353,24320552],[292356118,3415510793],[754567370,86994591],[185141877,1621715171],[2884558258,3722473457],[1492107531,111281805],[3336927864,4225337056],[782994598,1021838039],[346133860,18281270],[2080909533,1649329040],[3612065399,3859901127],[2151962287,284556115],[3957975594,3745718727],[52533817,3998775856],[1232633839,397383972],[2716413964,3629253960],[1531307298,3836851439],[3030137657,2500401718],[3561556693,653345841],[313061910,2945718466],[2065276,3342140708],[410498334,1470588117],[2726640512,4051654894],[2570984935,758567696],[3008987264,3462702678],[623860175,228525243],[3527183895,1829844480],[467272850,3890501742],[568376656,650516927],[990477018,4035508558],[2366955227,817792110],[4183621538,989198068],[946958343,1639184195],[3395758993,3924097558],[1690887473,3220519765],[605184237,1255270525],[275515833,1926424610],[2142902612,283494960],[2021972412,1823828440],[105373677,3448326697],[1666662384,1042433908],[1338566998,261206307],[498685668,1344755577],[3101233780,3119109371],[2733370951,3808165089],[3656512268,3449289481],[4025308119,1607880299],[778896067,1612183167],[2846510368,3674754715],[3058428120,2991822529],[1892379383,3268787440],[2565895844,4154602030],[3213117192,98999135],[2495816991,116985075],[1040203361,1785041385],[3106252493,69316595],[1639829808,2087117568],[3213709576,3799911752],[604681594,2340981536],[4236730699,2938666503],[4009938384,1878897714],[2701667332,1725918218],[2182473079,1258184],[3550198211,2760750799],[657991062,875584532],[1640976276,3380476221],[460041378,2924352091],[1972323596,2287414795],[2510248061,1350206297],[2959337826,3762681165],[1625877874,3235902929],[2070189957,1429368735],[4245163299,1839731898],[2358312347,138364248],[275739390,2179122576],[2037777210,972544338],[2766930226,1984733259],[1933485829,4209310327],[3034118011,3286589799],[2653025529,62078937],[2641780289,2679545709],[3540781195,2787026415],[1569993599,3215949659],[441337890,3947723353],[1878946792,459505587],[3724105660,920173002],[1691411102,3934795955],[148741087,3647709027],[142506469,2776440083],[3811107376,3823285243],[472209891,252266174],[1913386482,1867329194],[2960608550,482740699],[1145005292,1513558421],[1091751784,1687823886],[3625186042,3086337482],[1712140887,940065262],[1504455800,1945702563],[3896940088,2003245591],[2478191531,4197739e3],[3233871270,250924495],[3404865229,1131917964],[1462204167,429621621],[1349259705,3641608989],[3627860584,2048468319],[1244251718,1513180369],[3979211282,371413143],[3043187861,4285699810],[581894202,3060983825],[1390895705,1811317301],[2599134010,3337406128],[2488233440,2436161462],[1816641224,2208816697],[1792034756,815866116],[2779893723,2695577703],[2084952115,2951772258],[1351806869,169269771],[2469979804,86740603],[1163545420,4264616949],[1795352113,2511146232],[1796715044,3134635815],[3521170642,1538900329],[3725363621,1455009392],[1342594643,1512127734],[2618386938,662157428],[2028859350,2494504685],[1841905045,648351336],[4002935891,4033319405],[850071259,1768358867],[979915719,3876018087],[830889197,1629549437],[1744763229,2455795856],[522919199,368499868],[3063822504,2522639205],[2861636095,407686388],[4097602344,1945259027],[4215946617,1251639506],[894485042,534122652],[924809191,1807237502],[1811585710,1589663609],[3439653887,1722232],[3810997538,105152714],[2677100683,4291805514],[77233985,102407776],[4239834691,2851274395],[148802076,2006440603],[2409138150,126301601],[3048474397,3217504870],[588133437,4221603123],[1139638106,263087485],[982032635,3165674595],[562514827,1294842959],[467575086,905357513],[1405117894,3370530088],[3813285157,242912619],[3601878331,1985076606],[1586505598,2092146221],[738488098,103663229],[2970334297,321718822],[1068097019,1742926233],[235518094,420804527],[283685722,4092504887],[2666392744,3799169331],[3569817788,1256762975],[2169728352,292617248],[2444571896,2239859206],[3967907832,1066404216],[420376911,2913277294],[3046293305,2956347747],[2311278792,2477686209],[2885955184,4172514290],[3030078181,2275536480],[4212469731,4280736393],[1046900335,1773022229],[995380926,1414273529],[3892683234,2429494358],[615726237,2127712535],[3880203074,2071130305],[176180504,3070850165],[1474506861,2283723599],[1256707747,1857412043],[764236850,359687368],[3521530334,511649419],[2318567964,3992868140],[128167623,2518992858],[2220129756,1042300052],[2567608573,1349636707],[441446694,384760969],[4143447316,829506048],[817912603,2738025500],[2368091832,357934982],[1187643061,1561463042],[3438021235,3030161697],[1318922279,895468690],[434876457,1130220303],[1180291767,1132759596],[2520707785,1798553137],[1962430872,2958700157],[1510954061,3534879512],[57831539,3269538993],[3354831405,3852135009],[891783098,2698494511],[2555636406,996018997],[2881342935,3982231648],[3473267445,2894952368],[1238029452,3958679326],[2051805420,559465638],[3655936674,1186951582],[330209165,167662935],[1929681327,2450868735],[1313566811,2458925988],[4283920930,3243182650],[1438004300,4185567150],[3093439067,89876832],[3401620219,3721579956],[3673745794,2682874719],[3053321309,825410712],[822915968,3681514755],[3900685126,561657358],[553823814,1857753416],[4166295066,983949325],[128359165,3426887194],[3300989119,3884968622],[4193552686,3647722552],[452189154,1569670618],[4122259632,3537825460],[2519387887,2821594244],[74333898,2940550377],[4032631446,2173999692],[2521268686,1934310532],[2620314688,2177785789],[1378755571,2455646622],[394133753,4231198609],[734399075,2800989170],[573292462,1634883078],[1214417373,3426576256],[2110224475,2399009920],[2331215665,3224086912],[531326186,698539511],[3839443603,583861850],[2644531398,2017784332],[616620850,3070237104],[590349237,2798642861],[3582377217,3317831670],[1582708616,1596570667],[2126148205,2358511947],[173450736,3219362418],[3616831144,1323437318],[2655785577,3131359031],[401600069,2967397952],[496349349,4244179910],[2479612086,2579650653],[1710903074,2049666425],[3589924952,690291925],[3266682943,1900485231],[1496318498,3025542656],[3459221058,3389461212],[2091479615,3140389256],[663040899,1207089672],[3323704225,1105530508],[353318429,2879253542],[2674540957,941987316],[1688550857,620657353],[338551967,4286217277],[204689992,2239736295],[178008789,3940832005],[3871613304,3300636974],[1911672356,2429684487],[4055679954,1974461722],[3878217928,1009991796],[2533095482,310920740],[2174833823,3596041637],[1604814460,2939543881],[1452830254,4092397851],[2441027029,4169690209],[3524103304,3372213855]],t=[[836181454,1689436944],[2776523577,3710710688],[4049974663,3750330768],[519497435,2979405513]],n=[[1892447193,197291556],[3793382197,3742120663],[3838936,2994760034],[479846099,1018728609],[3476112862,182272649],[3504620154,1427438450],[2009473484,2679350403],[1738755500,1129731339]],a=[4174784170,2938602761],r={p:0,P:1,n:2,N:3,b:4,B:5,r:6,R:7,q:8,Q:9,k:10,K:11},i=[];i[5]=1,i[6]=0,i[9]=3,i[10]=2,i[17]=5,i[18]=4,i[33]=7,i[34]=6,i[65]=9,i[66]=8,i[129]=11,i[130]=10;var o,s=[2,5,10,20,40,80,160,64],l="nbrq",u=["","0000000","000000","00000","0000","000","00","0",""],c=16;function to32BitHex(e){var t=e.toString(16);return u[t.length]+t}function to64BitHex(e){return to32BitHex(e[0])+to32BitHex(e[1])}function hash(i,o){var l,u,c,d,f,p,m,h,g,b,v,_,y=i.split(" "),w=y[0].split("/"),M="w"===y[1],E=0,k=Number(M),O=k?3:4;for(c=7;c>=0;c-=1)for(d=0,m=(f=w[c]).length,p=0;p<m;p+=1)h=f[p],(v=r[h])>=0&&(l=(l^(g=e[64*v+8*(7-c)+d])[0])>>>0,u=(u^g[1])>>>0,v===k&&c===O&&(E|=1<<d)),d+=Number(h)||1;return"-"!==y[2]&&((b=y[2]).indexOf("K")>-1&&(l=(l^(g=t[0])[0])>>>0,u=(u^g[1])>>>0),b.indexOf("Q")>-1&&(l=(l^(g=t[2])[0])>>>0,u=(u^g[1])>>>0),b.indexOf("k")>-1&&(l=(l^(g=t[1])[0])>>>0,u=(u^g[1])>>>0),b.indexOf("q")>-1&&(l=(l^(g=t[3])[0])>>>0,u=(u^g[1])>>>0)),y[3]&&"-"!==y[3]&&(_=y[3].charCodeAt(0)-97,s[_]&E&&(l=(l^(g=n[_])[0])>>>0,u=(u^g[1])>>>0)),M&&(l=(l^a[0])>>>0,u=(u^a[1])>>>0),o&&"hex"===o?to64BitHex([l,u]):[l,u]}function wrap(e){var t,n,a,r,i={};function parseBook(e,t){var a,r,i,o,s,u,c=n.getUint16(e+8),d=n.getUint16(e+10);return r=c>>9&7,o=c>>3&7,s=7&c,u=c>>12&7,4===(i=c>>6&7)&&t&&r===o&&"-"!==t&&(7===s&&(0===r&&t.indexOf("K")>-1||7===r&&t.indexOf("k")>-1)?s-=1:0===s&&(0===r&&t.indexOf("Q")>-1||7===r&&t.indexOf("q")>-1)&&(s+=2)),a=String.fromCharCode(i+97)+(r+1)+String.fromCharCode(s+97)+(o+1),u&&(a+=l[u-1]),{move:a,weight:d}}function query(e){return"string"==typeof e&&(e={fen:e}),t(e)}if(i={query:query,pick:function(e){var t,n,a,r,i,o=0;if(function(e){e.sort(function(e,t){return t.weight-e.weight})}(t=(e=e||{}).moves||query(e)),a=t.length){if(e.type&&1!==a&&"best"!==e.type){if("random"===e.type){for(r=Math.floor(Math.random()*t.sum)+1,i=0;i<a-1&&!(r<=(o+=t[i].weight));i+=1);return t[i].move}return"randomDisregardWeight"===e.type?t[Math.floor(Math.random()*a)].move:"worst"===e.type?t[a-1].move:((n=parseInt(e.type)||1)<0&&(n=a+n+1),n<1?n=1:n>a&&(n=a),t[n-1].move)}return t[0].move}}},e.getUint32)t=function(e){var t,a,r,i,o,s,l=n.length||n.byteLength||0,u=e.offset||0,d=e.fen,f=e.chess960,p=e.checkAll,m=[],h=0;for(e.hash?"string"==typeof(t=e.hash)&&(s=t,t=[parseInt(s.substr(0,8),16),parseInt(s.substr(8),16)]):t=hash(d),!f&&d&&(o=d.split(" ")[2]),u=0;u<l;u+=c)if(n.getUint32(u)===t[0]&&n.getUint32(u+4)===t[1])r=parseBook(u,o),m[m.length]=r,h+=r.weight,a=!0;else if(a&&!p)break;if(m.sum=h,e.relative)for(i=m.length-1;i>=0;i-=1)m[i].relative=Math.round(m[i].weight/h*1e4);return m},n=e,i.buffer=n;else for(r in t=function(e){var t,n,r,o,s,l,u=0,c=e.fen;if(i.useFen)r=c.replace(/ \d+ \d+$/,""),(t=a[r])||(o=r.replace(/[a-h][1-8]$/,"-"))!==r&&(t=a[o]);else if(e.hash||(e.hash=hash(c,"hex")),t=a[e.hash]){if(t[0]&&t[0].n&&(t=t[0]),t.n&&!t.b)return[];if(t.b)t=function(e){var t,n=[],a=e.b.length;for(t=0;t<a;++t)n.push({move:e.b[t],weight:e.w[t]});return n}(t);else if(!e.chess960&&c)for(l=c.split(" ")[2],n=t.length-1;n>=0;n-=1)(s=t[n].move.match(/e([18])([ah])\1/))&&("h"===s[2]&&("1"===s[1]&&l.indexOf("K")>-1||"8"===s[1]&&l.indexOf("k")>-1)?t[n]={move:"e"+s[1]+"g"+s[1],weight:t[n].weight}:"a"===s[2]&&("1"===s[1]&&l.indexOf("Q")>-1||"8"===s[1]&&l.indexOf("q")>-1)&&(t[n]={move:"e"+s[1]+"c"+s[1],weight:t[n].weight}))}if(t)for(n=t.length-1;n>=0;n-=1)u+=Number(t[n].weight);else t=[];return t.sum=u,t},a=e,i.json=a,a){i.useFen=r.indexOf(" ")>-1;break}return i}function getBook(e,t){!function(e,t){var n=new XMLHttpRequest,a=e.toLowerCase().indexOf(".json")>-1;function onload(){var e;if(n.status>=200&&n.status<300||304===n.status||0===n.status||1223===n.status)if(a)try{t(null,JSON.parse(n.response))}catch(e){t(e)}else e=new DataView(n.response),t(null,e);else t(new Error("Error code: "+n.status))}n.open("GET",e,!0),a||(n.responseType="arraybuffer"),n.onload=onload,n.onerror=onload,n.send()}(e,function(e,n){var a;if(n&&(a=wrap(n)),t)return t(e,a);if(e)throw e;return a})}return{hash:hash,loadBook:(o={},function(e,t){o[e]?o[e].book?setTimeout(function(){t(null,o[e].book)},0):o[e].cbs.push(t):(o[e]={cbs:[t]},getBook(e,function(t,n){var a=o[e].cbs;t?delete o[e]:(o[e].book=n,o[e].cbs=void 0),a.forEach(function(e){setTimeout(function(){e(t,n)},0)})}))}),to64BitHex:to64BitHex,zobristPiece:e,zobristCastle:t,zobristEnPassant:n,zobristTurn:a,zobristPieceValue:r,zobristPieceValueNumbers:i}}(),t=function(){var t,n,a,o,s={Chess:0,Chess960:1,Crazyhouse:2,"3-check":3,"King of the Hill":4,Bughouse:5,chess960:1,Fischerandom:1,fischerandom:1,crazyhouse:2,"three-check":3,kingofthehill:4,koth:4,bughouse:5},l=["Chess","Chess960","Crazyhouse","3-check","King of the Hill","Bughouse"],u={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0,p=0,m=0,h=-1,g=1,b=2,v=4,_=8,y=16,w=32,M=64,E=128,k=3,O=252,S=255,C=256,P=512,R=112,T=1,A=2,D=4,x=3,N=7,L=14,I=21,j=127,q="pnbrqkPNBRQK",$="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",B=[];B[5]=[-16,-17,-15],B[6]=[16,17,15],B[8]=[-18,-33,-31,-14,18,33,31,14],B[16]=[-17,-15,17,15],B[32]=[-16,1,16,-1],B[64]=[-17,-16,-15,1,17,16,15,-1],B[128]=[-17,-16,-15,1,17,16,15,-1];var F={P:5,p:6,N:9,n:10,B:17,b:18,R:33,r:34,Q:65,q:66,K:129,k:130},U={P:4,p:4,N:8,n:8,B:16,b:16,R:32,r:32,Q:64,q:64,K:128,k:128},G={5:"P",6:"p",9:"N",10:"n",17:"B",18:"b",33:"R",34:"r",65:"Q",66:"q",129:"K",130:"k"},V={9:"N",10:"N",17:"B",18:"B",33:"R",34:"R",65:"Q",66:"Q",129:"K",130:"K"},H=[80,0,0,0,0,0,0,96,0,0,0,0,0,0,80,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,96,96,96,96,96,96,224,0,224,96,96,96,96,96,96,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,80,0,0,0,0,0,0,96,0,0,0,0,0,0,80],z=[336,80,80,0,0,0,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,360,508,252,0,252,508,360,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,0,0,0,80,80,336],W=[336,80,80,0,0,0,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,360,508,252,0,252,508,488,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,96,0,0,80,80,336],K=[336,80,80,0,0,96,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,488,508,252,0,252,508,360,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,0,0,0,80,80,336],Y=[336,80,80,0,0,96,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,488,508,252,0,252,508,488,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,96,0,0,80,80,336],Q=[336,80,80,112,112,112,96,352,96,96,112,112,112,80,336,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,352,352,480,480,488,508,252,0,252,508,488,480,480,480,352,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,336,80,80,112,112,112,96,352,96,96,112,112,112,80,336],J=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,33,16,31,15,0,0,0,0,0,0,0,0,0,0,0,18,17,16,15,14,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,-14,-15,-16,-17,-18,0,0,0,0,0,0,0,0,0,0,0,-15,-31,-16,-33,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Z=[0,5,8,11,14],X=[31,7,7,7,63],ee={P:0,p:0,N:5,n:5,B:8,b:8,R:11,r:11,Q:14,q:14},te=[v,_,y,w,M],ne=["","N","B","R","Q"],ae={CAPTURE:1,BIG_PAWN:2,EP_CAPTURE:4,ANY_CAPTURE:5,PROMOTION:8,KSIDE_CASTLE:16,QSIDE_CASTLE:32,KQSIDE_CASTLE:48,DROP:64,DROP_OR_PROMOTE:72},re=[0,6,1],ie={K:119,Q:112,k:7,q:0,A:112,B:113,C:114,D:115,E:116,F:117,G:118,H:119,a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},oe=["Event","Site","Date","Round","White","Black","Result"],se=["Event","Site","Date","Round","White","Black","Result","Variant","SetUp","FEN","WhiteA","WhiteB","BlackA","BlackB"];function rank(e){return e>>4}function file(e){return 7&e}function algebraic(e){return String.fromCharCode(file(e)+97)+(8-rank(e))}function swapColor(e){return 3-e}function hashNum(e,t){e[0]=(e[0]^t[0])>>>0,e[1]=(e[1]^t[1])>>>0}function completeFen(e){var t,n;return(t=[""," w - - 0 1"," - - 0 1"," - 0 1"," 0 1"," 1"][(n=(e=e.trim()).split(" ")).length])&&e?e+=t:"0"===n[5]&&(n[5]=1,e=n.join(" ")),e}function createVariantZobristNumbers(){e.zobristCheck=[[441249556,340005552],[1040760204,311043682],[1621584863,1749286446],[1006868636,1625552915],[1953853171,24921145],[161251506,1935545265]]}function validateFen(e,t){var n,a,r,i,o,l,u,c,d,f,p,m,h,g,b,v,_,y,w,M,E=/^(?:[A-H]{1,2}[a-h]{0,2}|[A-H]{0,2}[a-h]{1,2}|KQ?k?q?|Qk?q?|kq?|q|-)$/,k=1*t===s.Crazyhouse||s[t]===s.Crazyhouse||1*t===s.Bughouse||s[t]===s.Bughouse,O=0,S=0,C=!0,P="",R={0:0,7:0},T={0:0,7:0},A={0:"k",7:"K"},D={0:"r",7:"R"},x=1*t===s.Chess960||s[t]===s.Chess960;if(!e)return 1;if((1*t===s.Bughouse||s[t]===s.Bughouse)&&2===(o=e.split(" | ")).length)return 0===(l=validateFen(o[0],t))&&(l=validateFen(o[1],t)),l;if(o=e.split(/\s+/),(1*t===s["3-check"]||s[t]===s["3-check"])&&7===o.length&&(i=o.pop(),!/^\+[0-3]\+[0-3]$/.test(i)||"+3+3"===i))return 14;if(6!==o.length)return 1;if(/\D|.{7,}|^0|^$/.test(o[5]))return 2;if(/\D|.{7,}|^0.|^$/.test(o[4]))return 3;if(!/^(?:-|[abcdefgh][36])$/.test(o[3]))return 4;if(f=o[2],x){if(!E.test(f))return 12}else if(!/^(?:KQ?k?q?|Qk?q?|kq?|q|-)$/.test(f)){if(void 0!==t||!E.test(f))return 5;x=!0}if("w"!==o[1]&&"b"!==o[1])return 6;if(k&&(o[0]=o[0].replace(/~(?=.*\/)/g,"")),a=o[0].split("/"),k&&9===a.length&&(i=a.pop(),!/^[pnbrq]{0,63}$/i.test(i)))return 13;if(8!==a.length)return 7;if("3"===o[3][1]&&"w"===o[1]||"6"===o[3][1]&&"b"===o[1])return 11;for("-"!==o[3]&&(u=4===(S="3"===o[3][1]?4:3)?5:2,O=o[3].charCodeAt(0)-97,C=!1,P=4===S?"P":"p"),n=0;n<a.length;++n){for(y=0,w=!1,M=0;M<a[n].length;M++)if(+(r=a[n][M])==+r){if(w)return 8;y+=1*r,w=!0}else{if(-1===q.indexOf(r))return 9;if(C||S!==n||O!==y||P!==r||(C=!0),u===n&&O===y)return 11;n%7==0&&(r===A[n]?T[n]=1<<y:r===D[n]&&(R[n]|=1<<y)),++y,w=!1}if(8!==y)return 10}if(!C)return 11;if("-"!==f)if(x)for(m={0:0,1:0,2:252,4:248,8:240,16:224,32:192,64:128,128:0},p={0:0,1:0,2:1,4:3,8:7,16:15,32:31,64:63,128:0},_={0:[0,0],7:[0,0]},n=f.length-1;n>=0;--n){if(b=f.charCodeAt(n),v&&v>b&&v-b<8)return 15;if(75===b?h=R[g=7]&m[T[g]]:81===b?h=R[g=7]&p[T[g]]:107===b?h=R[g=0]&m[T[g]]:113===b?h=R[g=0]&p[T[g]]:(h=1<<b-((g=b>=97?0:7)?65:97),v=b),!h||0!=(h&h-1))return 15;if(T[g]<2||T[g]>64||(h&R[g])!==h)return 15;if(++_[g][1*(T[g]<h)]>1)return 15}else{if((c=(f.indexOf("K")>-1?128:0)|(f.indexOf("Q")>-1?1:0))&&(16!==T[7]||(c&R[7])!==c))return 15;if((d=(f.indexOf("k")>-1?128:0)|(f.indexOf("q")>-1?1:0))&&(16!==T[0]||(d&R[0])!==d))return 15}return 0}function handToString(e,t){var n,a,r="",i=0,o=t?6:0;if(e)for(;i<5;){for(n=e>>Z[i]&X[i],a=0;a<n;++a)r+=q[i+o];++i}return r}function hashEP(t,n,a,r){t[a+1]!==r&&t[a-1]!==r||hashNum(n,e.zobristEnPassant[file(a)])}function addPawnMove(e,t,a){var r;(0===n||c[t]&A)&&(rank(t)%7==0?(r=a|ae.PROMOTION|e<<N|t<<L,d[p++]=r|4<<I,d[p++]=r|3<<I,d[p++]=r|2<<I,d[p++]=r|1<<I):d[p++]=a|e<<N|t<<L)}function kingOfTheHillWin(e){switch(e){case 67:case 68:case 51:case 52:return!0}return!1}function canCastle960(e,t,n,a){var r,i,o,s=t+(n-t%8),l=n>t%8?1:-1;for(o=t+l;o!==s;o+=l)if(e[o])return!1;if(i=(r=a===g?1===l?118:114:1===l?6:2)-l,c[r]||e[r]&&r!==t&&r!==s||e[i]&&i!==t&&i!==s)return!1;if(r!==t)for(o=t+(l=r>t?1:-1);o!==r;o+=l)if(o!==s&&e[o]||c[o])return!1;return!0}var le=function(){function createHeader(e,t){return"["+e+' "'+String(t).replace(/(\"|\\)/g,"\\$1")+'"]'}return function(e,t,n,a,r,i){var o,l,u,c,d,f="string"==typeof e.newline?e.newline:"\n",p=void 0===e.spaceAfterPeriods||e.spaceAfterPeriods,m="";for(o in m+=createHeader("Event",t.Event)+f,m+=createHeader("Site",t.Site)+f,m+=createHeader("Date",t.Date)+f,m+=createHeader("Round",t.Round)+f,r===s.Bughouse?(m+=createHeader("WhiteA",t.WhiteA||"?")+f,m+=createHeader("BlackA",t.BlackA||"?")+f,m+=createHeader("WhiteB",t.WhiteB||"?")+f,m+=createHeader("BlackB",t.BlackB||"?")+f):(m+=createHeader("White",t.White)+f,m+=createHeader("Black",t.Black)+f),m+=createHeader("Result",t.Result)+f,r&&(m+=createHeader("Variant",t.Variant)+f),t.FEN&&t.FEN!==$&&(m+=createHeader("SetUp","1")+f,m+=createHeader("FEN",t.FEN)+f),t)-1===se.indexOf(o)&&(m+=createHeader(o,t[o])+f);if(m+=f,l=function createLine(e,t,n,a,r,i){var o,l,u,c,d,f,p,m,h,v,_,y,w=[],M="",E=!0,k=t[n],O=k.length,S="";if(k.commands&&!i)for(d in k.commands)S+="[%"+d+" "+k.commands[d]+"]";for(k.initComment&&(S=(S+" "+k.initComment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),S&&w.push("{"+S+"}"),u=0;u<O;++u){if(p=(l=k[u]).color===g,M="",S="",o=l.commands,a!==s.Bughouse?(E&&!p?M=e+"...":p&&(M=e+"."),r&&(p||E)&&(M+=" ")):(w.bughouseOrder||(w.bughouseOrder=[]),w.bughouseOrder.push(l.bughouseOrder),u||(w.blackCountOffset=k[0].color===b?1:0)),M+=l.san,l.annotation&&(M+=l.annotation),l.additionalAnnotation&&(M+=" "+l.additionalAnnotation.join(" ")),E=!1,void 0===l.time||o||(o={clk:(v=l.time,_=Math.floor(v%36e3/600),y=Math.floor(v%36e3%600)/10,Math.floor(v/36e3)+":"+(_<10?"0":"")+_+":"+(y<10?"0":"")+y)}),o&&!i)for(d in o)S+="[%"+d+" "+o[d]+"]";if(l.comment&&(S=(S+" "+l.comment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),S&&(M+=" {"+S+"}",E=!0),w.push(M),l.lines)for(m=l.lines.length,c=0;c<m;++c)t[h=l.lines[c]].length&&((f=createLine(e,t,h,a,r,i))[0]="("+f[0],f[f.length-1]+=")",w=w.concat(f),E=!0);p||e++}return w}(a,n,0,r,p,e.hideCommands),r===s.Bughouse){if(i.isDependent)return l;l=function(e,t,n){var a=t,r=e.siblingGame.pgn(),i=0,o=0,s=[];for(t.bughouseOrder=t.bughouseOrder||[],r.bughouseOrder=r.bughouseOrder||[];t.bughouseOrder.length||r.bughouseOrder.length;)!t.bughouseOrder.length||r.bughouseOrder.length&&t.bughouseOrder[0]>r.bughouseOrder[0]?(r.bughouseOrder.shift(),s.push("B")):(t.bughouseOrder.shift(),s.push("A"));return t=[],s.forEach(function(s){var l,u,c,d="";"A"===s?(l=a,u=++i,c=e.startingMoveNumber()):(l=r,u=++o,c=e.siblingGame.startingMoveNumber()),d=String(Math.floor((u+1)/2)+c-1),(l.blackCountOffset+u)%2?d+=s:d+=s.toLowerCase(),d+="."+(n?" ":"")+l.shift(),t.push(d)}),t}(i,l,p)}return l.push(t.Result),m+(u=l.join(" "),c=e.maxWidth,d=f,c<1?u:(c="number"==typeof c?c:80,u.replace(new RegExp("(.{1,"+c+"})(?: |$|\r?\n)","g"),"$1"+d).slice(0,-d.length)))}}(),ue=function(){var e="!?‼⁇⁉⁈□∇Δ∞⩲⩱±∓⨀⟳→↑⇆∆⌓⇔⇗⟫⟪✕⊥⊕○⇄↻⊙~",t=/\[%(\S+)\s([^\]]+)\]/,n=/^(?:[+=~\/\-\u2212]+|T?N|RR|D)$/;function extractCommands(e){var n,a,r={};do{(n=t.exec(e.value))&&(a=!0,e.value=e.value.replace(n[0],"").trim(),r[n[1]]=n[2])}while(n);a&&(e.commands=r)}function isSplitGame(e,t,n){for(var a;++t<n;)if(a=e[t].match(/^\s*(\S+)/))return/^(?:\[|1(?:\.|$))/.test(a[1])}return function(t,a){var r,i,o,s,l,u,c,d="tags",f=[],p={type:d,value:""},m=0,h=[],g=!0;for(a=a||{},s=(r=t.split(/\r?\n/)).length,i=0;i<s;++i)if("%"!==(o=r[i].trim())[0])if(o){if(u=(o=" "+o+" ").length,l=0,g)for(;l<u;++l)if(c=o[l],"tags"===d){if("["===c)p={type:d="tagName",value:""};else if(c.trim()){p={type:d="san",value:""},g=!1;break}}else if("tagName"===d)p.value&&""===c.trim()?(f.push(p),d="tagValueStart"):" "!==c&&(p.value+=c);else if("tagValueStart"===d){if('"'===c||"“"===c)p={type:d="tagValue",value:""};else if(c.trim())return!1}else if("tagValue"===d)'"'===c||"”"===c?(f.push(p),"]"===o[l+1]?(p={type:d="tags",value:""},++l):d="tagEnd"):("\\"===c&&l+2<u&&(c=o[++l]),l>0&&(p.value+=c));else if("]"===c)p={type:d="tags",value:""};else if(c.trim())return!1;for(;l<u;++l)if(c=o[l],"san"===d)if(e.indexOf(c)>-1)"!"===c||"?"===c||e.indexOf(c)<6&&(c=["!!","??","!?","?!"][e.indexOf(c)-2])?(p.value&&f.push(p),p={type:"a",value:c},"!"!==o[l+1]&&"?"!==o[l+1]||(p.value+=o[++l]),f.push(p),p={type:"san",value:""}):("∞"===c&&"=/"===p.value?(p.type="aa",p.value+=c):(p.value&&(n.test(p.value)&&("--"!==p.value||a.rejectNullMoves)&&(p.type="aa"),f.push(p)),p={type:"aa",value:c},"↑"===c&&"↑"===o[l+1]&&(p.value="↻",++l)),f.push(p),p={type:"san",value:""});else if(" "===c||"\t"===c||"\n"===c||"\r"===c||"{"===c||"("===c||")"===c){if(p.value){if("$"===p.value[0])p.type="nag";else if("*"===p.value||"1-0"===p.value||"0-1"===p.value||"1/2-1/2"===p.value||"½-½"===p.value){if(l+1<u)return!1;p.type="result","½-½"===p.value&&(p.value="1/2-1/2")}n.test(p.value)&&("--"!==p.value||a.rejectNullMoves)&&(p.type="aa"),f.push(p),p={type:d,value:""}}if(" "===c||"\t"===c||"\n"===c||"\r"===c)d="san";else if("{"===c)d="comment";else if("("===c)d="san",f.push({type:"variationStart",value:++m});else if(f.push({type:"variationEnd",value:m}),d="san",!m--)return!1;p.type=d}else if("."===c||!p.value&&+c==+c&&"-"!==o[l+1]&&"/"!==o[l+1]){if(+c==+c)switch(p.number||(p.number=""),p.number+=c,o[l+1]){case"A":case"a":case"B":case"b":p.number+=o[++l],f.push({type:"number",value:p.number}),delete p.number}}else p.value+=c;else 0===l&&(p.value=p.value.trim()),"}"!==c?("\\"===c&&l+2<u&&(c=o[++l]),p.value+=c):(p.value=p.value.trim(),p.value.indexOf("[")>-1&&extractCommands(p),f.push(p),p={type:d="san",value:""})}else"tags"===d?(d="san",g=!1):"comment"!==d&&"tagValueStart"!==d&&!m&&f.length&&isSplitGame(r,i,s)&&("tagValue"!==f[f.length-1].type&&(h.push(f),f=[]),d="tags",g=!0);return h.push(f),h}}();function Chess(se,ce){var de,fe,pe=0,me=!0,he=[],ge=g,be=[],ve=h,_e=0,ye=1,we=1,Me=[],Ee=[Me],ke=0;Me.id=ke;var Oe={},Se=[],Ce=!1,Pe=!1,Re=makeMoveChess;function hashPosition(){var t,n,a,r=ge===g?[4174784170,2938602761]:[0,0];for(a=0;a<120;++a)136&a&&(a+=8),(t=fe[a])&&hashNum(r,e.zobristPiece[64*e.zobristPieceValueNumbers[t&S]+8*(7-rank(a))+file(a)]);if(Pe)for(n=1;n<3;++n)be[n]&&(0!=(be[n]&be[n]-1)?(hashNum(r,e.zobristCastle[n-1]),hashNum(r,e.zobristCastle[n+1])):be[n]>1<<file(he[n])?hashNum(r,e.zobristCastle[n-1]):hashNum(r,e.zobristCastle[n+1]));else{for(n=1;n<3;++n)be[n]&&(be[n]&ae.KSIDE_CASTLE&&hashNum(r,e.zobristCastle[n-1]),be[n]&ae.QSIDE_CASTLE&&hashNum(r,e.zobristCastle[n+1]));Ce?function(t,n){var a,r,i,o,s,l,u,c=0;for(a=1;a<3;++a){if(r=n[a])for(i=0;i<5;){for(s=c+63*i,o=r>>Z[i]&X[i],l=0;l<o;++l)hashNum(t,[31*(u=e.zobristPiece[s++])[0]>>>0,17*u[1]>>>0]);++i}c=315}}(r,de._hand):pe===s["3-check"]&&function(t,n){n[g]&&hashNum(t,e.zobristCheck[n[g]-1]),n[b]&&hashNum(t,e.zobristCheck[n[b]+2])}(r,Se)}return ve!==h&&hashEP(fe,r,ve+(ge===g?16:-16),v|ge),r}function getCurrentHash(){var e;return Me.length?e=Me[Me.length-1].hash:(Me.hash||(Me.hash=hashPosition()),e=Me.hash),[e[0],e[1]]}function setVariant(e,t){pe!==(pe=e?s[e]||1*e||s[String(e).replace(/ /g,"").toLowerCase()]||s.Chess:0)&&(pe===s.Bughouse?(Ce=!0,de.isDependent||(de.siblingGame=Chess(),de.siblingGame.hashing(me),de.siblingGame.isDependent=!0,de.siblingGame.siblingGame=de,de.siblingGame.header({Variant:"Bughouse"})),createVariantZobristNumbers(),Re=makeMoveVariant):(delete de.siblingGame,Ce=pe===s.Crazyhouse,Pe=pe===s.Chess960,pe?(createVariantZobristNumbers(),Re=makeMoveVariant):Re=makeMoveChess),t||updateSetup(generateFen()))}function disambiguate960Rook(e,t){for(var n,a,r=e>7?g:b;!(136&e);){if((n=fe[e])&r)if(n&w){if(a)return;a=e%8+(r===g?65:97)}else if(n&E)return a;e+=t}}function _clear(e,t,n){fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ge=g,he[g]=h,he[b]=h,be[g]=0,be[b]=0,de._hand[g]=0,de._hand[b]=0,Se[g]=0,Se[b]=0,ve=h,_e=0,ye=1,t||(Ee=[Me=[]],ke=0,Me.id=ke,Oe={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},e?setHeader(["Variant",e]):setVariant(!1,n),n||updateSetup(generateFen()))}function reset(){_clear(0,!1,!0),Me.hash=[1178310168,378666140],fe=[34,10,18,66,130,18,10,34,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,33,9,17,65,129,17,9,33],we=1,he[g]=116,he[b]=4,be[g]=48,be[b]=48}function load(e,t,n,a){var r,i,o,c,d,f,p,m,_,y,M,O,S=0;if(a?(O=(r=e.split(" "))[3],M=r[2]):(O=(r=e.trim().split(/\s+/))[3]||"-",M=r[2]||"-"),void 0===t?(31&M.charCodeAt(0))<9&&setVariant(s.Chess960,!0):setVariant(t,!0),i=r[0],!a&&!(i=function(e,t){var n,a,r=e.length,i=0,o=0,l=t&&(t===s.Crazyhouse||t===s.Bughouse);for(n=0;n<r;++n)if(+(a=e[n])!=+a)if("/"===a){if(8!==o&&(e=e.substr(0,n)+(8-o)+e.substr(n),++n,++r),o=0,++i>7){if(!l&&n<r-1||!/^[pnbrq]{0,63}$/i.test(e.substr(n+1)))return!1;break}}else if(F[a]){if(++o>8)return!1}else{if("~"!==a)return!1;l&&n&&/[nbrq]/i.test(e[n-1])||(e=e.substr(0,n)+e.substr(n+1),--n,--r)}else(o+=1*a)>8&&(e=e.substr(0,n)+(a-(o-8))+e.substr(n+1),o=8);return e}(i,pe)))return!1;if(c=i.length,_clear(l[pe],n,!0),Ce){if(pe===s.Bughouse&&!de.isDependent&&(f=e.split(" | "),!de.siblingGame.load(1===f.length?e:f[1],t,n,a)))return reset(),!1;for(d=0;d<c;++d)if(+(p=i[d])!=+p)if("/"===p){if(S>111){for(++d;d<c;++d)p=i[d],de._hand[p<"a"?g:b]+=1<<ee[p]>>>0;break}S+=8}else fe[S]=F[p],"~"===i[d+1]&&(++d,fe[S]|=P),fe[S]&E&&(he[fe[S]&k]=S),++S;else S+=1*p}else for(d=0;d<c;++d)+(p=i[d])!=+p?"/"===p?S+=8:(fe[S]=F[p],fe[S]&E&&(he[fe[S]&k]=S),++S):S+=1*p;if(ge="b"===r[1]?b:g,"-"!==M)if(Pe){for(_={1:[0,0],2:[0,0]},d=M.length-1;d>=0;--d)75===(o=M.charCodeAt(d))?o=disambiguate960Rook(119,-1):81===o?o=disambiguate960Rook(112,1):107===o?o=disambiguate960Rook(7,-1):113===o&&(o=disambiguate960Rook(0,1)),m=o<97?g:b,y=ie[String.fromCharCode(o)],(p=fe[y])===(w|m)&&(o>=97?he[m]>=1&&he[m]<=6&&(be[m]|=1<<o-97):he[m]>=113&&he[m]<=118&&(be[m]|=1<<o-65),++_[m][1*(he[m]<y)]);(_[g][0]>1||_[g][1]>1)&&(be[g]=0),(_[b][0]>1||_[b][1]>1)&&(be[b]=0)}else{if(!a)for(d=M.length-1;d>=0;--d)p=fe[ie[M[d]]],m=M.charCodeAt(d)<97?g:b,p===(w|m)&&he[m]===(m===g?116:4)||(M=M.substr(0,d)+M.substr(d+1)||"-");for(d=M.length-1;d>=0;--d)switch(M[d]){case"K":be[g]|=ae.KSIDE_CASTLE;break;case"Q":be[g]|=ae.QSIDE_CASTLE;break;case"k":be[b]|=ae.KSIDE_CASTLE;break;case"q":be[b]|=ae.QSIDE_CASTLE}}return!a&&(2!==O.length||ge===g&&"6"!==O[1]||ge===b&&"3"!==O[1]||fe[O.charCodeAt(0)-97+16*(8-("3"===O[1]?4:5))]!==(v|swapColor(ge))||fe[u[O]])&&(O="-"),ve="-"===O?h:u[O],_e=1*r[4]||0,ye=1*r[5]||1,pe===s["3-check"]&&(r[6]&&"+3+3"!==r[6]&&(f=r[6].match(/^\+([0-3])\+([0-3])$/)),f=f||[0,0,0],Se[g]=1*f[1],Se[b]=1*f[2]),n||(we=ye,updateSetup(generateFen())),!0}function generateFen(){return pe?function(){var e,t,n,a=0,r="",i="";for(e=0;e<120;++e)136&e&&(a&&(r+=a),r+="/",a=0,e+=8),(n=fe[e])?(a&&(r+=a,a=0),r+=G[n&S],Ce&&n&P&&(r+="~")):++a;if(a&&(r+=a),Ce&&(r+="/"+handToString(de._hand[g],!0)+handToString(de._hand[b])),Pe){for(t=be[b],e=0;t;)1&t&&(i=String.fromCharCode(e+97)+i),t>>=1,++e;for(t=be[g],e=0;t;)1&t&&(i=String.fromCharCode(e+65)+i),t>>=1,++e}else be[g]&ae.KSIDE_CASTLE&&(i+="K"),be[g]&ae.QSIDE_CASTLE&&(i+="Q"),be[b]&ae.KSIDE_CASTLE&&(i+="k"),be[b]&ae.QSIDE_CASTLE&&(i+="q");return r+=" "+(ge===g?"w":"b")+" "+(i||"-")+" "+(ve===h?"-":algebraic(ve))+" "+_e+" "+ye,pe===s["3-check"]?r+=" +"+Se[g]+"+"+Se[b]:pe!==s.Bughouse||de.isDependent||(r+=" | "+de.siblingGame.fen()),r}():function(){var e,t,n=0,a="",r="";for(e=0;e<120;++e)136&e&&(n&&(a+=n),a+="/",n=0,e+=8),(t=fe[e])?(n&&(a+=n,n=0),a+=G[t&S]):++n;return n&&(a+=n),be[g]&ae.KSIDE_CASTLE&&(r+="K"),be[g]&ae.QSIDE_CASTLE&&(r+="Q"),be[b]&ae.KSIDE_CASTLE&&(r+="k"),be[b]&ae.QSIDE_CASTLE&&(r+="q"),a+=" "+(ge===g?"w":"b")+" "+(r||"-")+" "+(ve===h?"-":algebraic(ve))+" "+_e+" "+ye}()}function setHeader(e){var t,n,a;for(t=0;t<e.length;t+=2)n=e[t],a=e[t+1],n&&("Variant"===n&&(setVariant(a),a=pe?l[pe]:void 0),"Result"===n&&"*"!==a&&"1-0"!==a&&"0-1"!==a&&"1/2-1/2"!==a&&(a="*"),void 0!==a?Oe[n]=String(a):oe.indexOf(n)>-1?Oe[n]="Date"===n?"????.??.??":"?":delete Oe[n]);return Oe}function updateSetup(e){Me.length>0||ke||(e!==$?(Oe.SetUp="1",Oe.FEN=e,Me.hash=null):(delete Oe.SetUp,delete Oe.FEN,Me.hash=[1178310168,378666140]))}function get(e){var t=fe[u[e]];return t?{type:G[t&O|b],color:t&k,promoted:0!=(t&P)}:null}function calculateLegalMoveInfo(e,r){var i,s,l,u,d,f,p,m,g,b,_,y,w,M,k=ge,S=E|k,P=c;if(t=[],n=0,a=0,o=0,P[0]=P[1]=P[2]=P[3]=P[4]=P[5]=P[6]=P[7]=P[16]=P[17]=P[18]=P[19]=P[20]=P[21]=P[22]=P[23]=P[32]=P[33]=P[34]=P[35]=P[36]=P[37]=P[38]=P[39]=P[48]=P[49]=P[50]=P[51]=P[52]=P[53]=P[54]=P[55]=P[64]=P[65]=P[66]=P[67]=P[68]=P[69]=P[70]=P[71]=P[80]=P[81]=P[82]=P[83]=P[84]=P[85]=P[86]=P[87]=P[96]=P[97]=P[98]=P[99]=P[100]=P[101]=P[102]=P[103]=P[112]=P[113]=P[114]=P[115]=P[116]=P[117]=P[118]=P[119]=0,r!==h){for(w=function(e,t){return Pe&&be[e]?Q:be[e]&ae.KSIDE_CASTLE&&!fe[t+1]&&!fe[t+2]?be[e]&ae.QSIDE_CASTLE&&!fe[t-1]&&!fe[t-2]&&!fe[t-3]?(o=ae.KQSIDE_CASTLE,Y):(o=ae.KSIDE_CASTLE,W):be[e]&ae.QSIDE_CASTLE&&!fe[t-1]&&!fe[t-2]&&!fe[t-3]?(o=ae.QSIDE_CASTLE,K):z}(k,r),i=0;i<120;++i)if(136&i&&(i+=8),u=fe[i])if(u&k)(!e||(0|u)&e)&&t.push(i);else if(0!=((M=w[i-r+119])&u))if(u&v)for(b=B[u],s=1;s<3;++s)136&(m=i+b[s])||(P[m]|=T,m===r&&(++n,P[i]|=A));else for(g=(b=B[u&O]).length,y=u&R,s=0;s<g;++s)if(_=b[s],!(r>(m=i)&&_<0&&r-m>16||r<m&&_>0&&m-r>16))for(;!(136&(m+=_));){if(P[m]|=T,d=fe[m]){if(d&k)if(m===r){for(l=m-_;l!==i;l-=_)P[l]|=A;P[i]|=A,++n,y&&0==(136&(m+=_))&&(P[m]|=T)}else if(y&&M&C&&n<2)for(p=m+_;0==(136&p);){if(f=fe[p]){f===S&&(P[m]|=D+(Math.abs(_)<<x),++a);break}p+=_}break}if(!y)break}n>1&&(t=[r])}else t=function(e,t){var n,a,r=[];for(n=0;n<120;++n)136&n&&(n+=8),(a=e[n])&&(a&t)===t&&r.push(n);return r}(fe,k|e)}function validateEnPassant(e,t){var a,r,i,o=t+16*(ge===g?1:-1);return(1!==n||0!=(c[t]&A)||0!=(c[o]&A))&&(a=fe[e],fe[t]=a,fe[e]=0,r=fe[o],fe[o]=0,i=inCheck(),fe[e]=a,fe[t]=0,fe[o]=r,!i)}function addCastlingMoves(e){var t,n,a;if(Pe){if(be[e])for(n=(t=he[e])%8,a=0;a<8;++a)be[e]&1<<a&&canCastle960(fe,t,a,e)&&(d[p++]=(a>n?ae.KSIDE_CASTLE:ae.QSIDE_CASTLE)+(t<<N)+(t+(a-n)<<L),++a)}else o&ae.KSIDE_CASTLE&&(n=(t=he[e])+2,0===c[t+1]&&0===c[t+2]&&(d[p++]=ae.KSIDE_CASTLE+(t<<N)+(n<<L))),o&ae.QSIDE_CASTLE&&(n=(t=he[e])-2,0===c[t-1]&&0===c[t-2]&&(d[p++]=ae.QSIDE_CASTLE+(t<<N)+(n<<L)))}function generateMoves(e,r){var i,o,s,l,u,h,g,b,y,w,M=ge,E=swapColor(M),k=he[M];for(calculateLegalMoveInfo(e,k),m=t.length,p=f,y=0;y<m;++y)if(i=t[y],l=fe[i],!(n&&a&&c[i]&D))if(l&v)for(h=B[l],0!==a&&0!=(c[i]&D)&&c[i]>>x!=16||(u=i+h[0],0===fe[u]&&(addPawnMove(i,u,0),re[M]===rank(i)&&(u+=h[0],fe[u]||addPawnMove(i,u,ae.BIG_PAWN)))),o=1;o<3;++o)136&(u=i+(g=h[o]))||a&&c[i]&D&&c[i]>>x!==Math.abs(g)||(fe[u]&E?addPawnMove(i,u,ae.CAPTURE):u===ve&&validateEnPassant(i,u)&&(d[p++]=ae.EP_CAPTURE|i<<N|u<<L));else{if(a&&c[i]&D){if(l&_)continue;if(!(H[i-he[M]+119]&l))continue;h=[g=c[i]>>x,-g]}else h=B[l&O];if(w=i<<N,i===k){for(o=0;o<8;++o)0==(136&(u=i+(g=h[o])))&&(fe[u]?fe[u]&E&&0==(c[u]&T)&&(d[p++]=ae.CAPTURE|w|u<<L):0==(c[u]&T)&&(d[p++]=w|u<<L));0===n&&addCastlingMoves(M)}else for(s=h.length,b=l&R,o=0;o<s;++o)for(g=h[o],u=i;!(136&(u+=g));){if(fe[u]){fe[u]&E&&(0===n||c[u]&A)&&(d[p++]=ae.CAPTURE|w|u<<L);break}if((0===n||c[u]&A)&&(d[p++]=w|u<<L),!b)break}}return Ce&&function(e,t,a){var r,i,o,s,l;if(!e)for(t&&(t>>=26),s=0;s<5;++s)if((!t||(0|t)==1<<s)&&de._hand[a]&X[s]<<Z[s]){for(0===s?(r=16,i=103,o=ae.DROP):(r=0,i=119,o=ae.DROP|s<<I),l=r;l<=i;++l)136&l&&(l+=8),fe[l]||(0===n||1===n&&c[l]&A)&&(d[p++]=o|l<<L);if(t)return}}(r,e,M),p}function inCheckAfterMove(e,t,n,a){var r,i,o,l,u,c,d,f;if(pe===s["King of the Hill"]&&e&E&&kingOfTheHillWin(n))return!0;if(a&ae.KQSIDE_CASTLE&&(n=ge===g?a&ae.KSIDE_CASTLE?117:115:a&ae.KSIDE_CASTLE?5:3,e=w,f=!0),(r=he[swapColor(ge)])===h)return!1;if(0==(e&E)&&H[n-r+119]&e)for(o=J[n-r+119],u=e&R,l=n+o;0==(136&l);){if(l===r){if(e&v){if((e&k)===g?r-n<0:r-n>0)return!0;break}return!0}if(l!==t&&fe[l]||!u)break;l+=o}if(!f){if((i=H[t-r+119])&R&&(o=J[t-r+119])!==J[n-r+119])for(l=r-o;0==(136&l);){if(l!==t&&(c=fe[l])){if(c&ge&&i&c&&c&R)return!0;break}l-=o}if(a&ae.EP_CAPTURE&&(i=H[(d=n+16*(ge===g?1:-1))-r+119])&R)for(l=r-(o=J[d-r+119]);0==(136&l);){if(l!==t&&l!==d){if(l===n)break;if(c=fe[l]){if(c&ge&&i&c&&c&R)return!0;break}}l-=o}}return!1}function moveToSan(e,t){var n,a,r,i,o,l,u="";return e&ae.KQSIDE_CASTLE?u=e&ae.KSIDE_CASTLE?"O-O":"O-O-O":e&ae.DROP?(r=e>>L&j,(n=e>>I)&&(u+=ne[n]),u+="@"+algebraic(r)):(r=e>>L&j,(i=fe[a=e>>N&j])&v?(e&ae.ANY_CAPTURE&&(u+=String.fromCharCode(file(a)+97)+"x"),u+=algebraic(r),e&ae.PROMOTION&&(u+="="+ne[n=e>>I])):(u+=V[i&S],m>1&&(u+=function(e,t,n){var a,r,i,o,s,l;if(p<2)return"";for(e&=O,l=0;l<p;++l)if(a=d[l],n===a>>L&&(i=a>>N&j)!==t&&fe[i]&e){if(r=!0,rank(t)===rank(i)){if(o)return algebraic(t);s=!0}if(file(t)===file(i)){if(s)return algebraic(t);o=!0}}if(r)return o?String(8-rank(t)):String.fromCharCode(file(t)+97);return""}(i,a,r)),e&ae.ANY_CAPTURE&&(u+="x"),u+=algebraic(r))),t||(e&ae.KQSIDE_CASTLE?(a=e>>N&j,r=e>>L&j):e&ae.DROP_OR_PROMOTE&&(i=te[n]+ge),inCheckAfterMove(i,a,r,e)&&(Re(e,a,r,n),o=f,f=p,l=m,pe!==s.Chess&&isVariantWin()?u+="#":generateMoves()-f?u+="+":u+="#",p=f,f=o,m=l,reverseMove(Me.pop()))),u}function kingAttacked(e){return he[e]!==h&&function(e,t){var n,a,r,i,o=B[_],s=_|e;for(n=0;n<8;++n)if(0==(136&(r=t+o[n]))&&((a=fe[r])&s)===s)return!0;for(o=B[E],n=0;n<8;++n)for(r=t+(i=o[n]);0==(136&r);){if(a=fe[r]){if(a&e&&H[t-r+119]&a){if(!(a&v))return!0;if(e===g?t-r<0:t-r>0)return!0}break}r+=i}return!1}(swapColor(e),he[e])}function inCheck(){return kingAttacked(ge)}function inCheckmate(){return inCheck()&&0===generateMoves()}function inStalemate(){var e=!inCheck()&&0===generateMoves();return e&&pe===s.Bughouse&&!de.isDependent&&(e=de.siblingGame.inStalemate()),e}function insufficientMaterial(e){var t,n,a=0,r=0,i=0;for(n=0;n<120;++n)if(136&n&&(n+=8),t=fe[n]){if(e&&0==(t&e))continue;if(100&t)return!1;if(t&_){if(r||a++)return!1}else if(t&y){if(a)return!1;if(++r,(rank(n)+n)%2&&++i,i&&r!==i)return!1}}return!0}function inThreefoldRepetition(){if(_e<8)return!1;for(var e,t=getCurrentHash(),n=!1,a=_e,r=!1,i=Me,o=i.length-1;;){if((o-=2)<0){if(i.id){o=i.atMoveNode+o+2,i=Ee[i.parentId];continue}if(-2===o)return!1;e=i.hash,r=!0}else e=i[o].hash,i[o].halfMoves>a||a<2?r=!0:a=i[o].halfMoves;if(e[0]===t[0]&&e[1]===t[1]){if(n)return!0;n=!0}if(r)return!1}}function modifyHand(t){var n,a,r,i,o,l,u,c,d,f=t.move;if(pe===s.Crazyhouse||f&ae.DROP?(a=de._hand,o=t.hash,d=t.color):(a=de.siblingGame._hand,t.handSibling=!0,me&&((l=de.siblingGame._history()).length?o=l[l.length-1].hash:(l.hash||(l.hash=de.siblingGame._hashPosition()),o=l.hash)),d=swapColor(t.color)),t.captured){switch((t.captured&P?v:t.captured&O)&O){case v:u=0;break;case _:u=1;break;case y:u=2;break;case w:u=3;break;default:u=4}n=1<<Z[u],me&&(i=a[d]>>Z[u]&X[u],c=e.zobristPiece[i+63*u+(d===g?0:315)])}else n=-1<<Z[r=f>>I],me&&(i=a[d]>>Z[r]&X[r],c=e.zobristPiece[i-1+63*r+(d===g?0:315)]);a[d]+=n,t.handChange=n,me&&hashNum(o,[31*c[0]>>>0,17*c[1]>>>0])}function makeMoveChess(t,n,a,r){var i,o,s,l,u,c,d,f,p=ge,m=swapColor(p),_={move:t,epSquare:ve,halfMoves:_e,castlingW:be[g],castlingB:be[b],color:p},y=p===g;me&&(l=getCurrentHash(),_.hash=l,hashNum(l,e.zobristTurn),ve!==h&&hashEP(fe,l,ve+(y?16:-16),v|p)),0==(t&ae.KQSIDE_CASTLE)?Ce&&t&ae.DROP?(fe[a]=te[r]|p,me&&hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[fe[a]]+8*(7-rank(a))+file(a)]),modifyHand(_),d=0):(d=fe[n],(f=fe[a])&&(_.captured=f,me&&hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[fe[a]&S]+8*(7-rank(a))+file(a)]),f&w&&be[m]&&(Pe?rank(a)===(y?0:7)&&(s=1<<file(a),be[m]&s&&(be[m]^=s,me&&(s>1<<file(he[p])?hashNum(l,e.zobristCastle[m-1]):hashNum(l,e.zobristCastle[m+1])))):a===(y?7:119)?be[m]&ae.KSIDE_CASTLE&&(be[m]^=ae.KSIDE_CASTLE,me&&hashNum(l,e.zobristCastle[m-1])):a===(y?0:112)&&be[m]&ae.QSIDE_CASTLE&&(be[m]^=ae.QSIDE_CASTLE,me&&hashNum(l,e.zobristCastle[m+1])))),t&ae.PROMOTION?fe[a]=te[r]|p|P:fe[a]=fe[n],fe[n]=0,me&&(hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[d&S]+8*(7-rank(n))+file(n)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[fe[a]&S]+8*(7-rank(a))+file(a)]))):d=E,t&ae.EP_CAPTURE?(y?(c=a+16,u=6):(c=a-16,u=8),_.captured=v|m,fe[c]=0,me&&hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[v|m]+8*(u-rank(a))+file(a)])):d&E?(Pe?(t&ae.KQSIDE_CASTLE&&(fe[a]=0,fe[n]=0,t&ae.KSIDE_CASTLE?y?(i=118,o=117):(i=6,o=5):y?(i=114,o=115):(i=2,o=3),fe[i]=p|E,fe[o]=p|w,me&&(hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[E|p]+8*(7-rank(n))+file(n)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[w|p]+8*(7-rank(a))+file(a)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[E|p]+8*(7-rank(i))+file(i)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[w|p]+8*(7-rank(o))+file(o)]))),me&&(0!=(be[p]&be[p]-1)?(hashNum(l,e.zobristCastle[p-1]),hashNum(l,e.zobristCastle[p+1])):be[p]>1<<file(he[p])?hashNum(l,e.zobristCastle[p-1]):hashNum(l,e.zobristCastle[p+1])),he[p]=i||a):(t&ae.KQSIDE_CASTLE&&(fe[a]=fe[n],fe[n]=0,t&ae.KSIDE_CASTLE?(i=a-1,o=a+1):(i=a+1,o=a-2),fe[i]=fe[o],fe[o]=0,me&&(hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[E|p]+8*(7-rank(n))+file(n)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[w|p]+8*(7-rank(o))+file(o)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[E|p]+8*(7-rank(a))+file(a)]),hashNum(l,e.zobristPiece[64*e.zobristPieceValueNumbers[w|p]+8*(7-rank(i))+file(i)]))),me&&(be[p]&ae.KSIDE_CASTLE&&hashNum(l,e.zobristCastle[p-1]),be[p]&ae.QSIDE_CASTLE&&hashNum(l,e.zobristCastle[p+1])),he[p]=a),be[p]=0):d&w&&be[p]&&(Pe?rank(n)===(y?7:0)&&(s=1<<file(n),be[p]&s&&(be[p]^=s,me&&(s>1<<file(he[p])?hashNum(l,e.zobristCastle[p-1]):hashNum(l,e.zobristCastle[p+1])))):n===(y?119:7)?be[p]&ae.KSIDE_CASTLE&&(be[p]^=ae.KSIDE_CASTLE,me&&hashNum(l,e.zobristCastle[p-1])):n===(y?112:0)&&be[p]&ae.QSIDE_CASTLE&&(be[p]^=ae.QSIDE_CASTLE,me&&hashNum(l,e.zobristCastle[p+1]))),t&ae.BIG_PAWN?(ve=y?a+16:a-16,me&&hashEP(fe,l,a,v|m)):ve=h,d&v||t&ae.ANY_CAPTURE?_e=0:_e++,ge=m,Me.push(_)}function makeMoveVariant(t,n,a,r){var i,o=ge;makeMoveChess(t,n,a,r),i=Me[Me.length-1],Ce?(_e=i.halfMoves+1,i.captured&&modifyHand(i),pe===s.Bughouse&&(i.bughouseOrder=de.moveCount()-1+de.siblingGame.moveCount())):pe===s["3-check"]&&kingAttacked(ge)&&(i.checked=!0,me&&Se[o]&&hashNum(i.hash,e.zobristCheck[Se[o]+(o===g?-1:2)]),++Se[o],me&&hashNum(i.hash,e.zobristCheck[Se[o]+(o===g?-1:2)]))}function reverseMove(e){var t,n,a=ge,r=swapColor(a),i=e.move,o=i>>L&j,l=i>>N&j;if(ge=r,be[b]=e.castlingB,be[g]=e.castlingW,ve=e.epSquare,_e=e.halfMoves,pe){if(Pe&&i&ae.KQSIDE_CASTLE)return i&ae.KSIDE_CASTLE?r===g?(n=118,t=117):(n=6,t=5):r===g?(n=114,t=115):(n=2,t=3),fe[n]=0,fe[t]=0,fe[l]=r|E,fe[o]=r|w,void(he[r]=l);if(e.handChange&&(pe!==s.Crazyhouse&&e.handSibling?de.siblingGame._hand[swapColor(r)]-=e.handChange:de._hand[r]-=e.handChange),i&ae.DROP)return void(fe[o]=0);e.checked&&--Se[r]}i&ae.PROMOTION?(fe[l]=v|r,i&ae.CAPTURE?fe[o]=e.captured:fe[o]=0):(fe[l]=fe[o],i&ae.KQSIDE_CASTLE?(fe[o]=0,i&ae.KSIDE_CASTLE?(t=o+1,n=o-1):(t=o-2,n=o+1),fe[t]=r|w,fe[n]=0,he[r]=l):(o===he[r]&&(he[r]=l),i&ae.CAPTURE?fe[o]=e.captured:(fe[o]=0,i&ae.EP_CAPTURE&&(fe[o-(r===g?-16:16)]=v|a))))}function beautifyMove(e,t,n){var a,r,i=e>>L&j,o={color:ge,to:algebraic(i),flags:e&j};return Ce&&0!=(e&ae.DROP)?(r=e>>I,o.drop=r,o.piece=te[r]+ge):(a=e>>N&j,o.from=algebraic(a),o.piece=fe[a],e&ae.PROMOTION&&(r=e>>I,o.promotion=te[r]+ge),e&ae.CAPTURE?o.captured=fe[i]:e&ae.EP_CAPTURE&&(o.captured=v|swapColor(ge))),o.san=t||moveToSan(e,n),o}function isVariantWin(){return pe===s["3-check"]?3===Se[swapColor(ge)]:pe===s["King of the Hill"]?kingOfTheHillWin(he[swapColor(ge)]):void 0}function isBughouseWin(){if(pe===s.Bughouse)return de.siblingGame.inCheckmate()}function createVariation(){var e=[],t=generateFen(),n=Me.length-1,a=Me[n];return!!a&&(e.parentId=ke,e.id=Ee.length,Me.curFen=t,a.lines||(a.lines=[]),a.lines.push(e.id),a.move?reverseMove(a):(ve=a.epSquare,--_e,ge=swapColor(ge)),ge===b&&--ye,e.atMoveNode=n,e.hash=n?Me[n-1].hash:Me.hash,ke=e.id,Ee.push(e),Me=e,!0)}function selectLine(e){var t=generateFen();Me.curFen=t,Me=Ee[e],ke=e,load(Me.curFen,pe,!0,!0)}return de={WHITE:g,BLACK:b,PAWN:v,KNIGHT:_,BISHOP:y,ROOK:w,QUEEN:M,KING:E,FLAGS:ae,load:load,reset:reset,moves:function(e){var t,n,a,r=[],i=moveToSan;for(e&&(e.verbose&&(i=beautifyMove),e.type&&(n=e.type|e.type<<24),a=e.noDrop),generateMoves(n,a),t=0;t<p;++t)r.push(i(d[t]));return r},inCheck:inCheck,inCheckmate:inCheckmate,inStalemate:inStalemate,isBughouseWin:isBughouseWin,in50MoveRule:function(){return _e>=100},inDraw:function(){return _e>=100||inStalemate()||insufficientMaterial()||inThreefoldRepetition()||Boolean(function(){if(pe===s.Bughouse)return de.siblingGame.in50MoveRule()||de.siblingGame.inThreefoldRepetition()}())},insufficientMaterial:insufficientMaterial,inThreefoldRepetition:inThreefoldRepetition,isVariantWin:isVariantWin,gameOver:function(){return de.inDraw()||inCheckmate()||Boolean(isVariantWin())||Boolean(isBughouseWin())},isPositionValid:function(e){var t,n,a,r=0;if(!1!==(e=e||{}).pawns)for(t=0;t<=119;){if((a=fe[t])&v)return!1;8==++t&&(t=112)}if(!1!==e.kings){for(t=0;t<=119;++t)if(136&t&&(t+=8),(a=fe[t])&E){if(++r>2)return!1;if(n&&n&a)return!1;n=a&k}if(2!==r)return!1}return!1===e.check||!1===e.kings&&he[swapColor(ge)]===h||!kingAttacked(swapColor(ge))},validateFen:validateFen,fen:generateFen,pgn:function(e){return(e=e||{}).useResultHeader||ke||(isVariantWin()||inCheckmate()?Oe.Result=ge===b?"1-0":"0-1":de.inStalemate()?Oe.Result="1/2-1/2":isBughouseWin()&&(Oe.Result=de.siblingGame.turn()===g?"1-0":"0-1")),le(e,Oe,Ee,we,pe,de)},loadPgn:function(e,t,n){var a,r,i,o,l,u,c,d,f,p={},m=0;if("number"!=typeof t&&(n=n||t,t=0),n=n||{},"string"==typeof e&&(n.singleGame&&(e=e.replace(/(?:\r?\n\s*){2,}/g,"\n")),e=de.tokenizePgn(e,n)),t<0&&(t=e.length+t),!(o=e[t]))return!1;for(reset(),r=o.length,a=0;a<r&&"tagName"===(i=o[a]).type;++a){if(!o[a+1]||"tagValue"!==o[a+1].type)return!1;++a,"FEN"===i.value?c=completeFen(o[a].value):p[i.value]=o[a].value}if(p.Variant&&!c&&(c=$),c||"1"===p.SetUp)if("0"===p.SetUp)p.FEN=c;else if(!c||!load(c,p.Variant))return!1;for(de.header(p),u=(l=de)._history();a<r;++a)if("san"===(i=o[a]).type&&0===m){if(!l.move(i.value)){if(!n.skipBadLines||!(0!==ke||Me.length&&n.allowBadMainLine))return reset(),!1;m=1}}else if("result"===i.type&&"*"===Oe.Result)setHeader(["Result",i.value]);else if("a"===i.type&&0===m&&u[u.length-1])u[u.length-1].annotation=i.value;else if("nag"!==i.type&&"aa"!==i.type||0!==m||!u[u.length-1])if("comment"===i.type&&0===m)u.length?(i.value.trim()&&(u[u.length-1].comment=i.value),i.commands&&(u[u.length-1].commands=i.commands,i.commands.clk&&(u[u.length-1].time=(d=i.commands.clk,void 0,10*(3600*(f=d.split(":"))[0]+60*f[1]+1*f[2]))))):(u.initComment=String(i.value),i.commands&&(u.commands=i.commands));else if("variationStart"===i.type){if(m>0)++m;else if(!createVariation())return reset(),!1;u=l._history()}else"variationEnd"===i.type?(m>0&&--m,0===m&&(selectLine(u.parentId),u=l._history())):"number"===i.type&&pe===s.Bughouse&&(u=(l=/b/i.test(i.value.slice(-1))?de.siblingGame:de)._history());else u[u.length-1].additionalAnnotation||(u[u.length-1].additionalAnnotation=[]),-1===u[u.length-1].additionalAnnotation.indexOf(i.value)&&u[u.length-1].additionalAnnotation.push(i.value);return!0},header:function(e){return Array.isArray(e)?setHeader(e):"object"===(void 0===e?"undefined":(0,i.default)(e))?((0,r.default)(e).forEach(function(t){setHeader([t,e[t]])}),Oe):Oe},turn:function(e){return e!==g&&e!==b||(ge=e),ge},move:function playMove(t){var n,a,r,i,o,l,c,f,m,b,_,y,w,M,k,S;if("string"==typeof t){switch(t[i=t.length-1]){case"+":case"#":t=t.substr(0,i)}for(m=q.indexOf(t[0])>6?U[t[0]]:"O"===t[0]?E:v,Ce&&(-1===t.indexOf("@")?b=!0:(b=!1,m<<=24)),generateMoves(m,b),i=0;i<p;++i)if(t===(l=moveToSan(d[i],!0))){a=d[i];break}if(!a)return"--"===t?(k={color:ge,san:"--",epSquare:ve},S={color:ge,san:"--"},me&&(M=getCurrentHash(),k.hash=M,hashNum(M,e.zobristTurn),ve!==h&&hashEP(fe,M,ve+(ge===g?16:-16),v|ge)),ve=h,_e++,(ge=swapColor(ge))===g&&++ye,Me.push(k),S):(t=Chess.fixSanMove(t,fe,ge))?playMove(t):null;c=a>>N&j,f=a>>L&j,r=a>>I}else{if(t.drop){switch(t.drop){case"p":r=0;break;case"n":r=1;break;case"b":r=2;break;case"r":r=3;break;case"q":r=4;break;default:return null}m=1<<26+r}else{if(t.promotion)switch(t.promotion){case"q":r=4;break;case"n":r=1;break;case"r":r=3;break;case"b":r=2;break;default:return null}c=u[t.from],b=!0,m=fe[c]&O}for(f=u[t.to],n=((r?r<<I:0)|f<<L)>>N|c,generateMoves(m,b),i=0;i<p;++i)if(d[i]>>N===n){a=d[i];break}if(!a)return(t=Chess.fixObjMove(t,fe,ge))?playMove(t):null}return w=a&ae.DROP_OR_PROMOTE?te[r]+ge:fe[c],o=beautifyMove(a,l,!0),_=inCheckAfterMove(w,c,f,a),Re(a,c,f,r),_&&(pe!==s.Chess&&isVariantWin()?o.san+="#":0===generateMoves()?o.san+="#":o.san+="+"),(y=Me[Me.length-1]).san=o.san,o.piece&P&&(y.promoted=!0),ge===g&&++ye,o},undo:function(e){var t=Me.pop();return t?(ge===g&&--ye,t.move?(reverseMove(t),!!e||beautifyMove(t.move,t.san)):(ve=t.epSquare,--_e,ge=swapColor(ge),!!e||{san:"--",color:t.color})):null},clear:function(e){_clear(e)},put:function(e,t,n){var a,r=u[t],i=!1,o=fe[r],s=o&k,l=e.color;if(isNaN(r)||!e.type||!l||-1===q.indexOf(e.type))return!1;if(fe[r]=U[e.type]|l|(e.promoted?P:0),fe[r]&E&&(he[l]=r),o&&fe[he[s]]&&fe[he[s]]!==(E|s)){for(a=0;a<120;++a)136&a&&(a+=8),fe[a]===(E|s)&&(he[s]=a,i=!0);i||(he[s]=h)}return n||load(generateFen(),pe,!0,!1),!0},get:get,remove:function(e,t){var n,a=fe[u[e]],r=get(e),i=a&k;if(fe[u[e]]=0,a&E)for(he[i]=h,be[i]=0,n=0;n<120;++n)if(136&n&&(n+=8),fe[n]===(E|i)){he[a.color]=n;break}return t||load(generateFen(),pe,!0,!1),r},history:function(e,t){for(var n,a=[],r=Me,i=r.length;;){if(-1==--i){if(r.id&&!t){i=r.atMoveNode,r=Ee[r.parentId];continue}break}e?((n=beautifyMove(r[i].move,r[i].san)).color=r[i].color,!i&&r.initComment&&(n.firstComment=r.initComment),void 0!==r[i].comment&&(n.comment=r[i].comment),void 0!==r[i].time&&(n.time=r[i].time),void 0!==r[i].annotation&&(n.annotation=r[i].annotation),void 0!==r[i].additionalAnnotation&&(n.additionalAnnotation=r[i].additionalAnnotation),void 0!==r[i].commands&&(n.commands=r[i].commands),void 0!==r[i].captured&&(n.captured=r[i].captured),void 0!==r[i].promoted&&(n.promoted=r[i].promoted),void 0!==r[i].lines&&(n.lines=r[i].lines),void 0!==r[i].bughouseOrder&&(n.bughouseOrder=r[i].bughouseOrder),q.indexOf(r[i].san[0])>6?n.piece=U[r[i].san[0]]:"O"===r[i].san[0]?n.piece=E:n.piece=v,n.piece|=n.color,a.unshift(n)):a.unshift(r[i].san)}return a},hashes:function(){for(var e=[],t=Me,n=t.length;;){if(-1==--n){if(t.id){n=t.atMoveNode,t=Ee[t.parentId];continue}t.hash||getCurrentHash(),e.unshift(t.hash);break}e.unshift(t[n].hash)}return e},moveCount:function(){return Me.length},startingMoveNumber:function(){return we},completeFen:completeFen,createVariation:createVariation,selectLine:selectLine,hash:function(){var e=getCurrentHash();return pe!==s.Bughouse||de.isDependent?e:[e,de.siblingGame.hash()]},hashing:function(e){me=e,pe!==s.Bughouse||de.isDependent||de.siblingGame.hashing(me)},hand:function(){if(Ce)return handToString(de._hand[g],!0)+handToString(de._hand[b])},checks:function(){if(pe===s["3-check"])return[Se[g],Se[b]]},tokenizePgn:ue,_hand:[],_history:function(e){return e&&(ke=(Me=e).id),Me},_lines:function(){return Ee},_hashPosition:hashPosition,_board:function(){return fe}},se&&load(se,ce)||reset(),de}return Chess.fixSanMove=function(e,t,n){var a,r,i;if(/0|[?!+#]$|[18][QNRB]$|^P/.test(e))return e.replace(/[?!+#]+$/,"").replace(/0/g,"O").replace(/([18])([QNRB])$/,"$1=$2").replace(/^P/,"");if(r=e.indexOf("=")>0?-4:-2,a=e.substr(r,2),n=swapColor(n),t[u[a]]&n||/^[a-h]x?[a-h]/.test(e)){if(-1===e.indexOf("x"))return e.slice(0,r)+"x"+e.substr(r)}else if(e.indexOf("x")>-1)return e.replace("x","");return(i=e.match(/^([KQNRB]?)([a-h][1-8]?|[1-8])(x?[a-h][1-8])=?(.?)$/))?t[u[i[2]]]?{from:i[2],to:a,promotion:i[4].toLowerCase()}:i[1]+i[3]+i[4]:void 0},Chess.fixObjMove=function(e,t,n){if(t[u[e.from]]===(E|n)&&e.to&&e.from[1]===e.to[1]){if(e.from<e.to)return"O-O";if(e.from>e.to)return"O-O-O"}},Chess}(),n=function(t){var n="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",i=["bench","d","eval","flip","isready","perft","ponderhit","stop","uci","ucinewgame"],o=[{cmd:"position",args:["fen","startpos","moves","continuation"]},{cmd:"go",args:["binc","btime","confidence","depth","infinite","mate","mindepth","mintime","maxdepth","maxtime","movestogo","movetime","ponder","searchmoves","shallow","winc","wtime"]}],s=["moves","searchmoves"],l=["ponder","infinite","startpos"],u=/Total Evaluation[\s\S]+\n$/i;function createWebWorker(e,t,n){var a=new Worker(e||"stockfish.js"),r={terminate:function(){a.terminate()},postMessage:postMessage,addEventListener:function(e,t){r["on"+e]=t}};function postMessage(e){a.postMessage(e)}return a.onmessage=function(e){r.onmessage(e)},a.onerror=function(i){if(t.pathToNonWasmEngine&&t.pathToNonWasmEngine!==e){i.preventDefault&&i.preventDefault();try{a.terminate()}catch(i){}return(a=createWebWorker(t.pathToNonWasmEngine,t,n)).onmessage=function(e){r.onmessage(e)},(o=n._activeCommands()).length&&o.forEach(function(e){e.message="",postMessage(e.cmd)}),!1}var o;if(t.onError)return t.onError(i)},r}function parseSearchLine(e){var t,n,a,r,i,o={},s=["lowerbound","upperbound","score"],l=["depth","seldepth","time","nodes","multipv","cp","mate","currmovenumber","hashfull","nps","tbhits","sbhits","cpuload"],u=["depth","seldepth","time","nodes","pv","multipv","score","cp","mate","lowerbound","upperbound","currmove","currmovenumber","hashfull","nps","tbhits","sbhits","cpuload","string","refutation","currline","bestmove","ponder","baseTurn","pvSan","bestmoveSan","ponderSan","bmc"],c=["pv","pvSan","string","refutation","currline"];for(n=(t=e.split(" ")).length,a="info"===t[0]?1:0,o.mtype=t[0];a<n;a+=1)t[a]&&(!i||r&&u.indexOf(t[a])>-1?(i=t[a],s.indexOf(i)>-1?(o[i]=!0,i=null):r=c.indexOf(i)>-1||-1===u.indexOf(i)):(l.indexOf(i)>-1&&(t[a]=Number(t[a])),r?(void 0===o[i]&&(o[i]=[]),o[i].push(t[a])):(o[i]=t[a],i=null)));return"(none)"===o.bestmove&&(o.bestmove=void 0,o.bestmoveSan=void 0),"(none)"===o.ponder&&(o.ponder=void 0,o.ponderSan=void 0),o}function getFirstWord(e){var t=e.indexOf(" ");return-1===t?e:e.substr(0,t)}return function loadEngine(c,d){var f,p,m={},h=function(e,t){var n=e.pathToNonWasmEngine&&"undefined"==typeof WebAssembly?e.pathToNonWasmEngine:e.enginePath||e.pathToEngineWorker;if(e.pathToWasmEngine&&(n+="#"+e.pathToWasmEngine),"undefined"!=typeof Worker)return createWebWorker(n,e,t)}(c,m),g=[],b=[];function onmessage(e){var n,a,r,i,o,s="string"==typeof e?e:e.data;if(m)if(s.indexOf("\n")>-1)for(i=s.split("\n"),o=0;o<i.length;o+=1)onmessage(i[o]);else if(t.log&&console.log("debug (onmessage): "+s),m.stream&&m.stream(s),g.length&&0!==s.indexOf("No such option")&&0!==s.indexOf("id ")&&0!==s.indexOf("Stockfish")&&0!==s.indexOf("info string variant")&&(a=function(e,t){var n,a,r,i,o=getFirstWord(e);if("bench"!==t[0].cmd&&"perft"!==t[0].cmd)for(n="uciok"===o||"option"===o?"uci":"readyok"===o||"ready"===o?"isready":"json"===o?"fetch":"bestmove"===o||"info"===o?"go":"other",i=t.length,r=0;r<i;r+=1)if((a=getFirstWord(t[r].cmd))===n||"other"===n&&("d"===a||"eval"===a))return r;return 0}(s,g),r=g[a])){if(r.stream&&!r.discard&&r.stream(s),void 0===r.message?r.message="":""!==r.message&&(r.message+="\n"),r.message+=s,"uciok"===getFirstWord(s))n=!0;else if("readyok"===getFirstWord(s)||"ready"===getFirstWord(s))n=!0,m.ready=!0;else if(0!==s.indexOf("bestmove")&&"bestmove"!==getFirstWord(s)||"bench"===r.cmd)if("d"===r.cmd)0!==s.indexOf("Legal uci moves")&&0!==s.indexOf("Key is")||(r.done=!0,n=!0);else if("fetch json"===r.cmd)try{r.message=JSON.parse(r.message.replace(/^json /gm,"").replace(/\n/g,"")),n=!0}catch(e){}else"eval"===r.cmd?u.test(r.message)&&(n=!0):0===s.indexOf("pawn key")?n=!0:0===s.indexOf("Nodes/second")?n=!0:0===s.indexOf("Unknown command")&&(n=!0);else n=!0,r.message=s;n&&(g.splice(a,1),r.cb&&!r.discard?r.cb(r.message):r.ondiscard&&r.ondiscard())}}function bestMoveSearch(){var e,r,i,o,s,l=1,u=[],c=[],d=null,p=b[0].args,h=b[0].cb,g=b[0].stream,v=p.timeout,_=1,y=14;function convertpv(e){var t=[],n=c[e]||createSanPv(u[e]);return u[e].forEach(function(e,a){t.push({moveSan:n[a],moveLan:e})}),t}function getpv(e,t,n,a){var r;for(r=u.length-1;r>=0;r-=1)if(u[r][0]===e)return convertpv(r);return n?[{moveSan:t,moveLan:e},{moveSan:a,moveLan:n}]:t?[{moveSan:t,moveLan:e}]:[]}function convertScore(e){0===e.mate?(e.mateIn=0,e.cp=-31800*_):(e.mateIn=Number(e.mate*_)||null,"number"!=typeof e.mateIn||isNaN(e.mateIn)||"number"==typeof e.cp?(e.cp*=_,9===Math.abs(e.cp)&&(e.cp=0),p.normalize&&e.depth<=y&&"number"==typeof loadEngine._previousCP&&1===e.multipv&&function(e){var t=.03*Math.pow(32,e.depth/y);e.cp=loadEngine._previousCP+(e.cp-loadEngine._previousCP)*t}(e)):e.cp=31800*_*(e.mate/Math.abs(e.mate))),e.score=e.cp/100}function addBestMoveProps(n){var s;if(n.baseTurn=i,n.cp=e,n.score=e/100,n.mate=r,n.mateIn=d,n.depth=l,n.moveLan=n.bestmove,n.moveLan){if(n.move=t.uciToObj(n.moveLan)[0],!(s=o.move(n.move)))throw new Error("Bad moveLan in line: "+n.moveLan+" at "+o.fen()+"\ndata: "+(0,a.default)(n)+"\nargs: "+(0,a.default)(p));if(n.moveSan=n.bestmoveSan=s.san,n.ponder&&"(none)"!==n.ponder){if(!(s=o.move(t.uciToObj(n.ponder)[0])))throw new Error("Bad ponder in line: "+n.ponder+" at "+o.fen()+"\ndata: "+(0,a.default)(n)+"\nargs: "+(0,a.default)(p));n.ponderSan=s.san,o.undo(!0)}o.undo(!0)}}function createSanPv(e){var n,r,i=e.length,s=[];for(n=0;n<i;++n){if(!(r=o.move(t.uciToObj(e[n])[0])))throw new Error("Bad pv in line: "+e[n]+" ("+n+") at "+o.fen()+"\npv: "+(0,a.default)(e)+"\nargs: "+(0,a.default)(p));s.push(r.san)}for(n=0;n<i;++n)o.undo(!0);return s}function createTimeout(){v&&(clearTimeout(f),f=setTimeout(function(){m.stop(),h&&(h(),h=void 0)},v))}p.timeout=void 0,b[0].started=!0,p.difficulty>=0&&p.difficulty<20?(m.setoption("Skill Level",p.difficulty),p.maximumError>=0&&p.maximumError<=4999&&m.setoption("Skill Level Maximum Error",p.maximumError),p.errorProbability>=1&&p.errorProbability<=128&&m.setoption("Skill Level Probability",p.errorProbability)):m.setoption("Skill Level",20),void 0!==p.contempt?m.setoption("Contempt",p.contempt):m.setoption("Contempt","0"),p.multiPv>1?m.setoption("MultiPV",p.multiPv):m.setoption("MultiPV",1),p.movetime||p.wtime&&p.btime||p.depth||(p.btime=p.btime||72e3,p.wtime=p.wtime||72e3),!p.startpos&&p.fen||p.moves||p.variant?(o=t.createGame({fen:p.fen?(s=p.fen,(s+"").replace(/\[([qrbnp]*)\]/i,"/$1").replace(/([0-3])\+([0-3]) (\d+ \d+)/,function(e,t,n,a){return a+" +"+(3-t)+"+"+(3-n)})):n,moves:p.moves,variant:p.variant,disableHashing:!0})).turn()===o.WHITE?i="w":(i="b",_=-1):(i="w",o=t.createGame({disableHashing:!0})),m.setVariant(p.variant),m.position(p),m.go(p,function(t){var n=parseSearchLine(t);if(addBestMoveProps(n),l>y&&e<5e3&&e>-5e3&&(loadEngine._previousCP=e),n.pv=getpv(n.moveLan,n.moveSan),1===n.pv.length&&n.ponder&&(n.pv=getpv(n.moveLan,n.moveSan,n.ponder,n.ponderSan)),h)try{h(n)}catch(e){console.error(e)}b.shift(),b.length>0&&bestMoveSearch(),clearTimeout(f)},function(t){var n=parseSearchLine(t);n.score&&(n.baseTurn=i,convertScore(n),1!==n.multipv&&0!==n.depth||(e=n.cp,r=n.mate,d=n.mateIn)),n.pv&&g&&(n.pvSan=createSanPv(n.pv)),!n.pv||n.lowerbound||n.upperbound||(u.push(n.pv),g&&c.push(n.pvSan)),n.depth>l?l=n.depth:"bestmove"===n.mtype&&addBestMoveProps(n),!g||0===n.mateIn&&n.pv||g(n),createTimeout()}),createTimeout()}function startUp(){m.isready(function(){c.settings?m.uci(function(){(0,r.default)(c.settings).forEach(function(e){m.setoption(e,c.settings[e])}),d&&d(m)}):d&&d(m)})}return m.send=function(e,n,a){var r;e=String(e).trim(),t.log&&console.log("debug (send): "+e),"ucinewgame"!==e&&"flip"!==e&&"stop"!==e&&"ponderhit"!==e&&0!==e.indexOf("position")&&0!==e.indexOf("setoption")?g[g.length]={cmd:e,cb:n,stream:a}:r=!0,h&&(h.postMessage(e),r&&n&&setTimeout(n,0))},m._activeCommands=function(){return g},m.quit=function(){h&&h.terminate&&(h.terminate(),h=null,m.ready=void 0),clearTimeout(f)},i.forEach(function(e){m[e]=function(t,n){m.send(e,t,n)}}),o.forEach(function(e){m[e.cmd]=function(t,n,a){var r=[e.cmd];p&&t.fen&&(t.fen=(t.fen+"").replace(/^([^/]+)((?:\/[^/]+){7})\/([qrbnp]*)/i,"$1$2[$3]").replace(/( \d+ \d+) \+([0-3])\+([0-3])/,function(e,t,n,a){return" "+(3-n)+"+"+(3-a)+t})),e.args.forEach(function(e){if(t[e]||0===t[e]){if(s.indexOf(e)>-1){if(!t[e]||!t[e].length)return;Array.isArray(t[e])&&(t[e]=t[e].join(" "))}r.push(e),-1===l.indexOf(e)&&r.push(t[e])}}),m.send(r.join(" "),n,a)}}),m.setoption=function(e,t){m.send("setoption name "+e+" value "+t)},m.setVariant=function(e){var t;e!==p&&(t=String(e).toLowerCase().replace(/ |-/g,""),e&&"chess"!==t?"chess960"===t?(m.setoption("UCI_Variant","chess"),m.setoption("UCI_Chess960","true")):("threecheck"===t&&(t="3check"),m.setoption("UCI_Variant",t),m.setoption("UCI_Chess960","false")):(t=void 0,m.setoption("UCI_Variant","chess"),m.setoption("UCI_Chess960","false")),p=t)},m.loadBook=function(t,n){e.loadBook(t,function(e,a){m.book=a,m.pathToBook=t,m.bookLoaded=!0,e&&(console.error("Error loading opening book."),console.error(e),m.pathToBook=null,m.bookLoaded=!1),n()})},m.getBestMove=function(e,n,a){var r;if((e=e||{}).fen=e.fen||e.baseFen,e.is960&&(e.variant="Chess960"),m.bookLoaded&&e.useBook&&(r=function(e){var n,a,r;if(r=e.moves&&e.moves.length?t.getFenFromMoves(e.fen,e.moves,e.variant):e.fen,(n=m.book.pick({fen:r,type:void 0!==e.bookPick?e.bookPick:"random",chess960:"Chess960"===e.variant}))&&(t.getLegalMoves(r,e.variant).some(function(e){if(e.from+e.to+(e.promotion||"")===n)return a=e,!0}),a))return{moveSan:a.san,moveLan:n,move:{from:a.from,to:a.to,promotion:a.promotion||null},baseTurn:r.split(" ")[1],pv:[{moveSan:a.san,moveLan:n}],depth:null,score:null,mateIn:null,isBookMove:!0}}(e)))return setTimeout(function(){r.mtype="bestmove",n(r)},0);!function(e,t,n){b.push({args:e,cb:t,stream:n}),1===b.length&&bestMoveSearch()}(e,n,a)},m.stopAll=function(e){var n,a=g.length,r=0;function ondiscard(){0==(r-=1)&&e()}for(b=[],n=0;n<a;n+=1)t.log&&console.log("debug (stop_moves): "+n,getFirstWord(g[n].cmd)),"go"!==getFirstWord(g[n].cmd)||g[n].discard||(m.stop(),g[n].discard=!0,e&&(r+=1,g[n].ondiscard=ondiscard));e&&!r&&m.isready(e)},m.restartEngine=function(e){return m.stopAll(),m.quit(),g=[],b=[],m.bookLoaded&&!c.book&&((c=JSON.parse((0,a.default)(c))).book=m.book),loadEngine(c,e)},m.stopFast=function(e,t){var n;m.stopAll(function(){clearTimeout(n),e(m)}),n=setTimeout(function(){m.restartEngine(e)},t||5e3)},"undefined"!=typeof Worker&&(h.addEventListener("message",onmessage,!1),c.book&&(m.book=c.book,m.bookLoaded=!0,m.pathToBook=c.pathToBook),!m.book&&c.pathToBook?m.loadBook(c.pathToBook,startUp):setTimeout(startUp,0),m.getFenFromMoves=t.getFenFromMoves,m.getLegalMoves=t.getLegalMoves,m.getPositionInfo=t.getPositionInfo,m.isFenValid=t.isFenValid,m.ready=!1,m)}};return function(){var a,r=t(),o="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",s=252,l=255,u={4:"p",5:"P",6:"p",8:"n",9:"N",10:"n",16:"b",17:"B",18:"b",32:"r",33:"R",34:"r",64:"q",65:"Q",66:"q",128:"k",129:"K",130:"k"},c="pnbrq",d=512,f="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?{~}(^)[_]@#$,./&-*++=",p="qnrbkp";function decodeTCN(e){var t,n,a,r,i=e.length,o=[];for(t=0;t<i;t+=2)r={},n=f.indexOf(e[t]),(a=f.indexOf(e[t+1]))>63&&(r.promotion=p[Math.floor((a-64)/3)],a=n+(n<16?-8:8)+(a-1)%3-1),n>75?r.drop=p[n-79]:r.from=f[n%8]+(Math.floor(n/8)+1),r.to=f[a%8]+(Math.floor(a/8)+1),o.push(r);return o}function uciToObj(e){var t,n,a=e.split(" "),r=a.length,i=[];if(e)for(t=0;t<r;++t)4===(n=a[t]).length?"@"===n[1]?i.push({drop:n[0].toLowerCase(),to:n.substr(2,2)}):i.push({from:n.substr(0,2),to:n.substr(2,2)}):i.push({from:n.substr(0,2),to:n.substr(2,2),promotion:n[4]});return i}function isSameMove(e,t){return e.san===t.san||e.from==t.from&&e.to==t.to&&e.promotion==t.promotion&&e.drop==t.drop}function makePremove(e,n,a){var i,o,s,l,u,c=e.header().Variant,d=getPremoves(e.fen(),n,c);if(d){for(i=d.length-1;i>=0;--i)if(isSameMove(o=d[i],a)){s=!0;break}if(s)return o.drop?e.put({type:o.drop,color:n},o.to,!0):(l=e.remove(o.from,!0),o.flags===r.FLAGS.KSIDE_CASTLE?(u=e.remove("Chess960"===c?o.to:"h"+o.from[1],!0),e.put(l,"g"+o.from[1],!0),e.put(u,"f"+o.from[1],!0)):o.flags===r.FLAGS.QSIDE_CASTLE?(u=e.remove("Chess960"===c?o.to:"a"+o.from[1],!0),e.put(l,"c"+o.from[1],!0),e.put(u,"d"+o.from[1],!0)):(o.promotion&&(l.type=o.promotion,l.promoted=!0),e.put(l,o.to,!0))),o}if(a.from&&(a=t.fixObjMove(a,e._board(),n)))return makePremove(e,n,{san:a})}function getPieces(e,t){var n,a,r,i=t?{}:[],o=e._board();if(t)for(n=112;n>=0;++n)136&n&&(n-=24),(a=o[n])&&(i[r=f[7&n]+(8-(n>>4))]={type:u[a&s],color:3&a,promoted:0!=(a&d),square:r});else for(n=112;n>=0;++n)136&n&&(n-=24),(a=o[n])&&i.push({type:u[a&s],color:3&a,promoted:0!=(a&d),rank:8-(n>>4),file:1+(7&n)});return i}function makeMoves(e,t,n,a){var r,i,o,s,l,u,c,d,f,p;for(n=n||{},"string"==typeof t&&(t=t.trim().split(" ")),o=t.length,r=0;r<o;r+=1){if(l="b"===t[r].board||"B"===t[r].board?e.siblingGame:e,u="string"==typeof t[r]?uciToObj(t[r])[0]:t[r].san?t[r].san:t[r],!l.move(u)){if(!n.autoPromote){if(n.skipBadLines)break;return!1}if(!0===n.autoPromote?u.promotion="q":u.promotion=n.autoPromote,!l.move(u)){if(n.skipBadLines)break;return!1}}if(d=(c=l._history())[c.length-1],a&&(f=parseInt(a[r],10)),("number"!=typeof f||isNaN(f))&&(f=parseInt(t[r].time,10)),"number"!=typeof f||isNaN(f)||(d.time=f,f=void 0),t[r].firstComment&&(c.initComment=t[r].firstComment),t[r].comment&&(d.comment=t[r].comment),t[r].annotation&&(d.annotation=t[r].annotation),t[r].additionalAnnotation&&(d.additionalAnnotation=t[r].additionalAnnotation),t[r].commands&&(d.commands=t[r].commands),t[r].lines)for(s=t[r].lines.length,i=0;i<s;++i){if(p=e._history().id,e.createVariation(),!makeMoves(e,t[r].lines[i],n)&&!n.skipBadLines)return!1;e.selectLine(p)}}return!0}function createGame(e){var n,a;if((e=e||{}).game)return e.game;if(n=t(),e.analysis&&function extendChess(e){var n,a,r=-1,s=0;function fixContComment(t){var n=e._lines()[t.ids.line];return n.initComment&&(t.comment=(n.initComment+" "+(t.comment||"")).trim(),n.initComment=""),!0}e.extended||(e.extended=!0,n={header:e.header,load:e.load,loadPgn:e.loadPgn,createVariation:e.createVariation,undo:e.undo,pgn:e.pgn},e._move=e.move,e.premoves=[],e.undo=function(){return e.deletePosition(r,s)},e.isLegalMove=function(t){return!!e._move(t)&&n.undo(!0)},e.premove=function(n,a){var r,i=e.premoves.length,o=t();return i?o.load(e.premoves[i-1].fen,e.header().Variant):o.load(e.fen(),e.header().Variant),(r=makePremove(o,a,n))?(e.premoves.push({move:r,pieces:getPieces(o),fen:o.fen()}),r):null},e.getPieces=function(t){return getPieces(e,t)},e.origHistory=e.history,e.history=function(t,n){var a,r,o,s=[],l=e._history(),u=l.length,c=e._lines();for("boolean"==typeof t&&(t={verbose:t}),t=t||{},n&&(t.noParentLines=n),t.toCurrent&&(u=e.ids().move+1);;){if(-1==--u){if(l.id&&!t.noParentLines){u=l.atMoveNode,l=c[l.parentId];continue}break}if(t.verbose){for(r in a={},l[u])if(l[u][r]&&"object"===(0,i.default)(l[u][r]))for(o in a[r]=l[u][r].constructor===Array?[]:{},l[u][r])a[r][o]=l[u][r][o];else a[r]=l[u][r];s.unshift(a)}else s.unshift(l[u].san)}return s},e._getPos=function(t,a){var i,l;return"number"!=typeof t&&(t=r),"number"!=typeof a&&(a=s),i=(l=e._lines())[a],t>=0?i[t]:i.id?i.atMoveNode?l[i.parentId][i.atMoveNode-1]:e._getPos(i.atMoveNode-1,i.parentId):{fen:n.header().FEN||o,hash:i.hash,initial:!0}},e.move=function(t,n){var a,i,o,l,u=e._history();if(t&&("string"==typeof t||t.to&&(t.from||t.drop))){if(s===u.id&&r<u.length-1||n){if(e.moveForward(n,t))return!0;r<u.length-1&&(e.selectPosition(r+1),e.createVariation(),u=e._history())}e.siblingGame&&(o=e.isDependent?e.siblingGame.fen():e.fen()),(a=e._move(t))&&(normalizeMoveObj(a),s=u.id,i=u[r=u.length-1],l=e._getPos(r-1),e.siblingGame?(e.isDependent?i.fen=e.siblingGame.fen():i.fen=e.fen(),i.beforeFen=o):(i.fen=e.fen(),i.beforeFen=l.fen),l.initial?(i.moveNumber=0,i.previous=null):(i.moveNumber=l.moveNumber+1,i.previous=l.ids,l.isContinuation&&fixContComment(l)),s&&0===r&&e._lines()[u.parentId][u.atMoveNode].move===i.move&&(i.isContinuation=!0),i.flags=a.flags,i.to=a.to,i.from=a.from,i.drop=a.drop,i.capturedStr=a.captured,i.promotion=a.promotion,i.piece=a.piece,a.promoted&&(i.promoted=!0),a.capturedPromotedPawn&&(i.capturedPromotedPawn=!0),i.ids={move:r,line:s})}return a},e.header=e.headers=function(t){var a=n.header(t);return e.siblingGame&&extendChess(e.siblingGame),a},e.load=function(t,a,i,o){var l=n.load(t,a,i,o);return e.siblingGame&&extendChess(e.siblingGame),l&&!i&&(r=-1,s=0),l},e.removeEmptyLines=function(){var t,n,a=e._lines();for(t=a.length-1;t>0;--t)a[t].length||(a[t]=void 0,n=!0);n&&e.reorderLines()},e.loadPgn=function(t,a,i){var o=n.loadPgn(t,a,i),l=e._history();return e.removeEmptyLines(),r=l.length-1,s=l.id,o},e.ids=function(){return{move:r,line:s}},e.selectLine=function(t){e.selectPosition(null,t)},e.moveBackward=function(){var t;if(r<=1)if(0===s){if(-1===r)return!1;e.selectPosition(r-1)}else(t=e._getPos(r-1,s)).isContinuation?e.selectPosition(e._history().atMoveNode,e._history().parentId):t.initial?e.selectPosition(-1,0):e.selectPosition(t.ids.move,t.ids.line);else e.selectPosition(r-1);return!0},e.moveForward=function(n,a){var i,o,l,u,c,d,f=e._lines();if(i=f[s][r+1],"string"==typeof a&&(a={san:a}),!i||a&&!isSameMove(a,i)){if(a&&i&&i.lines)for(c=i.lines.length,u=0;u<c;++u)if((l=f[i.lines[u]][0])&&isSameMove(a,l)){i=l,d=!0;break}if(!d&&n&&(o=f[s][r])&&o.lines)for(c=o.lines.length,u=0;u<c;++u)if((l=f[o.lines[u]][0])&&l.isContinuation&&(l=f[o.lines[u]][1])&&(!a||isSameMove(a,l))){i=l,d=!0;break}if(!d)return!!(a&&a.san&&(a=t.fixSanMove(a.san,e._board(),e.turn()))||a&&a.to&&a.from&&Math.abs(a.to.charCodeAt(0)-a.from.charCodeAt(0))>1&&(a=t.fixObjMove(a,e._board(),e.turn())))&&e.moveForward(n,a)}return e.selectPosition(i.ids.move,i.ids.line)},e.moveVariation=function(t,n){var a,r,i,o=e._lines(),s=o[t];if(s&&s.id)for(r=(a=o[s.parentId][s.atMoveNode].lines).length-1;r>=0;--r)if(a[r]===t&&a[i=r-(n?1:-1)])return a[r]=a[i],a[i]=t,e.reorderLines(),!0;return!1},e.promoteVariation=function(t,n){for(var a,i,o,l,u,c,d=e._lines(),f=d[t];f&&f[0]&&f.id&&(-1!==n||f.parentId);){for(a=d[o=f.parentId],l=f.atMoveNode,f[0].lines=a[l].lines.concat(f[0].lines||[]),a[l].lines=void 0,c=a.length-l,i=a.splice(l,c),u=0;u<c;++u)i[u].ids.line=t,i[u].ids.move=u;for(i.id=t,i.parentId=o,i.atMoveNode=l,i.hash=f.hash,0===l?(i.initComment=a.initComment,a.initComment=f.initComment):f.initComment&&(a[l-1].comment=((a[l-1].comment||"")+" "+f.initComment).trim()),d[t]=i,c=f.length,u=0;u<c;++u)f[u].ids.line=o,f[u].ids.move=u+l,a.push(f[u]);for(i[0].isContinuation=!!f[0].isContinuation&&fixContComment(i[0]),a[l].isContinuation=!l&&"number"==typeof a.parentId&&d[a.parentId][a.atMoveNode].move===a[0].move&&fixContComment(a[l]),c=a[l].lines.length,u=0;u<c;++u)d[a[l].lines[u]].atMoveNode=l,d[a[l].lines[u]][0]&&(d[a[l].lines[u]][0].isContinuation=d[a[l].lines[u]][0].move===a[l].move&&fixContComment(d[a[l].lines[u]][0]));if(s===t?(s=o,r+=l):s===o&&r>=l&&(s=t,r-=l),1===n)break;f=d[t=o]}return void 0!==a&&(e._history(d[s]),e.reorderLines(),!r&&d[s][0].isContinuation&&e.selectPosition(d[s].atMoveNode,d[s].parentId),!0)},e.reorderLines=function(t,n){var r,i,o,l,u,c,d,f,p,m,h=e._lines();for(t?p=n.length-1:(t=0,n=[h[0]],p=0,a=!1),o=(r=h[t]).length,i=0;i<o;++i)if((l=r[i]).ids.line=p,l.lines)for(u=l.lines.length,c=0;c<u;++c)(f=h[d=l.lines[c]])?(f.atMoveNode=i,m=n.length,l.lines[c]=m,f.parentId=p,a||d!==s||(a=!0,s=m),n.push(f),e.reorderLines(d,n)):(1===l.lines.length?delete l.lines:l.lines.splice(c,1),--c,--u);t||e.saveLines(n,!0)},e.createVariation=function(){var t,a,i,o,l=e._history(),u=e._lines();return r===l.length-1?(t=n.createVariation(),l=e._history(),r=l.length-1,s=l.id,t):-1!==r&&(a=[],i=l[r],a.parentId=l.id,a.id=u.length,i.lines||(i.lines=[]),i.lines.push(a.id),o=e._getPos(r-1),a.hash=o.hash,a.atMoveNode=r,u.push(a),e.selectPosition(-1,a.id))},e.selectLineEnd=function(t){return"number"!=typeof t&&(t=s),(t!==s||r<e._history().length-1)&&e.selectPosition(null,t,!0)},e.selectLineStart=function(){var t,n;return s?(r>1||1===r&&!e._getPos(0).isContinuation?t=e._history():(n=e._getPos(-1),t=e._lines()[n.ids?n.ids.line:0]),e.selectPosition(t.id?t[1]&&t[0].isContinuation?1:0:-1,t.id)):-1!==r&&e.selectPosition(-1,0)},e.selectPosition=function(t,a,i){var o=e._lines(),l=e._history();if("number"==typeof a&&(a!==s||i)){if(a<0||a>=o.length)return!1;if(l=o[a],"number"!=typeof t)t=l.length-1;else if(t<-1||t>=l.length)return!1;s=a,e._history(l),i=!0}if("number"==typeof t&&(t!==r||i)){if(t<-1||t>=l.length)return!1;n.load(e._getPos(t).fen,n.header().Variant,!0,!0),r=t}return!0},e.resetToMainLine=function(){var t=e._lines();e.selectLineEnd(0),t.length>1&&(t.length=1,e.reorderLines())},e.saveLines=function(t,n){var a,r,i,o=e._lines(),s=t.length;for(t!==o&&(o.length=0),r=0;r<s;++r){if(a=t[r],r&&"number"!=typeof a.parentId)return!1;t!==o&&o.push(a),a.id=r}return n||(i=e.ids(),e.selectPosition(-1,0,!0),e.selectPosition(i.move,i.line)),!0},e.deletePosition=function(t,n){var a,i,o=e._lines();return!(!o[n]||!(o[n][t]||-1===t&&0!==n))&&(n&&(0===t?t=-1:1===t&&o[n][0].isContinuation&&(t=-1)),s>0&&n!==s?i=!1!==(a=function(e,t,n){for(var a,r=e[t];"number"==typeof(a=r.parentId);){if(a===n)return r.atMoveNode;r=e[a]}return!1}(o,s,n))&&a>=t:n===s&&t<=r&&(i=!0),i&&(t>1?e.selectPosition(t-1,n):(e.selectPosition(o[n][0].isContinuation||1===t?1:0,n),e.moveBackward())),t>0?o[n].length=t:n?o[n]=null:o[0].length=0,e.reorderLines(),e.ids())},e.mark=function(t,n){var a=r<0?e._lines()[s]:e._lines()[s][r],i=t.type,o=1;t.color&&("arrow"===i?e.mark({key:t.color+t.key,type:"cal"},n):"square"===i&&e.mark({key:t.color+t.key,type:"csl"},n)),"cal"!==i&&"csl"!==i&&(i="c_"+i,o=0),a.commands&&a.commands[i]&&(a.commands[i]=a.commands[i].split(",").filter(function(e){return e.slice(o).split(";")[0]!==t.key.slice(o)}).join(","),a.commands[i]||delete a.commands[i]),n||(a.commands||(a.commands={}),a.commands[i]=(a.commands[i]?a.commands[i]+",":"")+t.key+(t.data?";"+t.data.join(";"):""))},e.markings=function(){var t,n,a,i,o,l,u,c,d={},f=r<0?e._lines()[s]:e._lines()[s][r],p={cal:"arrow",csl:"square"};for(n in f.commands){if(a=f.commands[n],p[n])n=p[n],i=0;else{if("c_"!==n.substr(0,2))continue;n=n.slice(2),i=1}for(d[n]=d[n]||{},l=(o=a.split(",")).length,t=0;t<l;++t)i?(c=(u=o[t].split(";")).shift(),d[n][c]=d[n][c]||{type:n,key:c},d[n][c].data=u):(c=o[t].slice(1),d[n][c]=d[n][c]||{type:n,key:c},d[n][c].color=o[t][0])}return d},e.clearMarkings=function(){var t,n=r<0?e._lines()[s]:e._lines()[s][r];for(t in n.commands)/^c[sa]l$|^c_/.test(t)&&delete n.commands[t]},e.pgn=function(t){var a,r=e.ids();return e.selectLineEnd(0),a=n.pgn(t),e.selectPosition(r.move,r.line),a},e.loadMoves=function(t,n){var a,i,o;if(n=n||{},"string"==typeof t&&(t=decodeTCN(t)),t){for(n.atCurrent||e.selectPosition(-1,0),o=s,i=t.length,a=0;a<i;++a){if(!e.move(t[a],!0)&&(t[a].promotion=!0===n.autoPromote?"q":n.autoPromote,!e.move(t[a],!0)))return!1;s!==o&&"merge"!==n.method&&(e.promoteVariation(s,1),"promote"!==n.method&&(e._history()[r].lines=void 0,e.reorderLines()),o=s)}"merge"!==n.method&&"promote"!==n.method&&e.deletePosition(r+1,s)}return!0})}(n),e.disableHashing&&n.hashing(!1),e.pgn){if(!n.loadPgn(e.pgn,e.index,e.options))return!1}else{if(e.headers&&(e.variant=e.headers.Variant||e.variant,e.fen||(e.fen=e.headers.FEN)),(e.fen||e.variant)&&!n.load(e.fen||o,e.variant))return!1;e.headers&&"object"===(0,i.default)(e.headers)&&!Array.isArray(e.headers)&&n.header(e.headers)}if(e.tcn)if("object"===(0,i.default)(e.tcn)){if(!function(e,t,n){var a,r,i,o=[decodeTCN(t[0]),decodeTCN(t[1])],s=[0,0],l=[0,0],u=o[0].length+o[1].length,c=Math.max(0|n[0][0],0|n[0][1],0|n[1][0],0|n[1][1]),d=[0,0],f=[0,0];for(a=[[c+=600-c%600,c],[c,c]];u--;){if(f[0]=d[0]+a[0][l[0]]-n[0][s[0]]||0,f[1]=d[1]+a[1][l[1]]-n[1][s[1]]||0,o[r=f[0]<=f[1]?0:1][s[r]]||(r^=1),(!(i=r?e.siblingGame:e).move(o[r][s[r]])||u&&i.inCheckmate()&&i.undo(!0))&&!(i=(r^=1)?e.siblingGame:e).move(o[r][s[r]]))return!1;i._history()[s[r]].time=n[r][s[r]],a[r][l[r]]=n[r][s[r]],d[r]=f[r],l[r]^=1,++s[r]}return!0}(n,e.tcn,e.timestamps||[[],[]]))return!1}else a=decodeTCN(e.tcn);else a=e.moves;return!(a&&!makeMoves(n,a,e,e.timestamps))&&n}function normalizeMoveObj(e){return e&&(e.piece&d&&(e.promoted=!0),e.piece=u[e.piece&s],e.captured&&(e.captured&d&&(e.capturedPromotedPawn=!0),e.captured=u[e.captured&l]),e.promotion&&(e.promotion=u[e.promotion&s]),void 0!==e.drop&&(e.drop=c[e.drop])),e}function getPremoves(e,n,a){var i,o,s,l,u,d,f,p,m=[];function pawnCapture(e){var t,a=u[0]+"x"+e;if(1===n&&7===i||2===n&&2===i)for(t=4;t>0;--t)m.push({color:n,to:e,flags:r.FLAGS.CAPTURE|r.FLAGS.PROMOTION,from:u,promotion:1<<t+2,piece:4,san:a+"="+c[t].toUpperCase()});else 1===i&&2===n||8===i&&1===n||m.push({color:n,to:e,flags:r.FLAGS.CAPTURE,from:u,piece:4,san:a})}if(1!==n&&2!==n||!r.load(e,a||"chess"))return null;for(e=r.fen(),(l=t()).clear(),a&&l.header({Variant:a}),r.turn(n),l.turn(n),i=1;i<9;++i)for(o=1;o<9;++o)u=String.fromCharCode(o+96)+i,(s=r.get(u))&&(r.remove(u,!0),s.color===n&&("p"===s.type?(o>1&&pawnCapture(String.fromCharCode(o-1+96)+(i+(1===n?1:-1))),o<8&&pawnCapture(String.fromCharCode(o+1+96)+(i+(1===n?1:-1)))):"k"===s.type&&(f=u[0],p=i),l.put(s,u,!0),m=m.concat(l.moves({verbose:!0})),l.remove(u,!0)));return"-"!==(d=e.split(" ")[2])&&d.split("").forEach(function(e){(1===n&&e<"a"||2===n&&e>="a")&&("k"===(e=e.toLowerCase())?m.push({color:n,to:"g"+p,flags:r.FLAGS.KSIDE_CASTLE,from:"e"+p,piece:128,san:"O-O"}):"q"===e?m.push({color:n,to:"c"+p,flags:r.FLAGS.QSIDE_CASTLE,from:"e"+p,piece:128,san:"O-O-O"}):e>f?m.push({color:n,to:e+p,flags:r.FLAGS.KSIDE_CASTLE,from:f+p,piece:128,san:"O-O"}):m.push({color:n,to:e+p,flags:r.FLAGS.QSIDE_CASTLE,from:f+p,piece:128,san:"O-O-O"}))}),(m=m.concat(r.moves({verbose:!0}))).forEach(function(e){normalizeMoveObj(e)}),m}function getLegalMoves(e,t){var n,a,i,o;if("string"==typeof e){if(!(a=r).load(e,t))return null}else a=createGame(e);for(o=(n=a.moves({verbose:!0})).length,i=0;i<o;++i)normalizeMoveObj(n[i]);return n}function jce(e,t){return(a=a||n(jce))(e,t)}return jce.gameFingerprints=function(t){var n,a,r,i,s,l,u,c,d,f=createGame(t),p=[""],m=[];if(!f)return!1;for(d=(c=f.header()).Variant||"",l=f.hashes(),n="function"==typeof f.origHistory?f.origHistory(!0):f.history(!0),s=l.length,a=[l[0][0],l[0][1]],m.push(e.to64BitHex(a)+d),l[0]=e.to64BitHex(l[0]),r=1;r<s;++r)a[0]=(a[0]^l[r][0]*(r+58465))>>>0,a[1]=(a[1]^l[r][1]*(r+984))>>>0,l[r]=e.to64BitHex(l[r]),m.push(e.to64BitHex(a)+d),normalizeMoveObj(n[i=r-1]),u=(n[i].from?n[i].from:n[i].drop.toUpperCase()+"@")+n[i].to+(n[i].promotion||""),i&&(u=p[i]+" "+u),p.push(u);return{startingFen:c.FEN||o,hashes:l,fingerprints:m,moves:p,variant:c.Variant}},jce.getFenFromMoves=function(e,t,n){return r.reset(),r.load(e,n),!(t&&!makeMoves(r,t))&&r.fen()},jce.getLegalMoves=getLegalMoves,jce.getPremoves=getPremoves,jce.getPositionInfo=function(e,t,n){var a,i,o,s={gameOver:!1,check:!1,checkmate:!1,draw:!1,stalemate:!1,threefold:!1,insufficient:!1};if(Array.isArray(t)||(n=t,t=null),"boolean"==typeof n?(a=n,n={}):a=(n=n||{}).variant,"string"==typeof e){if(0!==(o=r).validateFen(e,a)||!o.load(e,a))return!1}else o=createGame(e);return!(t&&!makeMoves(o,t))&&(n.getLegalMoves?(i=getLegalMoves({game:o}),s.legalMoves=i):i=o.moves(),o.inCheck()?(s.check=!0,s.checkmate=0===i.length):s.stalemate=0===i.length,n.premove&&(n.check=!1,n.kings=!1),s.threefold=o.inThreefoldRepetition(),s.insufficient=o.insufficientMaterial(n.color),s.fiftyMoveRule=o.in50MoveRule(),s.draw=s.stalemate||s.threefold||s.insufficient||s.fiftyMoveRule||o.inDraw(),n.skipValidation||(s.isValid=o.isPositionValid(n)),a&&(s.variantWin=o.isVariantWin(),void 0===s.variantWin&&(s.variantWin=o.isBughouseWin())),s.gameOver=s.checkmate||s.draw||Boolean(s.variantWin),s)},jce.isFenValid=function(e,t){return 0===r.validateFen(e,t)},jce.encodeTCN=function(e){var t,n,a,r,i="";for(Array.isArray(e)||(e=[e]),n=e.length,t=0;t<n;t+=1)a=e[t].drop?79+p.indexOf(e[t].drop):f.indexOf(e[t].from[0])+8*(e[t].from[1]-1),r=f.indexOf(e[t].to[0])+8*(e[t].to[1]-1),e[t].promotion&&(r=3*p.indexOf(e[t].promotion)+64+(r<a?9+r-a:r-a-7)),i+=f[a]+f[r];return i},jce.decodeTCN=decodeTCN,jce.uciToObj=uciToObj,jce.generatePgn=function(e){var t;return(e=e||{}).disableHashing=!0,!!(t=createGame(e))&&t.pgn(e)},jce.pgnToFen=function(e,t){var n,a,i=[];if(r.reset(),!r.loadPgn(e))return!1;if(n=r.moveCount(),"number"==typeof t){for(t<0&&(t=n+t+1),a=n-1;a>=t&&a>=0;a-=1)r.undo();return r.fen()}for(a=0;a<=n;a+=1)i.unshift(r.fen()),r.undo();return i},jce.pgnToJson=function(e,t,n){var a,i=[],o=r;return"number"!=typeof t&&(n=t,t=void 0),a=o.tokenizePgn(e,n),t<0&&(t=a.length+t),!!a&&(n&&n.includeFen&&(o=createGame({analysis:!0})),a.forEach(function(e,a){var r,s;a===t||void 0===t?o.loadPgn([e],0,n)?(s=function normalizeHistory(e){var t,n,a,r,i,o,s,l=e.history(!0,!0);if(e.siblingGame){for(t=e.siblingGame.history(!0,!0),a=l.length+t.length,n=[],r=0;r<a;++r)!l.length||t.length&&t[0].bughouseOrder<l[0].bughouseOrder?(i=t.shift()).board="b":(i=l.shift()).board="a",n.push(i);l=n}for(a=l.length,r=0;r<a;++r)if((o=l[r]).fen||normalizeMoveObj(o),o.lines)for(s=o.lines.length-1;s>=0;--s)e.selectLine(o.lines[s]),o.lines[s]=normalizeHistory(e).moves;return{moves:l}}(o),r=o.header(),i.push({headers:r,moves:s.moves})):i.push(!1):i.push(void 0)}),"number"==typeof t?i[t]:i)},jce.sanToObj=function(e,t,n){return r.reset(),!!r.load(t,n)&&normalizeMoveObj(r.move(e))},jce.completeFen=r.completeFen,jce.shortenFen=function(e,t){return r.completeFen(e).split(" ").slice(0,t||4).join(" ")},jce.createGame=createGame,jce.getPositionDetails=function(e,t){var n,a,r,i;if((e=e||{}).disableHashing=!0,!(n=createGame(e)))return null;if(t)if(e.premove){if(!(r=makePremove(n,e.color,t)))return null}else{if(!(r=n.move(t)))return null;n.extended||normalizeMoveObj(r)}return i=n.fen(),e.premove&&(e.check=!1,e.kings=!1),e.skipValidation||n.isPositionValid(e)?(a=i.split(" "),{fen:i,pieces:getPieces(n),sideToMove:n.turn(),castling:a[2],epSquare:"-"===a[3]?null:a[3],halfMoves:+a[4],moveNumber:+a[5],move:r,hand:n.hand(),checks:n.checks()}):null},jce.predict=function(e,t){var n=Math.min(Math.max(.20773843*Math.atan(2.49085889*e/100-2.47841945*t/100)+.02262979*e/100-.02256839*t/100+.52239679,0),1),a=Math.min(Math.max(-.20720905*Math.atan(2.49626837*e/100-2.48220286*t/100)+-.02352551*e/100+.02172627*t/100+.49443923,0),1),r=Math.min(Math.max(Math.exp(.037043456*e/100+.178106427*t/100-8.069742932)+.004823544*Math.exp(-1.364136591*Math.pow(e/100-t/100,2))+-.001625539,0),1),i=n+a+r;return{w:n/i,b:a/i,d:r/i}},jce.FLAGS=r.FLAGS,jce.loadECO=function(t,n){e.loadBook(t,function(t,a){if(!a||!a.json)return n(t||new Error("Invalid book"));n(t,function(t){var n,r,i,o,s,l,u,c,d;if(t.hash)r="string"==typeof t.hash?[e.hex64ToDec(t.hash)]:[t.hash],o=1;else{if(!(n=createGame(t)))return!1;o=(r=n.hashes()).length}for(i=0;i<o;++i)if(s=a.json[e.to64BitHex(r[i])]){if(s.constructor===Array)if(l&&-1===s[0].m.indexOf(l.m)){for(c=s.length-1;c>=0;--c)if(!c||-1!==s[c].m.indexOf(l.m)){(d=s[c]).e=s[0].e,d.s=s[0].s,d.mate=s[0].mate,d.v=s[0].v,d.h=s[0].h,d.n=d.n||s[0].n,d.u=d.u||s[0].u,d.c=d.c||s[0].c;break}}else d=s[0];else d=s;(d.n||t.allowNameless)&&(l=d)}else t.mustEndInBook&&(l=void 0);if(l)return u={name:l.n},l.m&&(u.moves=l.m),void 0!==l.d&&(u.sdiff=l.d/100),l.u?(u.url=l.u,u.code=u.url.substr(0,3)):l.n&&l.c&&(u.url=l.c+"-"+l.n.replace(/['+,]/g,"").replace(/[^a-z0-9.]+/gi,"-").replace(/(with-\d|St)\.+-?/,"$1-"),u.code=l.c),l.e?(u.eval=l.e,u.depth=l.h,u.score=l.e[0].cp/100,void 0!==l.e[0].mate&&(u.mate=l.e[0].mate)):(u.score=l.s/100,void 0!==l.mate&&(u.mate=l.mate)),l.v&&(u.bad=!0),u},a.json)})},jce}()}();t.default=o},function(e,t,n){e.exports=n(6)(95)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var a=_interopRequireDefault(n(31)),r=_interopRequireDefault(n(3)),i=_interopRequireDefault(n(47));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=t.Utils={getId:function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array(e||20).fill().reduce(function(e){return e+t.charAt(Math.floor(Math.random()*t.length))},"")},getInitialFen:function(){return"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"},formatJSTimestampForPgn:function(e){var t=new Date(e),n=("0"+t.getUTCDate()).slice(-2),a=("0"+(t.getUTCMonth()+1)).slice(-2);return t.getFullYear()+"-"+a+"-"+n},getSanFromFileRank:function(e){return e&&e.file&&e.rank?String.fromCharCode(96+e.file)+e.rank.toString():null},getFileRankFromSan:function(e){return e?{file:e.toLowerCase().charCodeAt(0)-96,rank:Number(e.charAt(1))}:null},getPieceAt:function(e,t){return e.setup.pieces.find(function(e){return e.file===t.file&&e.rank===t.rank})},cloneGame:function(e){return{id:e.id,variant:e.variant,jce:e.jce,tree:o.cloneTree(e.tree),setup:JSON.parse((0,i.default)(e.setup)),markings:(0,r.default)({},e.markings),settings:(0,r.default)({},e.settings),history:[].concat((0,a.default)(e.history)),premoves:e.premoves.map(function(e){return JSON.parse((0,i.default)(e))})}},cloneTree:function(e){return(0,r.default)({},e,{initialMarkings:JSON.parse((0,i.default)(e.initialMarkings)),selected:(0,r.default)({},e.selected),selectedNode:e.selectedNode?(0,r.default)({},e.selectedNode,{ids:(0,r.default)({},e.selectedNode.ids),hash:[].concat((0,a.default)(e.selectedNode.hash)),lines:e.selectedNode.lines&&[].concat((0,a.default)(e.selectedNode.lines)),arrows:e.selectedNode.arrows&&[].concat((0,a.default)(e.selectedNode.arrows))}):null})},getFirstFen:function(e){return e.tree.lines[0].length?e.tree.lines[0][0].beforeFen:e.setup.fen}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GameAPI=void 0;var a=n(121),r=n(122),i=n(128),o=n(129),s=n(59),l=n(132),u=n(133),c=n(134),d=n(135),f=n(136),p=n(137),m=n(61),h=n(138),g=n(139),b=n(62),v=n(58),_=n(140),y=n(63),w=n(65),M=n(141),E=n(142),k=n(143),O=n(144),S=n(40),C=n(38),P=n(145),R=n(146),T=n(147),A=n(41),D=n(20),x=n(66),N=n(67),L=n(68),I=n(148),j=n(150),q=n(151),$=n(152),B=n(64),F=n(153),U=n(154),G=n(155),V=n(42),H=n(39),z=n(10),W=n(37),K=n(156),Y=n(157),Q=n(158);t.GameAPI={addBlinkingSquare:a.addBlinkingSquare,addVariant:r.addVariant,canMoveBackward:i.canMoveBackward,canMoveForward:o.canMoveForward,changeSettings:s.changeSettings,clearAnalysis:l.clearAnalysis,clearArrow:u.clearArrow,clearBlinkingSquare:c.clearBlinkingSquare,clearBoard:d.clearBoard,clearEffect:f.clearEffect,clearMarkedSquare:p.clearMarkedSquare,clearMarkings:m.clearMarkings,clearNodes:h.clearNodes,convertLanToFileRanks:g.convertLanToFileRanks,createGame:b.createGame,createVariation:v.createVariation,deleteLine:_.deleteLine,deleteNode:y.deleteNode,deleteRemainingNodes:w.deleteRemainingNodes,getCurrentFullLine:M.getCurrentFullLine,getPgn:E.getPgn,getPgnHeaders:k.getPgnHeaders,getSelectedNode:O.getSelectedNode,getTcn:S.getTcn,isMoveLegal:D.isMoveLegal,loadFromFen:C.loadFromFen,loadFromLan:P.loadFromLan,loadFromPgn:R.loadFromPgn,loadFromSanMoves:T.loadFromSanMoves,loadFromTcn:A.loadFromTcn,makeMove:D.makeMove,makeOpponentMove:D.makeOpponentMove,markArrow:x.markArrow,markEffect:N.markEffect,markSquare:L.markSquare,mergeTcn:I.mergeTcn,moveBackward:j.moveBackward,moveForward:q.moveForward,moveToEnd:$.moveToEnd,moveToStart:B.moveToStart,moveVariation:F.moveVariation,promoteVariation:U.promoteVariation,resetToMainLine:G.resetToMainLine,selectLineEnd:V.selectLineEnd,selectLineStart:H.selectLineStart,selectNode:z.selectNode,setPlayingAs:W.setPlayingAs,updateMarkings:K.updateMarkings,updateNode:Y.updateNode,updatePgnHeaders:Q.updatePgnHeaders}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.nodeProps=void 0;var a,r=n(31),i=(a=r)&&a.__esModule?a:{default:a},o=n(1);var s,l,u=t.nodeProps=["additionalAnnotation","annotation","arrows","color","comment","commentBefore","fen","flags","from","ids","lines","moveNumber","piece","previous","promotion","san","time","to"];t.default=(s=void 0,{state:l={lines:[]},updateLines:function(e){l.lines=[].concat((0,i.default)(e)),(e||[]).forEach(function(t,n){s=o.Line.isContinuation(e,t.id),l.lines[n]=t.map(function(e){var n={};return u.forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),s&&0===e.ids.move&&(n.commentBefore=t.initComment),n}),l.lines[n].atMoveNode=t.atMoveNode,l.lines[n].id=t.id,l.lines[n].parentId=t.parentId})}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(57);Object.defineProperty(t,"makeMove",{enumerable:!0,get:function(){return a.makeMove}});var r=n(126);Object.defineProperty(t,"makeOpponentMove",{enumerable:!0,get:function(){return r.makeOpponentMove}});var i=n(127);Object.defineProperty(t,"isMoveLegal",{enumerable:!0,get:function(){return i.isMoveLegal}})},function(e,t,n){e.exports=n(6)(58)},,function(e,t,n){e.exports=n(6)(59)},function(e,t,n){e.exports=n(6)(103)},function(e,t,n){e.exports=n(6)(63)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.refs=t.invertedNagMap=t.nagMap=t.playerColors=t.defaultNodeLimit=void 0;var a=n(82),r=(t.defaultNodeLimit=function(){return{begin:{},focus:{},end:{}}},t.playerColors={BLACK:2,WHITE:1},t.nagMap={$1:"!",$2:"?",$3:"!!",$4:"??",$5:"!?",$6:"?!",$10:"=",$11:"=",$12:"=",$13:"∞",$14:"⩲",$15:"⩱",$16:"±",$17:"∓",$18:"+-",$19:"-+",$22:"⨀",$146:"N"});t.invertedNagMap=(0,a.invertObject)(r),t.refs={DIAGRAM_EDITOR:"diagram-editor-container"}},function(e,t,n){e.exports=n(6)(60)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Translator=t.getCountries=t.hasTranslation=t.transChoice=t.trans=t.getTranslatedPhrase=void 0;var a=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(87));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}r.default.placeHolderPrefix="",r.default.placeHolderSuffix="";var i=function(e){var t={};return null!==e&&void 0!==e&&(0,a.default)(e).forEach(function(n){var a=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");null!=a&&a.length>0&&(t[a]=e[n])}),t},o=t.getTranslatedPhrase=function getTranslatedPhrase(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"messages",n=arguments[2];return window.chesscom_translations&&window.chesscom_translations[t]&&window.chesscom_translations[t][e]?window.chesscom_translations[t][e]:window.chesscom_live_translations&&window.chesscom_live_translations[t]&&window.chesscom_live_translations[t][e]?window.chesscom_live_translations[t][e]:"live"===t&&window.i18n_phrases&&window.i18n_phrases[e]?window.i18n_phrases:"countries"===t&&window.Country&&window.Country[e]?window.Country:n?void 0:"javascript"!==t?getTranslatedPhrase(e,"javascript"):e},s=t.trans=function(e,t,n){return r.default.trans(o(e,n),i(t),n)},l=t.transChoice=function(e,t,n,a){return void 0===t?"":r.default.transChoice(o(e,a),t,i(n))};t.hasTranslation=function(e,t){return!!o(e,t,!0)},t.getCountries=function(){return window.chesscom_translations&&window.chesscom_translations.countries?window.chesscom_translations.countries:window.chesscom_live_translations&&window.chesscom_live_translations.countries?window.chesscom_live_translations.countries:window.Country?window.Country:void 0},t.Translator={trans:s,transChoice:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(85),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(212),s=n(5);var l=function(e){this.$style=n(211)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=void 0,t.getLocale=getLocale,t.formatNumber=formatNumber,t.formatTime=formatTime;var a,r=n(7),i=(a=r)&&a.__esModule?a:{default:a};function getLocale(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return(e||(Object.prototype.hasOwnProperty.call(window,"context")?window.context.i18n.locale:"en-US")).replace("_",t)}var o={year:{milliseconds:31536e6,str:"{1} 1 year|]1,Inf] %1$s% years",strAgo:"{1} 1 year ago|]1,Inf] %1$s% years ago"},month:{milliseconds:function(){switch((new Date).getMonth()){case 3:case 5:case 8:case 10:return 2592e6;case 1:return(new Date).getFullYear()%4==0?25056e5:24192e5;default:return 26784e5}}(),str:"{1} 1 month|]1,Inf] %1$s% months",strAgo:"{1} 1 month ago|]1,Inf] %1$s% months ago"},day:{milliseconds:864e5,str:"{1} 1 day|]1,Inf] %1$s% days",strAgo:"{1} 1 day ago|]1,Inf] %1$s% days ago"},hour:{milliseconds:36e5,str:"{1} 1 hour|]1,Inf] %1$s% hours",strAgo:"{1} 1 hour ago|]1,Inf] %1$s% hours ago"},minute:{milliseconds:6e4,str:"{1} 1 minute|]1,Inf] %1$s% minutes",strAgo:"{1} 1 minute ago|]1,Inf] %1$s% minutes ago"}},s=t.formatDate={hoursMinute:function(e){var t,n,a=[],r=0,o=e;return!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&(o-=86400*(r=Math.floor(o/86400))),o-=3600*(t=Math.floor(o/3600)),n=Math.floor(o/60),r>0&&a.push(i.default.transChoice("{0} 0 days|{1} 1 day|]1,Inf] %1$s% days",r,{"%1$s%":r})),t>0&&a.push(i.default.transChoice("{0} 0 hours|{1} 1 hour|]1,Inf] %1$s% hours",t,{"%1$s%":t})),(n>0||0===a.length)&&a.push(i.default.transChoice("{0} 0 min|{1} 1 min|]1,Inf] %1$s% min",n,{"%1$s%":n})),a.join(" ")},long:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat(getLocale(),{year:"numeric",month:"short",day:"numeric"}).format(t)},full:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat(getLocale(),{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}).format(t)},numeric:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e instanceof Date?e:new Date(e);if(window.Intl){var n=getLocale();return new Intl.DateTimeFormat(n,{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)}return("0"+(t.getMonth()+1)).slice(-2)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()},relative:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=void 0,r=void 0,s=Date.now(),l=(e instanceof Date?e:new Date(e)).getTime(),u=s-l;if(Math.abs(u)>o.month.milliseconds&&t){return new Intl.DateTimeFormat(getLocale(),{year:"numeric",month:"short",day:"numeric"}).format(l)}if(u>=o.year.milliseconds)r=o.year,a=Math.abs(Math.floor(u/o.year.milliseconds));else if(u>=o.month.milliseconds)r=o.month,a=Math.abs(Math.floor(u/o.month.milliseconds));else if(u>=o.day.milliseconds)r=o.day,a=Math.abs(Math.floor(u/o.day.milliseconds));else if(u>=o.hour.milliseconds)r=o.hour,a=Math.abs(Math.floor(u/o.hour.milliseconds));else{if(!(u>=o.minute.milliseconds))return i.default.trans("Just now");r=o.minute,a=Math.abs(Math.floor(u/o.minute.milliseconds))}var c=Math.abs(u)===u;return i.default.transChoice(c&&n?r.strAgo:r.str,a,{"%1$s%":a})},customNumericDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m/d/y",a=e instanceof Date?e:new Date(e),r={d:("0"+a.getDate()).slice(-2),m:("0"+(a.getMonth()+1)).slice(-2),y:""+a.getFullYear()};return["m","d","y"].every(function(e){return n.split("/").includes(e)})?n.split("/").reduce(function(e,t){return e.push(r[t]),e},[]).join(t):""+r.m+t+r.d+t+r.y}};function formatNumber(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Intl.NumberFormat([getLocale(t),"en-US"],n).format(e)}function formatTime(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0||null==e)return"";var n=(e%1e3/1e3).toString().slice(2,t+2),a=Math.floor(e/1e3),r=Math.floor(a/60),i=Math.floor(r/60),o=r%60,s=a%60,l=(o=o<10&&i?"0"+o:o)+":"+(s=s<10?"0"+s:s);return i&&(l=i+":"+l),t&&(l=l+"."+n),l}t.default={formatDate:s,getLocale:getLocale,formatNumber:formatNumber,formatTime:formatTime}},function(e,t,n){e.exports=n(6)(62)},function(e,t,n){e.exports=n(6)(136)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowEllipsisOnBlackMoveNumber=t.shouldShowDisplayNumber=t.isFirstNodeOnFormattedLine=t.generateAnnotationString=t.cleanCommentString=t.canBeDeleted=t.nodeIsBeforeLimitBegin=t.nodeIsAfterNodeLimitEnd=t.nodeIsALimit=t.isOnMainLine=t.isOnLastLineOfParent=t.isFirstNodeInGame=t.isLastMoveOnLine=t.isOnFirstLineOfParent=t.isEnPassant=t.hasLines=t.hasCommentBefore=t.hasComment=t.hasAnnotation=t.hasAdditionalAnnotation=t.isNagFormat=t.annotationExists=t.additionalAnnotationExists=t.normalizeAnnotation=void 0,t.displayNumber=function(e,t){var n="";u(e)&&(n+=e.nodeMoveNumber+(t-1)+".",c(e)&&(n+=".."),n+="&nbsp;");return n};var a=n(1),r=n(26),i=n(89),o=t.normalizeAnnotation=function normalizeAnnotation(e){return Object.prototype.hasOwnProperty.call(r.nagMap,e)||Object.prototype.hasOwnProperty.call(r.invertedNagMap,e)?s(e)?r.nagMap[e]:normalizeAnnotation(r.invertedNagMap[e]):e||""},s=(t.additionalAnnotationExists=function(e,t){return e.additionalAnnotation&&Array.isArray(e.additionalAnnotation)&&o(e.additionalAnnotation[0])===o(t)},t.annotationExists=function(e,t){return o(e.annotation)===o(t)},t.isNagFormat=function(e){return e&&"$"===e.charAt(0)}),l=(t.hasAdditionalAnnotation=function(e){return e.additionalAnnotation&&e.additionalAnnotation[0]},t.hasAnnotation=function(e){return Object.prototype.hasOwnProperty.call(e,"annotation")},t.hasComment=function(e){return Boolean(e&&"string"==typeof e.comment)},t.hasCommentBefore=function(e){return Boolean(e&&"string"==typeof e.commentBefore)},t.hasLines=function(e){return Boolean(e&&e.lines&&e.lines.length)},t.isEnPassant=function(e){return 4===e.flags},t.isOnFirstLineOfParent=function(e,t){return e.ids.line===t.lines[0]},t.isLastMoveOnLine=function(e,t){return e.ids.move===t.lines[e.ids.line].length-1},t.isFirstNodeInGame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===e.move&&0===e.line},t.isOnLastLineOfParent=function(e,t){return e.ids.line===t.lines[t.lines.length-1]},t.isOnMainLine=function(e){return a.Line.isMainLine(e.ids.line)}),u=(t.nodeIsALimit=function(e,t,n){return Object.prototype.hasOwnProperty.call(e,n)&&Object.prototype.hasOwnProperty.call(e[n],"ids")&&e[n].ids.move===t.ids.move&&e[n].ids.line===t.ids.line},t.nodeIsAfterNodeLimitEnd=function(e,t){var n=e[i.nodeLimitTypes.END];return!(!n||!Object.prototype.hasOwnProperty.call(n,"ids"))&&(t.ids.line>n.ids.line||t.ids.line===n.ids.line&&t.ids.move>n.ids.move)},t.nodeIsBeforeLimitBegin=function(e,t){var n=e[i.nodeLimitTypes.BEGIN];return!(!n||!Object.prototype.hasOwnProperty.call(n,"ids"))&&(t.ids.line<e.begin.ids.line||t.ids.line===e.begin.ids.line&&t.ids.move<e.begin.ids.move)},t.canBeDeleted=function(e,t){return!(t&&l(e))},t.cleanCommentString=function(e){var t=void 0;return" "===(t=(t=e.replace(/<\/?[^>]+(>|$)/g,"")).replace(/&nbsp;/g," "))&&(t=""),t},t.generateAnnotationString=function(e){var t="";return e.annotation&&(t=""+t+o(e.annotation)),e.additionalAnnotation&&e.additionalAnnotation[0]&&(t=t+"&nbsp;"+o(e.additionalAnnotation[0])),t},t.isFirstNodeOnFormattedLine=function(e){return 0===e.ids.move},t.shouldShowDisplayNumber=function(e){return Boolean(e.isWhite||e.isFirstNodeOnLine||e.previousHasComment||e.previousHasLines)}),c=t.shouldShowEllipsisOnBlackMoveNumber=function(e){return Boolean(!e.isWhite&&(e.previousHasComment||e.previousHasLines||e.isFirstNodeOnLine))}},function(e,t,n){e.exports=n(6)(104)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GamePremoves=void 0;var a=n(4),r=t.GamePremoves={premove:function(e,t){var n=!1;return e.settings.premoves&&!e.settings.analysis&&e.jce.premoves.length<8&&(n=e.jce.premove(t,e.setup.playingAs)),n},cancelPremoves:function(e){return!!e.jce.premoves.length&&(e.jce.premoves.length=0,!0)},consumePremove:function(e){if(e.jce.premoves.length){var t=e.jce.premoves.shift();if(a.Game.move(e,t.move)){var n=e.jce.premoves.map(function(e){return e});e.jce.premoves.length=0;for(var i=0;i<n.length;i+=1){var o=n[i];if(delete o.move.san,!r.premove(e,o.move))break}return!0}}return!1}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(24)),r=_interopRequireDefault(n(261));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=new(a.default.extend(r.default)),o=!1,s=function(){if(!o){var e=document.createElement("div");document.body.appendChild(e),i.$mount(e),o=!0}return i};t.default={bind:function(e,t){return s().bind(e,t)},componentUpdated:function(e,t){return s().update(e,t)},unbind:function(e,t){return s().unbind(e,t)}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.setPlayingAs=function(e,t){return[1,2].indexOf(t)>=0&&(e.setup.playingAs=t),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromFen=void 0;var a=n(4),r=n(1),i=n(2),o=n(0);t.loadFromFen=function(e,t){return t?(r.Line.clearAllMarkings(e.jce._lines()),a.Game.load(e,t),i.History.add(e.history,i.Events.LOAD),o.State.updateState(e)):null}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.selectLineStart=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(4),s=n(1),l=n(2),u=n(0);t.selectLineStart=function(e){var t=s.Line.getSelectedLine(e),n=0,a=(0,i.default)({},e.tree.selected);0===e.tree.selected.move&&void 0!==t.parentId?(o.Game.selectLine(e,t.parentId),t=s.Line.getSelectedLine(e)):s.Line.isMainLine(t.id)&&(n=-1);var r={line:t.id,move:n};return o.Game.selectNode(e,r),l.History.add(e.history,l.Events.JUMP_TO_POSITION,{from:a,to:r}),u.State.updateState(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getTcn=void 0;var a,r=n(15),i=(a=r)&&a.__esModule?a:{default:a},o=n(1);t.getTcn=function(e,t){var a=e.jce&&e.jce._lines()||n(19).default.state.lines;return i.default.encodeTCN(o.Line.getLine(a,t)||a[0])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromTcn=void 0;var a,r=n(2),i=n(0),o=n(17),s=n(15),l=(a=s)&&a.__esModule?a:{default:a},u=n(38),c=n(20),d=n(10),f=n(55);t.loadFromTcn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Utils.getInitialFen(),a=arguments[3];(0,u.loadFromFen)(e,n);var s=l.default.decodeTCN(t);return s?(s.forEach(function(t){"Crazyhouse"!==e.variant&&"Bughouse"!==e.variant||!t.drop||(0,f.setHand)(e,e.setup.sideToMove,t.drop),(0,c.makeMove)(e,t,!0)}),i.State.updateState(e),a?(0,d.selectNode)(e,e.tree.selected,-1):(r.History.add(e.history,r.Events.LOAD),e)):null}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.selectLineEnd=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(4),s=n(1),l=n(2),u=n(0);t.selectLineEnd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.tree.selected.line,n=s.Line.getLine(e.jce._lines(),t).length-1,a=(0,i.default)({},e.tree.selected);if(e.tree.selected.move!==n||t!==e.tree.selected.line){var r={line:t,move:n};return o.Game.selectNode(e,r),l.History.add(e.history,l.Events.JUMP_TO_POSITION,{from:a,to:r}),u.State.updateState(e)}return e}},function(e,t,n){e.exports=n(6)(159)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.generateRoute=void 0;var a,r=n(8),i=(a=r)&&a.__esModule?a:{default:a};t.generateRoute=function(e,t,n){var a=e,r=t;if(n){var o=document.querySelector("[data-url-locale]"),s=o&&o.getAttribute("data-url-locale"),l=s&&"en"!==s.split("_")[0]&&s.split("_")[0];l&&r&&(a="i18n_"+a,r._locale=l)}return i.default.generate(a,r)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(24),i=(a=r)&&a.__esModule?a:{default:a};t.default=new i.default},function(e,t,n){e.exports=n(6)(113)},function(e,t,n){e.exports=n(6)(175)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(94),i=(a=r)&&a.__esModule?a:{default:a};t.default={name:"icon-font",mixins:[i.default]}},,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.events=t.isLive=t.isOnline=t.fullTitles=t.membershipNames=t.membershipIcons=t.membership=t.reportReasons=t.USER_FLAG_COUNTRY_CODE_INTERNATIONAL=t.translations=t.routes=t.refs=t.RATING_ANIMATION_DURATION=t.RATING_ANIMATION_DELAY=t.NOTHING_FLAIR_WITH_STATUS=t.NOTHING_FLAIR=t.flairCategories=t.MEMBERSHIP_ICONS=t.callbacks=t.attributes=void 0;var a,r,i=_interopRequireDefault(n(16)),o=_interopRequireDefault(n(3)),s=_interopRequireDefault(n(8)),l=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.attributes={CAN_EDIT_FLAIR:"data-can-edit-flair",IS_ENABLED:"data-is-enabled",MEMBERSHIP_LEVEL:"data-membership-level",USERNAME:"data-username",USER_ID:"data-user-id"},t.callbacks={REPORT_USER:"web_user_callback_report_user",USER_POPUP:"web_user_callback_popup"},t.MEMBERSHIP_ICONS="membership_icons",t.flairCategories=[{key:"membership_icons",title:l.default.trans("Membership Icons")},{key:"emoji",title:l.default.trans("Emoji")},{key:"chess",title:l.default.trans("Chess")},{key:"holiday",title:l.default.trans("Holiday")},{key:"hosts",title:l.default.trans("Hosts")},{key:"computer_chess",title:l.default.trans("Computer Chess")},{key:"pro_chess_league",title:l.default.trans("PRO Chess League")},{key:"staff_mod_account",title:l.default.trans("Staff / Mod / Account")}];var u=t.NOTHING_FLAIR={category:"membership_icons",code:"nothing",description:l.default.trans("Nothing"),id:206,imageCode:"nothing",membershipLevelCode:"staff",name:l.default.trans("Nothing")},c=(t.NOTHING_FLAIR_WITH_STATUS=(0,o.default)({},u,{status:""}),t.RATING_ANIMATION_DELAY=500,t.RATING_ANIMATION_DURATION=200,t.refs={USER_POPOVER_CONTAINER:"user-popover",USER_FLAIR:"user-flair"},t.routes={about:function(){return s.default.generate("web_about")},membership:function(){return s.default.generate("web_membership",{c:"icon"})},usernameSearch:function(e){return s.default.generate("web_user_callback_username_search",(0,o.default)({activeDays:4e3},e))}},t.translations={acceptFriendRequest:l.default.trans("Accept Friend Request"),addFriend:l.default.trans("Add Friend"),block:l.default.trans("Block"),blockConfirm:l.default.trans("Are you sure you want to block this user?"),cancel:l.default.trans("Cancel"),cancelFriendRequest:l.default.trans("Cancel Friend Request"),challenge:l.default.trans("Challenge"),follow:l.default.trans("Follow"),gameArchive:l.default.trans("Game Archive"),giftMembership:l.default.trans("Gift Membership"),giveTrophy:l.default.trans("Give Trophy"),joinedDate:function(e){return l.default.trans("Joined %1$s%",{"%1$s%":e})},lastOnline:function(e){return l.default.trans("Online %1$s%",{"%1$s%":e})},onlineNow:l.default.trans("Online Now"),inLiveNow:l.default.trans("In Live"),removeFriend:l.default.trans("Remove Friend"),removeFriendConfirm:l.default.trans("Are you sure you want to remove this friend from your list?"),report:l.default.trans("Report"),sendMessage:l.default.trans("Send Message"),unblock:l.default.trans("Unblock"),unfollow:l.default.trans("Unfollow"),userReportError:l.default.trans("Tell us more...")},t.USER_FLAG_COUNTRY_CODE_INTERNATIONAL=225,t.reportReasons=[{label:l.default.trans("Verbal Abuse"),id:4},{label:l.default.trans("Stalling / Quitting Games"),id:5},{label:l.default.trans("Cheating"),id:2},{label:l.default.trans("Spamming"),id:3},{label:l.default.trans("Other"),id:6}],t.membership={cheater:5,abuser:6,voluntarilyClosed:7,unspecifiedClosed:8,basic:10,silver:20,gold:30,platinum:40,diamond:50,moderator:80,staff:90});t.membershipIcons=(a={},(0,i.default)(a,c.diamond,"diamond"),(0,i.default)(a,c.abuser,"abuser"),(0,i.default)(a,c.cheater,"cheater"),(0,i.default)(a,c.voluntarilyClosed,"inactive"),(0,i.default)(a,c.unspecifiedClosed,"cheater"),(0,i.default)(a,c.gold,"gold"),(0,i.default)(a,c.moderator,"pawn-blue"),(0,i.default)(a,c.platinum,"platinum"),(0,i.default)(a,c.staff,"pawn-green"),a),t.membershipNames=(r={},(0,i.default)(r,c.basic,l.default.trans("Basic Membership")),(0,i.default)(r,c.diamond,l.default.trans("Diamond Membership")),(0,i.default)(r,c.cheater,l.default.trans("Closed: Fair Play")),(0,i.default)(r,c.abuser,l.default.trans("Closed: Abuse")),(0,i.default)(r,c.voluntarilyClosed,l.default.trans("Closed: Inactive")),(0,i.default)(r,c.unspecifiedClosed,l.default.trans("Account Closed")),(0,i.default)(r,c.gold,l.default.trans("Gold Membership")),(0,i.default)(r,c.moderator,l.default.trans("Moderator Account")),(0,i.default)(r,c.platinum,l.default.trans("Platinum Membership")),(0,i.default)(r,c.silver,l.default.trans("Silver Membership")),(0,i.default)(r,c.staff,l.default.trans("Staff Account")),r),t.fullTitles={GM:l.default.trans("Grandmaster"),WGM:l.default.trans("Woman Grandmaster"),IM:l.default.trans("International Master"),WIM:l.default.trans("Woman International Master"),FM:l.default.trans("FIDE Master"),WFM:l.default.trans("Woman FIDE Master"),NM:l.default.trans("National Master"),CM:l.default.trans("FIDE Candidate Master"),WCM:l.default.trans("FIDE Woman Candidate Master"),WNM:l.default.trans("Woman National Master")},t.isOnline=function(e){return!0===e||"online"===e},t.isLive=function(e){return"onlive"===e},t.events={AUTOCOMPLETE_CLEAR_SELECTED:"form-autocomplete-clear-selected"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(56),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(117),s=n(5);var l=function(e){this.$style=n(116)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){e.exports=n(6)(186)},,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(16),i=(a=r)&&a.__esModule?a:{default:a};t.default={props:{isDarkMode:{type:Boolean,default:!1}},methods:{componentClasses:function(){var e;return e={},(0,i.default)(e,this.$style.component,!0),(0,i.default)(e,this.$style.darkMode,this.isDarkMode),e}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setHand=void 0;n(0);var a={p:1,n:32,b:256,r:2048,q:16384};t.setHand=function(e,t,n){return e.jce._hand[t]=n.split("").reduce(function(e,t){return e+a[t]},0),e.setup.hand=e.jce.hand(),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(83);t.default={name:"modal-container",props:{autoShow:{type:Boolean,default:!1},closeOnBackgroundClick:{type:Boolean,default:!0},closeOnEscPress:{type:Boolean,default:!1},centerOverParent:{type:Boolean,default:!1},centerOverContent:{type:Boolean,default:!1}},data:function(){return{visible:!1}},mounted:function(){this.closeOnEscPress&&window.addEventListener("keyup",this.onKeyPress),this.autoShow&&this.show()},beforeDestroy:function(){this.closeOnEscPress&&window.removeEventListener("keyup",this.onKeyPress)},methods:{hide:function(){this.visible=!1,this.$emit(a.events.MODAL_DID_HIDE)},onBackgroundClick:function(){this.closeOnBackgroundClick&&this.hide()},onKeyPress:function(e){27===e.keyCode&&this.hide()},show:function(){this.visible=!0}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.makeMove=t.isValidMove=void 0;var a,r=n(4),i=n(10),o=n(2),s=n(0),l=n(15),u=(a=l)&&a.__esModule?a:{default:a},c=n(1),d=n(58);var f=function(e){return-1!==e.tree.selected.move&&e.settings.mainLineIsImmutable&&c.Line.isMainLine(e.tree.selected.line)},p=t.isValidMove=function(e,t){return null!==u.default.getPositionDetails({fen:r.Game.getFen(e),variant:r.Game.getHeaders(e).Variant||"Chess"},t)};t.makeMove=function makeMove(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=r.Game.getJCEMove(e,t);if(null===a)return o.History.add(e.history,o.Events.ILLEGAL_MOVE),e;var l=e.settings.analysis||n;if(!c.Line.isHead(e.jce._lines(),e.tree.selected)){if(!l)return(0,i.selectNode)(e,c.Line.getHeadIds(e.jce._lines(),e.tree.selected.line));var u=c.Line.getNextMatchingNode(e.jce._lines(),e.tree.selected,a);if(u)return(0,i.selectNode)(e,u.ids);if(p(e,a)){if(o.History.add(e.history,o.Events.TREE_AMENDED),e.settings.variations)return r.Game.selectNode(e,{line:e.tree.selected.line,move:e.tree.selected.move+1}),r.Game.createVariation(e),s.State.updateState(e),makeMove(e,a);if(!e.settings.mainLineIsImmutable)return c.Line.prune(e.jce._lines(),e.tree.selected),makeMove(e,a)}return o.History.add(e.history,o.Events.ILLEGAL_MOVE),e}if(!l&&!r.Game.isUserTurn(e))return o.History.add(e.history,o.Events.ILLEGAL_MOVE),e;if(l&&e.settings.variations&&f(e)&&p(e,a)){var m=c.Line.getNextMatchingNode(e.jce._lines(),e.tree.selected,a);return m?(0,i.selectNode)(e,m.ids):((0,d.createVariation)(e,!0),s.State.updateState(e),makeMove(e,a))}return!f(e)&&r.Game.move(e,a,e.settings.rules)?(o.History.add(e.history,o.Events.MAKE_MOVE,a),s.State.updateState(e)):(o.History.add(e.history,o.Events.ILLEGAL_MOVE),e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createVariation=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(4),s=n(1),l=n(2),u=n(0);t.createVariation=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,i.default)({},e.tree.selected);if(!e.settings.variations)return null;void 0!==n.line&&void 0!==n.move?o.Game.selectNode(e,n):n=e.tree.selected;var r=s.Line.getNode(e.jce._lines(),{line:n.line,move:n.move}).san;return o.Game.createVariation(e),t&&o.Game.move(e,r),l.History.add(e.history,l.Events.JUMP_TO_POSITION,{from:a,to:n}),u.State.updateState(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.changeSettings=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(2),s=n(101),l=n(0);t.changeSettings=function(e,t){var n=Object.prototype.hasOwnProperty.call(t,"premoves")&&e.settings.premoves!==t.premoves;return e.settings=(0,i.default)(e.settings,t),e.settings.premoves||(0,s.cancelPremoves)(e),o.History.add(e.history,o.Events.SETTINGS_CHANGE),n&&l.State.updateState(e),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.cancelPremoves=void 0;var a=n(2),r=n(35),i=n(0);t.cancelPremoves=function(e){return r.GamePremoves.cancelPremoves(e)&&(a.History.add(e.history,a.Events.CANCEL_PREMOVES),i.State.updateState(e)),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearMarkings=void 0;var a=n(2),r=n(1),i=n(4),o=n(0);t.clearMarkings=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=r.Line.getNode(e.jce._lines(),t)||r.Line.getNode(e.jce._lines(),i.Game.getSelectedIds(e))||e.tree.initialMarkings;return(s.arrows&&s.arrows.length||s.squares&&s.squares.length||s.effects&&s.effects.length)&&(s.arrows=[],s.squares=[],s.effects=[],n&&(o.State.updateState(e),a.History.add(e.history,a.Events.TREE_CHANGE))),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createGame=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(17),s=n(0),l=n(4),u=n(2),c=n(37);t.createGame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={id:o.Utils.getId(),variant:e.variant||"chess",settings:(0,i.default)(s.State.getInitialSettings(),e.settings),setup:(0,i.default)(s.State.getInitialSetup(),e.setup),tree:(0,i.default)(s.State.getInitialTree(),e.tree),history:u.History.getInitialHistory(),markings:(0,i.default)(s.State.getInitialMarkings(),e.markings),premoves:[]};return(0,c.setPlayingAs)(t,e.player||1),Object.defineProperty(t,"jce",{writable:!1,enumerable:!1,configurable:!1,value:l.Game.createJce(e)}),l.Game.updateIdsFromJce(t),u.History.add(t.history,u.Events.INIT),t.jce.siblingGame&&!t.sibling&&(t.sibling={id:o.Utils.getId(),variant:t.variant||"chess",sibling:t,settings:t.settings,setup:s.State.getInitialSetup(),tree:s.State.getInitialTree(),history:u.History.getInitialHistory(),markings:(0,i.default)(s.State.getInitialMarkings(),e.markings),premoves:[]},Object.defineProperty(t.sibling,"jce",{writable:!1,enumerable:!1,configurable:!1,value:l.Game.createJce({game:t.jce.siblingGame})}),l.Game.updateIdsFromJce(t.sibling)),s.State.updateState(t),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteNode=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=(n(33),n(1)),s=n(2),l=n(0);n(64),n(10);t.deleteNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(o.Line.findNode(e.jce._lines(),e.tree.selected),(0,i.default)(e.tree.selected,t));return n.line>0&&(n.move<=0||o.Line.isFirstVisibleNode(e.jce._lines(),n))&&(n.move=-1),e.jce.deletePosition(n.move,n.line),s.History.add(e.history,s.Events.TREE_CHANGE),l.State.updateState(e),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveToStart=void 0;var a=n(4),r=n(1),i=n(39),o=n(0);t.moveToStart=function(e){return r.Line.isMainLine(e.tree.selected.line)||a.Game.selectLine(e,0),(0,i.selectLineStart)(e),o.State.updateState(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteRemainingNodes=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(63);n(2),n(0);t.deleteRemainingNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.default)(e.tree.selected,t);return(0,o.deleteNode)(e,{move:n.move+1,line:n.line})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.markArrow=void 0;var a=n(2),r=n(1),i=n(4),o=n(0);t.markArrow=function(e,t,n){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=r.Line.getNode(e.jce._lines(),n)||r.Line.getNode(e.jce._lines(),i.Game.getSelectedIds(e))||e.tree.initialMarkings;return l.arrows||(l.arrows=[]),l.arrows.find(function(e){return i.Game.isFileRankEqual(e.fromFileRank,t.fromFileRank)&&i.Game.isFileRankEqual(e.toFileRank,t.toFileRank)})||(l.arrows.push(t),s&&(o.State.updateState(e),a.History.add(e.history,a.Events.TREE_CHANGE))),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.markEffect=void 0;var a=n(2),r=n(1),i=n(4),o=n(0);t.markEffect=function(e){var t=e.game,n=e.effect,s=e.ids,l=e.persist,u=e.updateState,c=void 0===u||u;if(l)return t.setup.effects=n?[n]:null,o.State.updateState(t),t;var d=r.Line.getNode(t.jce._lines(),s)||r.Line.getNode(t.jce._lines(),i.Game.getSelectedIds(t))||t.tree.initialMarkings;return d.effects||(d.effects=[]),d.effects.find(function(e){return i.Game.isFileRankEqual(e.square,n.square)})||(d.effects.push(n),c&&(o.State.updateState(t),a.History.add(t.history,a.Events.TREE_CHANGE))),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.markSquare=void 0;var a=n(2),r=n(1),i=n(4),o=n(0);t.markSquare=function(e,t,n){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=r.Line.getNode(e.jce._lines(),n)||r.Line.getNode(e.jce._lines(),i.Game.getSelectedIds(e))||e.tree.initialMarkings;return l.squares||(l.squares=[]),l.squares.find(function(e){return i.Game.isFileRankEqual(e,t)})||(l.squares.push(t),s&&(o.State.updateState(e),a.History.add(e.history,a.Events.TREE_CHANGE))),e}},,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.copyCustomValueToClipoard=t.show=t.injectModalMounts=t.injectMounts=t.hide=t.hasParent=t.getScrollElement=t.getElementContentDimensions=t.getElements=t.getElement=t.getClickedChild=t.browserWidth=void 0;var a,r=n(25),i=(a=r)&&a.__esModule?a:{default:a};t.copyInputValueToBuffer=copyInputValueToBuffer,t.showHideMore=showHideMore;var o=n(13),s=n(80);var l=t.browserWidth=function(){return window.parent.innerWidth},u=t.getClickedChild=function(e,t,n){var a=n,r=null;if(!e||!t||!n)return r;for(;a&&a!==e&&!r;)a.classList.contains(t)&&(r=a),a=a.parentNode;return r},c=t.getElement=function(e){return document.querySelector("."+e)},d=t.getElements=function(e){return document.getElementsByClassName(e)},f=t.getElementContentDimensions=function(e){var t=e.currentStyle||window.getComputedStyle(e),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight),a=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r=parseFloat(t.marginBottom)+parseFloat(t.marginTop),i=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),o=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),s=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{height:e.offsetHeight+r-i+s,width:e.offsetWidth+n-a+o}},p=(t.getScrollElement=function(){return document.querySelector(".base-container")||document.body},t.hasParent=function hasParent(e,t){return!!e&&(!(!e.classList||!e.classList.contains(t))||Boolean(e.parentNode)&&hasParent(e.parentNode,t))}),m=t.hide=function(e){e.forEach(function(e){var t=document.getElementsByClassName(e)[0];t&&"none"!==t.style.display&&(t.style.display="none")})},h=t.injectMounts=function(e,t){t.forEach(function(t){var n=document.createElement("div");n.id=t,e.appendChild(n)})},g=(t.injectModalMounts=function(e){var t=(0,s.getBoardContainerElement)();h(t,e)},t.show=function(e){document.getElementsByClassName(e)[0].style.display=""});t.copyCustomValueToClipoard=function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};function copyInputValueToBuffer(e){e&&(e.focus(),e.select(),document.execCommand("copy"))}function showHideMore(e,t,n,a){var r=c(e),s=d(t),l=c(n),u=c(a);r&&(l.innerHTML=o.translations.showMore,r.addEventListener("click",function(){u.classList.toggle("sidebar-users-grid-toggle-icon-up"),l.innerHTML=l.innerHTML===o.translations.showMore?o.translations.showLess:o.translations.showMore,(0,i.default)(s).forEach(function(e){e.style.display="block"===e.style.display?"none":"block"})}))}t.default={browserWidth:l,copyInputValueToBuffer:copyInputValueToBuffer,getClickedChild:u,getElement:c,getElementContentDimensions:f,getElements:d,hasParent:p,hide:m,injectMounts:h,show:g,showHideMore:showHideMore}},,function(e,t,n){e.exports=n(6)(183)},function(e,t,n){e.exports=n(6)(105)},,,function(e,t,n){var a=n(176),r=n(178);e.exports=function(e){return null!=e&&r(e.length)&&!a(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(3)),i=_interopRequireDefault(n(24)),o=_interopRequireDefault(n(194));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}i.default.mixin(o.default);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=function(n){var o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n]&&(0,a.default)(e[n]).length?(t[n]=t[n]||(o=(0,r.default)({},e[n],s),new i.default((0,r.default)({},o,{el:o.el,render:function(e){return e(o.component,{props:o.propsData})},store:o.store}))),t[n]):null};return{createInstance:n,createInstances:function(e){e.forEach(function(e){return n(e)})},instances:t}}},function(e,t,n){e.exports=n(6)(114)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSize=t.showBoardResize=t.setBoardSize=t.ratingChangeAnimation=t.pieceChangeRequiresRefresh=t.normalizeFen=t.makeResizeEvent=t.getShareUrl=t.getCustomAnimatedGif=t.getCoordinatePositioning=t.getBoardElement=t.getBoardContainerElement=t.getAnimationTypes=t.getAnimationType=t.getAnimatedGif=t.buildEffect=t.animationChangeRequiresRefresh=t.getCoordinateHeight=void 0;var a=n(118);Object.defineProperty(t,"getCoordinateHeight",{enumerable:!0,get:function(){return a.getCoordinateHeight}});var r=n(119),i=n(120),o=n(159),s=n(160),l=n(161),u=n(86),c=n(162),d=n(163),f=n(164),p=n(165),m=n(166),h=n(167),g=n(168),b=n(169),v=n(170);t.animationChangeRequiresRefresh=r.animationChangeRequiresRefresh,t.buildEffect=i.buildEffect,t.getAnimatedGif=o.getAnimatedGif,t.getAnimationType=s.getAnimationType,t.getAnimationTypes=l.getAnimationTypes,t.getBoardContainerElement=u.getBoardContainerElement,t.getBoardElement=u.getBoardElement,t.getCoordinatePositioning=c.getCoordinatePositioning,t.getCustomAnimatedGif=o.getCustomAnimatedGif,t.getShareUrl=d.getShareUrl,t.makeResizeEvent=f.makeResizeEvent,t.normalizeFen=p.normalizeFen,t.pieceChangeRequiresRefresh=m.pieceChangeRequiresRefresh,t.ratingChangeAnimation=h.ratingChangeAnimation,t.setBoardSize=g.setBoardSize,t.showBoardResize=b.showBoardResize,t.validateSize=v.validateSize},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="top",a="right",r="bottom",i="left",o=(t.positionService=function(e,t,n,o){function isStaticPositioned(e){return"static"===(n="position",((t=e).currentStyle?t.currentStyle[n]:window.getComputedStyle?window.getComputedStyle(t)[n]:t.style[n])||"static");var t,n}function offset(e){var t=e.getBoundingClientRect();return{width:t.width||e.offsetWidth,height:t.height||e.offsetHeight,top:t.top+(window.pageYOffset||document.documentElement.scrollTop),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft)}}var s=n.split("-"),l=s[0],u=s[1]||"center",c=void 0,d=o?offset(e):function(e){var t=offset(e),n={top:0,left:0},a=function(e){for(var t=document,n=e.offsetParent||t;n&&n!==t&&isStaticPositioned(n);)n=n.offsetParent;return n||t}(e);a!==document&&((n=offset(a)).top+=a.clientTop-a.scrollTop,n.left+=a.clientLeft-a.scrollLeft);var r=e.getBoundingClientRect();return{width:r.width||e.offsetWidth,height:r.height||e.offsetHeight,top:t.top-n.top,left:t.left-n.left}}(e),f=t.offsetWidth,p=t.offsetHeight,m={center:function(){return d.left+d.width/2-f/2},left:function(){return d.left},right:function(){return d.left+d.width}},h={center:function(){return d.top+d.height/2-p/2},top:function(){return d.top},bottom:function(){return d.top+d.height}};switch(l){case a:c={top:h[u](),left:m[l]()};break;case i:c={top:h[u](),left:d.left-f};break;case r:c={top:h[l](),left:m[u]()};break;default:c={top:d.top-p,left:m[u]()}}return c},t.getUserPopoverPosition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:172,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,s={top:null,left:null,x:null,y:null},l=e.width/2,u=window,c=e.bottom+t<u.innerHeight,d=o-28-12,f=o-d,p=e.left+l+d<u.innerWidth;return c?(s.top=e.bottom,s.y=r):(s.top=e.top-t,s.y=n),p?(s.left=e.left+l-f,s.x=a):(s.left=e.left+l-d,s.x=i),s.top=Math.round(s.top),s.left=Math.round(s.left),s},t.getPosition=function(e,t,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!e||!t)return null;var l=e.getBoundingClientRect(),u={},c=function(){return l.top-(t.clientHeight+s)>0},d=function(){return l.left-(t.clientWidth+s)>0};return o===n&&c()||o===r&&!(l.bottom+t.clientHeight+s<window.innerHeight)?(u.left=l.left-(t.clientWidth-l.width)/2,u.top=l.top-t.clientHeight-s,u.placement=n):o===r||o===n&&!c()?(u.left=l.left-(t.clientWidth-l.width)/2,u.top=l.bottom+s,u.placement=r):o===i&&d()||o===a&&!(l.right+t.clientWidth+s<window.innerWidth)?(u.left=l.left-t.clientWidth-s,u.top=l.top-(t.clientHeight-l.height)/2,u.placement=i):(o===a||o===i&&!d())&&(u.left=l.right+s,u.top=l.top-(t.clientHeight-l.height)/2,u.placement=a),u});t.positionTooltip=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!e||!t)return null;var r=o(e,t,n,a);return t.style.transform="translate("+r.left+"px, "+r.top+"px)",t.classList.add(r.placement),t},t.removePositionStyle=function(e){return e?(e.style.transform="translate(-100%, -100%)",e.classList.remove(i,a,r,n),e):null}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.transformObjectBooleansToBinaryString=t.hasProperty=t.invertObject=t.objectWithExcludedProps=t.objectHasProp=t.objectHasData=t.objectIsEmpty=void 0;var a=_interopRequireDefault(n(16)),r=_interopRequireDefault(n(3)),i=_interopRequireDefault(n(11));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.objectHasAllProperties=function(e,t){return t.every(function(t){return e[t]})},t.objectHasSomeProperties=function(e,t){return t.some(function(t){return e[t]})};t.objectIsEmpty=function(e){return e&&!(0,i.default)(e).length};t.objectHasData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&(0,i.default)(e).length>0};t.objectHasProp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return Object.prototype.hasOwnProperty.call(e,t)},t.objectWithExcludedProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,i.default)(e).filter(function(e){return!t.includes(e)}).reduce(function(t,n){return(0,r.default)({},t,(0,a.default)({},n,e[n]))},{})},t.invertObject=function(e){return(0,i.default)(e).reduce(function(t,n){return(0,r.default)({},t,(0,a.default)({},e[n],n))},{})},t.hasProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.transformObjectBooleansToBinaryString=function(e){return(0,i.default)(e).reduce(function(t,n){var a=e[n];return"boolean"==typeof a&&(a=a?"1":"0"),t[n]=a,t},{})}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.events={HIDE_MODAL:"hide-modal",HIDE_MODAL_BACKGROUND_CLICK:"hide-background",HIDE_MODAL_SOCIAL_SHARE:"hide-modal-social-share",LOGIN_OR_REGISTER_MODAL:"LOGIN_OR_REGISTER_MODAL",MODAL_DID_HIDE:"modal-did-hide",SHOW_MODAL_SOCIAL_SHARE:"show-modal-social-share",SHOW_UPGRADE_MODAL:"show-upgrade-modal"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.flairAlert=t.messageKey=t.types=t.refs=t.messages=t.errors=t.dismissTimeout=void 0;var a,r=n(7),i=(a=r)&&a.__esModule?a:{default:a};t.dismissTimeout=4e3;var o=t.errors={badRequest:i.default.trans("There was an error processing the request. Please try again.")},s=(t.messages={avatarUploaded:i.default.trans("Avatar uploaded"),commentCreated:i.default.trans("Thank you for your comment."),commentDeleted:i.default.trans("Comment deleted."),commentEmptyContent:i.default.trans("You cannot send an empty comment"),commentMarkedAsSpam:i.default.trans("Comment marked as spam."),commentUpdated:i.default.trans("Comment updated."),commentLinkCopied:i.default.trans("Comment link is copied to clipboard"),forumsMarkedAsRead:i.default.trans("All forum topics have been marked as read"),featureBlog:i.default.trans("Feature Set! It might take a minute or two to appear."),pgnCopied:i.default.trans("PGN copied to buffer")},t.refs={ALERT_FLASH_CONTAINER:"widget-alert-flash"},t.types={error:"error",info:"info",success:"success"});t.messageKey="create-header-alert",t.flairAlert={type:s.error,message:o.badRequest}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(54),i=(a=r)&&a.__esModule?a:{default:a};t.default={name:"form-button",mixins:[i.default],props:{disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},href:{type:String,required:!1},size:{type:String,required:!1},theme:{type:String,required:!1},type:{type:String,default:"button"}},methods:{handleClick:function(e){e.stopPropagation(),this.href&&(window.location=this.href)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getBoardElement=t.getBoardContainerElement=void 0;var a,r=n(25),i=(a=r)&&a.__esModule?a:{default:a},o=n(14);var s=t.getBoardContainerElement=function(){var e=o.domClasses.board.substr(1),t=document.getElementsByClassName(e)[0];return t||null};t.getBoardElement=function(){var e=s();if(!e)return null;var t=e.childNodes;return(0,i.default)(t).find(function(e){return 1===e.nodeType})}},function(e,t,n){var a,r;
/**
 * @author William DURAND <william.durand1@gmail.com>
 * @license MIT Licensed
 */void 0===(r="function"==typeof(a=function(){"use strict";var e={},t="en",n=[],a=new RegExp(/^\w+\: +(.+)$/),r=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),i=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/),o={locale:get_current_locale(),fallback:t,placeHolderPrefix:"%",placeHolderSuffix:"%",defaultDomain:"messages",pluralSeparator:"|",add:function(t,a,r,i){var o=i||this.locale||this.fallback,s=r||this.defaultDomain;return e[o]||(e[o]={}),e[o][s]||(e[o][s]={}),e[o][s][t]=a,!1===function(e,t){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}(n,s)&&n.push(s),this},trans:function(e,t,n,a){return replace_placeholders(get_message(e,n,a,this.locale,this.fallback),t||{})},transChoice:function(e,t,n,s,l){var u=get_message(e,s,l,this.locale,this.fallback),c=parseInt(t,10);return void 0===(n=n||{}).count&&(n.count=t),void 0===u||isNaN(c)||(u=function(e,t,n){var s,l,u=[],c=[],d=e.split(o.pluralSeparator),f=[];for(s=0;s<d.length;s++){var p=d[s];r.test(p)?(f=p.match(r),u[f[0]]=f[f.length-1]):a.test(p)?(f=p.match(a),c.push(f[1])):c.push(p)}for(l in u)if(i.test(l))if((f=l.match(i))[1]){var m,h=f[2].split(",");for(m in h)if(t==h[m])return u[l]}else{var g=convert_number(f[4]),b=convert_number(f[5]);if(("["===f[3]?t>=g:t>g)&&("]"===f[6]?t<=b:t<b))return u[l]}return c[function(e,t){var n=t;"pt_BR"===n&&(n="xbr");n.length>3&&(n=n.split("_")[0]);switch(n){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1==e?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===e||1==e?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return 1==e?0:e>=2&&e<=4?1:2;case"ga":return 1==e?0:2==e?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"sl":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mk":return e%10==1?0:1;case"mt":return 1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"lv":return 0===e?0:e%10==1&&e%100!=11?1:2;case"pl":return 1==e?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2;case"cy":return 1==e?0:2==e?1:8==e||11==e?2:3;case"ro":return 1==e?0:0===e||e%100>0&&e%100<20?1:2;case"ar":return 0===e?0:1==e?1:2==e?2:e>=3&&e<=10?3:e>=11&&e<=99?4:5;default:return 0}}(t,n)]||c[0]||void 0}(u,c,l||this.locale||this.fallback)),replace_placeholders(u,n)},fromJSON:function(e){if("string"==typeof e&&(e=JSON.parse(e)),e.locale&&(this.locale=e.locale),e.fallback&&(this.fallback=e.fallback),e.defaultDomain&&(this.defaultDomain=e.defaultDomain),e.translations)for(var t in e.translations)for(var n in e.translations[t])for(var a in e.translations[t][n])this.add(a,e.translations[t][n][a],n,t);return this},reset:function(){e={},n=[],this.locale=get_current_locale()}};function replace_placeholders(e,t){var n,a=o.placeHolderPrefix,r=o.placeHolderSuffix;for(n in t){var i=new RegExp(a+n+r,"g");if(i.test(e)){var s=String(t[n]).replace(new RegExp("\\$","g"),"$$$$");e=e.replace(i,s)}}return e}function get_message(t,a,r,i,o){var s,l,u,c=r||i||o,d=a,f=c.split("_")[0];if(!(c in e))if(f in e)c=f;else{if(!(o in e))return t;c=o}if(void 0===d||null===d)for(var p=0;p<n.length;p++)if(has_message(c,n[p],t)||has_message(f,n[p],t)||has_message(o,n[p],t)){d=n[p];break}if(has_message(c,d,t))return e[c][d][t];for(;c.length>2&&(s=c.length,u=(l=c.split(/[\s_]+/))[l.length-1].length,1!==l.length);)if(has_message(c=c.substring(0,s-(u+1)),d,t))return e[c][d][t];return has_message(o,d,t)?e[o][d][t]:t}function has_message(t,n,a){return t in e&&(n in e[t]&&a in e[t][n])}function convert_number(e){return"-Inf"===e?Number.NEGATIVE_INFINITY:"+Inf"===e||"Inf"===e?Number.POSITIVE_INFINITY:parseInt(e,10)}function get_current_locale(){return"undefined"!=typeof document?document.documentElement.lang.replace("-","_"):t}return o})?a.call(t,n,t,e):a)||(e.exports=r)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.notationRows=t.nodeLimitActionMappings=t.nodeLimitTypes=t.diagramEditorSpecificActions=t.contextMenuCommands=t.annotations=t.commandActions=t.commandPositions=void 0;var a,r,i=_interopRequireDefault(n(16)),o=n(26),s=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l,u=t.commandPositions={AFTER:"after",BEFORE:"before"},c=t.commandActions={ADD_ANNOTATION:"addAnnotation",ADD_EVAL_NOTATION:"addEvalNotation",CLEAR_ANALYSIS:"clearAnalysis",CREATE_CONTINUATION:"createContinuation",CREATE_VARIATION:"createVariation",DELETE_COMMENT:"deleteComment",DELETE_LINE:"deleteLine",DELETE_MOVE:"deleteMove",INSERT_COMMENT:"insertComment",MOVE_VARIATION_DOWN:"moveVariationDown",MOVE_VARIATION:"moveVariation",PROMOTE_VARIATION:"promoteVariation",REMOVE_ANNOTATION:"removeAnnotation",REMOVE_BEGIN:"removeBegin",REMOVE_END:"removeEnd",REMOVE_EVAL_ANNOTATION:"removeEvalAnnotation",REMOVE_FOCUS:"removeFocus",SET_BEGIN:"setBegin",SET_END:"setEnd",SET_FOCUS:"setFocus",UPDATE_COMMENT:"updateComment"},d=t.annotations=[{code:"$1",display:o.nagMap.$1,meaning:s.default.trans("Good move"),action:c.ADD_ANNOTATION},{code:"$2",display:o.nagMap.$2,meaning:s.default.trans("Bad move"),action:c.ADD_ANNOTATION},{code:"$3",display:o.nagMap.$3,meaning:s.default.trans("Excellent move"),action:c.ADD_ANNOTATION},{code:"$4",display:o.nagMap.$4,meaning:s.default.trans("Blunder"),action:c.ADD_ANNOTATION},{code:"$5",display:o.nagMap.$5,meaning:s.default.trans("Speculative move"),action:c.ADD_ANNOTATION},{code:"$6",display:o.nagMap.$6,meaning:s.default.trans("Dubious move"),action:c.ADD_ANNOTATION},{code:"$10",display:o.nagMap.$10,meaning:s.default.trans("Drawish"),action:c.ADD_EVAL_NOTATION},{code:"$13",display:o.nagMap.$13,meaning:s.default.trans("Unclear"),action:c.ADD_EVAL_NOTATION},{code:"$14",display:o.nagMap.$14,meaning:s.default.trans("White has a slight advantage"),action:c.ADD_EVAL_NOTATION},{code:"$15",display:o.nagMap.$15,meaning:s.default.trans("Black has a slight advantage"),action:c.ADD_EVAL_NOTATION},{code:"$16",display:o.nagMap.$16,meaning:s.default.trans("White has a moderate advantage"),action:c.ADD_EVAL_NOTATION},{code:"$17",display:o.nagMap.$17,meaning:s.default.trans("Black has a moderate advantage"),action:c.ADD_EVAL_NOTATION},{code:"$18",display:o.nagMap.$18,meaning:s.default.trans("White has a decisive advantage"),action:c.ADD_EVAL_NOTATION},{code:"$19",display:o.nagMap.$19,meaning:s.default.trans("Black has a decisive advantage"),action:c.ADD_EVAL_NOTATION},{code:"$22",display:o.nagMap.$22,meaning:s.default.trans("The position is in zugzwang"),action:c.ADD_EVAL_NOTATION},{code:"$146",display:o.nagMap.$146,meaning:s.default.trans("Novelty"),action:c.ADD_EVAL_NOTATION}],f=(t.contextMenuCommands={CLEAR_ALL_ANALYSIS:{name:s.default.trans("Clear All Analysis"),action:c.CLEAR_ANALYSIS},CREATE_CONTINUATION:{name:s.default.trans("Insert Continuation"),action:c.CREATE_CONTINUATION},CREATE_VARIATION:{name:s.default.trans("Insert Alternate Line"),action:c.CREATE_VARIATION},DELETE_COMMENT_AFTER:{name:s.default.trans("Delete Comment After"),action:c.DELETE_COMMENT,position:u.AFTER},DELETE_COMMENT_BEFORE:{name:s.default.trans("Delete Comment Before"),action:c.DELETE_COMMENT,position:u.BEFORE},DELETE_LINE:{name:s.default.trans("Delete Entire Variation"),action:c.DELETE_LINE},DELETE_MOVE:{name:s.default.trans("Delete Move"),action:c.DELETE_MOVE},INSERT_COMMENT_AFTER:{name:s.default.trans("Comment After"),action:c.INSERT_COMMENT,position:u.AFTER},INSERT_COMMENT_BEFORE:{name:s.default.trans("Comment Before"),action:c.INSERT_COMMENT,position:u.BEFORE},MOVE_VARIATION_DOWN:{name:s.default.trans("Move Variation Down"),action:c.MOVE_VARIATION_DOWN},MOVE_VARIATION_UP:{name:s.default.trans("Move Variation Up"),action:c.MOVE_VARIATION},PROMOTE_VARIATION:{name:s.default.trans("Promote"),action:c.PROMOTE_VARIATION},REMOVE_ANNOTATION:{name:s.default.trans("Remove Annotation"),action:c.REMOVE_ANNOTATION},REMOVE_BEGIN:{name:s.default.trans("Remove Begin"),action:c.REMOVE_BEGIN},REMOVE_END:{name:s.default.trans("Remove End"),action:c.REMOVE_END},REMOVE_EVAL_ANNOTATION:{name:s.default.trans("Remove Evaluation Annotation"),action:c.REMOVE_EVAL_ANNOTATION},REMOVE_FOCUS:{name:s.default.trans("Remove Focus"),action:c.REMOVE_FOCUS},SET_BEGIN:{name:s.default.trans("Set Begin"),action:c.SET_BEGIN},SET_END:{name:s.default.trans("Set End"),action:c.SET_END},SET_FOCUS:{name:s.default.trans("Set Focus"),action:c.SET_FOCUS}},t.diagramEditorSpecificActions=[c.SET_BEGIN,c.SET_END,c.SET_FOCUS,c.REMOVE_BEGIN,c.REMOVE_END,c.REMOVE_FOCUS],t.nodeLimitTypes={BEGIN:"begin",END:"end",FOCUS:"focus"});t.nodeLimitActionMappings={SET:(a={},(0,i.default)(a,c.SET_BEGIN,f.BEGIN),(0,i.default)(a,c.SET_END,f.END),(0,i.default)(a,c.SET_FOCUS,f.FOCUS),a),REMOVE:(r={},(0,i.default)(r,c.REMOVE_BEGIN,f.BEGIN),(0,i.default)(r,c.REMOVE_END,f.END),(0,i.default)(r,c.REMOVE_FOCUS,f.FOCUS),r)},t.notationRows=(l=[],d.forEach(function(e){var t=l[l.length-1]||null;t&&4!==t.length?t.push(e):l.push([e])}),l)},function(e,t,n){e.exports={default:n(381),__esModule:!0}},,function(e,t,n){e.exports=n(6)(1)},function(e,t){e.exports={component:"icon-font-component",primary:"icon-font-primary",darkMode:"icon-font-darkMode",secondary:"icon-font-secondary",tertiary:"icon-font-tertiary",chess:"icon-font-chess",captured:"icon-font-captured"}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={props:{family:{type:String,default:"chess"},isDarkMode:{type:Boolean,default:!1},name:{type:String,required:!0},theme:{type:String,default:""}}};t.default=n},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t=this,n=t.$createElement,a=t._self._c||n;return a("div",t._g({class:[t.$style.component,(e={},e[t.$style.darkMode]=t.isDarkMode,e)]},t.$listeners),[a("span",{class:[t.$style[t.family],t.name,t.$style[t.theme]]})])},r=[]},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.getWindowTitle=function(){return encodeURIComponent(window.document.title)},a=t.getWindowLocation=function(){return encodeURIComponent(window.location.href)},r=(t.windowPath=window.location.pathname,t.windowTitle=n()),i=t.windowLocation=a();window.chessBrowserChecker={};t.bookmarkPage=function(){if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(r,i,"");else if(window.external&&"AddFavorite"in window.external)window.external.AddFavorite(i,r);else{var e=-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")?"Cmd":"Ctrl";alert("Press "+e+"+D to bookmark this page.")}},t.browserNames={chrome:"Chrome",edge:"edge",firefox:"Firefox",ie:"IE",safari:"Safari",waterfox:"Waterfox"};window.chessBrowserChecker.supportedBrowsers=["Chrome","edge","Firefox","IE","Safari","Waterfox"];var o=t.browserVersions={chrome:74,edge:17,firefox:60,safari:11,waterfox:56};window.chessBrowserChecker.supportedBrowserVersions=o;t.printWindow=function(){window.print()},t.sendEmail=function(e,t){window.location.href="mailto:?"+e+"&"+t};var s=function(e,t){return t.appVersion.indexOf(e)>-1},l=(t.isMobile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)},t.isEdge=function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent).match(/Edge/)}),u=(t.isAndroid=function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent).match(/Android/)},t.isApple=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return Boolean(["macintosh","iphone","ipad"].find(function(t){return e.toLowerCase().indexOf(t)>=0}))},t.getBrowser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent,t=void 0,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(l(e)){var a=e.indexOf("Edge/");return{name:"Edge",version:parseInt(e.substring(a+5,e.indexOf(".",a)),10)}}if(/trident/i.test(n[1]))return{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""};if("Chrome"===n[1]&&null!=(t=e.match(/\bOPR\/(\d+)/)))return{name:"Opera",version:t[1]};if("Firefox"===n[1]){var r=e.match(/(waterfox(?=\/))\/?\s*(\d+)/i)||[];if("Waterfox"===r[1])return{name:r[1],version:parseInt(r[2],10)}}return"Safari"===(n=n[2]?[n[1],n[2]]:[window.navigator.appName,window.navigator.appVersion,"-?"])[0]&&null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0],version:parseInt(n[1],10)}});window.chessBrowserChecker.getBrowserInformation=u;t.getWindowsVersion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator;return s("NT",e)?s("Windows NT 5.1",e)||s("Windows NT 6.0",e)?6:s("Windows NT 6.1",e)?7:s("Windows NT 6.2",e)||s("Windows NT 6.3",e)?8:10:-1};var c=t.isOldBrowser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent,t=u(e);return"Chrome"===t.name?t.version<o.chrome:"Safari"===t.name?t.version<o.safari:"Firefox"===t.name?t.version<o.firefox:"Edge"===t.name?t.version<o.edge:"IE"===t.name};window.chessBrowserChecker.isOldBrowser=c},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.makeSvg=function(e){var t=e.path,n=void 0===t?"":t,a=e.size,r=void 0===a?24:a,i=e.viewBox;return'\n  <svg width="'+r+'" height="'+r+'" viewBox="'+(void 0===i?"0 0 18 19":i)+'">\n    '+n+"\n  </svg>\n"}},,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updateScrollPosition=t.hasMoves=t.normalizePgnAnnotation=t.hasTreeLines=void 0;var a,r=n(11),i=(a=r)&&a.__esModule?a:{default:a},o=n(26),s=n(33);t.hasTreeLines=function(e){return Boolean(e&&e.tree&&e.tree.lines)},t.normalizePgnAnnotation=function(e){return(0,i.default)(o.nagMap).forEach(function(t){e=e.replace(new RegExp("\\"+t+"\\b","gm"),(0,s.normalizeAnnotation)(t))}),e},t.hasMoves=function(e){return e.state.lines&&e.state.lines[0]&&e.state.lines[0].length>0},t.updateScrollPosition=function(e){var t=e.moveIds,n=e.moveList,a=e.scrollEl;if(t&&n&&a){var r=n.getComponentRefByLineMove(t.line,t.move);if(r){var i=a.getBoundingClientRect(),o=r.$el?r.$el.getBoundingClientRect():r.getBoundingClientRect(),s=a.scrollTop,l=i.top+Math.floor(i.height/2)-o.top;a.scrollTop=s-l}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(130);Object.defineProperty(t,"makePremove",{enumerable:!0,get:function(){return a.makePremove}});var r=n(60);Object.defineProperty(t,"cancelPremoves",{enumerable:!0,get:function(){return r.cancelPremoves}});var i=n(131);Object.defineProperty(t,"consumePremove",{enumerable:!0,get:function(){return i.consumePremove}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(103);Object.defineProperty(t,"bestMove",{enumerable:!0,get:function(){return a.bestMove}});var r=n(104);Object.defineProperty(t,"book",{enumerable:!0,get:function(){return r.book}});var i=n(105);Object.defineProperty(t,"blunder",{enumerable:!0,get:function(){return i.blunder}});var o=n(106);Object.defineProperty(t,"brilliant",{enumerable:!0,get:function(){return o.brilliant}});var s=n(107);Object.defineProperty(t,"correct",{enumerable:!0,get:function(){return s.correct}});var l=n(108);Object.defineProperty(t,"excellent",{enumerable:!0,get:function(){return l.excellent}});var u=n(109);Object.defineProperty(t,"good",{enumerable:!0,get:function(){return u.good}});var c=n(110);Object.defineProperty(t,"inaccuracy",{enumerable:!0,get:function(){return c.inaccuracy}});var d=n(111);Object.defineProperty(t,"incorrect",{enumerable:!0,get:function(){return d.incorrect}});var f=n(112);Object.defineProperty(t,"missedWin",{enumerable:!0,get:function(){return f.missedWin}});var p=n(113);Object.defineProperty(t,"mistake",{enumerable:!0,get:function(){return p.mistake}});var m=n(114);Object.defineProperty(t,"undo",{enumerable:!0,get:function(){return m.undo}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.bestMove=void 0;var a=n(9);t.bestMove='\n  <path class="'+a.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+a.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#95bb4a"/>\n  <path d="M9 3.72a.48.48 0 0 0-.44.3L7.24 7.46l-3.68.19a.48.48 0 0 0-.27.84l2.86 2.32-1 3.56a.47.47 0 0 0 .18.5.46.46 0 0 0 .27.09.5.5 0 0 0 .26-.08l3.09-2 3.09 2a.5.5 0 0 0 .26.08.46.46 0 0 0 .27-.09.47.47 0 0 0 .18-.5l-1-3.56 2.86-2.32a.48.48 0 0 0-.27-.84l-3.68-.19L9.44 4A.48.48 0 0 0 9 3.72z" opacity=".1"/>\n  <path d="M9 3.22a.48.48 0 0 0-.44.3L7.24 7l-3.68.19a.48.48 0 0 0-.27.81l2.86 2.32-1 3.56a.47.47 0 0 0 .18.5.46.46 0 0 0 .27.09.5.5 0 0 0 .26-.08l3.09-2 3.09 2a.5.5 0 0 0 .26.08.46.46 0 0 0 .27-.09.47.47 0 0 0 .18-.5l-1-3.56L14.71 8a.48.48 0 0 0-.27-.84L10.76 7 9.44 3.52a.48.48 0 0 0-.44-.3z" fill="#fff"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.book=void 0;var a=n(9);t.book='\n  <path class="'+a.classNames.SHADOW+'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="'+a.classNames.BACKGROUND+'" fill="#a88865" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" opacity=".3" d="M8.4,6c-1-.75-2.52-1.09-4.83-1.09H2.49v8.71H3.57A8.13,8.13,0,0,1,8.4,14.76Z"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" opacity=".3" d="M9.49,14.76a8.14,8.14,0,0,1,4.84-1.17h1.08V4.88H14.33C12,4.88,10.52,5.22,9.49,6Z"/>\n  <path class="'+a.classNames.COMPONENT+'" fill="#fff" d="M8.4,5.47c-1-.75-2.52-1.09-4.83-1.09H3v8.71h.58A8.13,8.13,0,0,1,8.4,14.26Z"/>\n  <path class="'+a.classNames.COMPONENT+'" fill="#fff" d="M9.49,14.26a8.14,8.14,0,0,1,4.84-1.17h.58V4.38h-.58c-2.32,0-3.81.34-4.84,1.09Z"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.blunder=void 0;var a=n(9);t.blunder='\n  <path class="'+a.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+a.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#c93430"/>\n  <g class="'+a.classNames.COMPONENT_SHADOW+'" opacity=".2">\n    <path d="M14.68 5.48a2.77 2.77 0 0 0-.77-.92 3.81 3.81 0 0 0-1.1-.56 3.86 3.86 0 0 0-1.2-.19 3.68 3.68 0 0 0-1.19.19 5.72 5.72 0 0 0-.9.37l-.33.2a3.5 3.5 0 0 1 .43.63A3.26 3.26 0 0 1 10 6.66a.45.45 0 0 0 .19 0l.11-.09a1.13 1.13 0 0 1 .28-.18 2.54 2.54 0 0 1 .42-.23 1.61 1.61 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.25.68c-.17.19-.39.4-.65.64s-.33.27-.49.42a3.08 3.08 0 0 0-.45.55 2.55 2.55 0 0 0-.33.66 2.43 2.43 0 0 0-.13.84v.35a.34.34 0 0 0 .32.32h1.72a.27.27 0 0 0 .22-.1.29.29 0 0 0 .09-.22v-.21a.93.93 0 0 1 .27-.7 6.62 6.62 0 0 1 .65-.64A4.62 4.62 0 0 0 14 9a5.58 5.58 0 0 0 .49-.6 2.92 2.92 0 0 0 .36-.73 3.08 3.08 0 0 0 .14-1 2.76 2.76 0 0 0-.31-1.19zM12.3 12.72h-1.89a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.31.31 0 0 0 .09.22.26.26 0 0 0 .22.1h1.89a.33.33 0 0 0 .23-.09.34.34 0 0 0 .1-.23V13a.34.34 0 0 0-.1-.22.33.33 0 0 0-.23-.06zM6.68 12.72H4.79a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.35.35 0 0 0 .08.22.28.28 0 0 0 .23.1h1.89a.35.35 0 0 0 .23-.09.34.34 0 0 0 .1-.23V13a.34.34 0 0 0-.1-.22.35.35 0 0 0-.23-.06zM8.28 4.56A3.63 3.63 0 0 0 7.19 4 3.86 3.86 0 0 0 6 3.81 3.78 3.78 0 0 0 4.79 4a6.65 6.65 0 0 0-.9.37 2.84 2.84 0 0 0-.55.38l-.21.19a.31.31 0 0 0 0 .41l1 1.21a.31.31 0 0 0 .21.13.54.54 0 0 0 .25-.06l.1-.09a1.46 1.46 0 0 1 .29-.18 2.2 2.2 0 0 1 .41-.18 1.57 1.57 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.26.68c-.17.19-.38.4-.64.64a6.4 6.4 0 0 0-.49.42 2.7 2.7 0 0 0-.52.53 2.94 2.94 0 0 0-.34.66 2.7 2.7 0 0 0-.12.84v.35a.29.29 0 0 0 .09.22.28.28 0 0 0 .22.1h1.76a.26.26 0 0 0 .21-.1.29.29 0 0 0 .09-.22v-.21a1 1 0 0 1 .27-.7 8.22 8.22 0 0 1 .66-.64A5.68 5.68 0 0 0 8.36 9a7 7 0 0 0 .48-.6 3 3 0 0 0 .37-.73 3.1 3.1 0 0 0 .13-1 2.67 2.67 0 0 0-1.06-2.11z"/>\n  </g>\n  <path class="'+a.classNames.COMPONENT+'" fill="#fff" d="M14.68 5a2.77 2.77 0 0 0-.77-.92 3.81 3.81 0 0 0-1.1-.56 3.86 3.86 0 0 0-1.2-.19 3.68 3.68 0 0 0-1.19.17 5.72 5.72 0 0 0-.9.37l-.33.2a3.5 3.5 0 0 1 .43.63A3.26 3.26 0 0 1 10 6.16a.45.45 0 0 0 .19 0l.09-.16a1.13 1.13 0 0 1 .28-.18 2.54 2.54 0 0 1 .44-.16 1.61 1.61 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.25.68c-.17.19-.39.4-.65.64s-.33.27-.49.42a3.08 3.08 0 0 0-.45.55 2.55 2.55 0 0 0-.33.66 2.43 2.43 0 0 0-.13.84v.35a.34.34 0 0 0 .32.32h1.72a.27.27 0 0 0 .22-.1.29.29 0 0 0 .09-.22v-.21a.93.93 0 0 1 .27-.7 6.62 6.62 0 0 1 .62-.66 4.62 4.62 0 0 0 .54-.46 5.58 5.58 0 0 0 .49-.6 2.92 2.92 0 0 0 .36-.73 3.08 3.08 0 0 0 .14-1A2.76 2.76 0 0 0 14.68 5zM12.3 12.22h-1.89a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.31.31 0 0 0 .09.22.26.26 0 0 0 .22.1h1.89a.33.33 0 0 0 .23-.09.34.34 0 0 0 .1-.23v-1.84a.34.34 0 0 0-.1-.22.33.33 0 0 0-.23-.09zM6.68 12.22H4.79a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.35.35 0 0 0 .08.22.28.28 0 0 0 .23.1h1.89a.35.35 0 0 0 .23-.09.34.34 0 0 0 .1-.23v-1.84a.34.34 0 0 0-.1-.22.35.35 0 0 0-.23-.09zM8.28 4.06a3.63 3.63 0 0 0-1.09-.56A3.86 3.86 0 0 0 6 3.31a3.78 3.78 0 0 0-1.2.17 6.65 6.65 0 0 0-.9.37 2.84 2.84 0 0 0-.55.38l-.21.19a.31.31 0 0 0 0 .41L4.09 6a.31.31 0 0 0 .21.13.54.54 0 0 0 .25-.06l.1-.07a1.46 1.46 0 0 1 .29-.18 2.2 2.2 0 0 1 .41-.18 1.57 1.57 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.26.68c-.17.19-.38.4-.64.64a6.4 6.4 0 0 0-.49.42 2.7 2.7 0 0 0-.48.57 2.94 2.94 0 0 0-.34.66 2.7 2.7 0 0 0-.12.84v.35a.29.29 0 0 0 .09.22.28.28 0 0 0 .22.1h1.76a.26.26 0 0 0 .21-.1.29.29 0 0 0 .09-.22v-.21a1 1 0 0 1 .27-.7A8.22 8.22 0 0 1 7.84 9a5.68 5.68 0 0 0 .52-.48 7 7 0 0 0 .48-.6 3 3 0 0 0 .37-.73 3.1 3.1 0 0 0 .13-1 2.67 2.67 0 0 0-1.06-2.13z"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.brilliant=void 0;var a=n(9);t.brilliant='\n  <path class="'+a.classNames.SHADOW+'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="'+a.classNames.BACKGROUND+'" fill="#1baca6" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" opacity=".2" d="M12.57,14.85a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24V13a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23Zm-.11-3.93a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H10.35a.32.32,0,0,1-.34-.31L9.86,4.15A.42.42,0,0,1,10,3.91a.3.3,0,0,1,.24-.1H12.3a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="'+a.classNames.COMPONENT+'" fill="#fff" d="M12.57,14.35a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24v-1.9a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23Zm-.11-3.93a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H10.35a.32.32,0,0,1-.34-.31L9.86,3.65A.42.42,0,0,1,10,3.41a.3.3,0,0,1,.24-.1H12.3a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" opacity=".2" d="M8.07,14.85a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24V13a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23ZM8,10.92a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H5.85a.32.32,0,0,1-.34-.31L5.36,4.15a.42.42,0,0,1,.09-.24.3.3,0,0,1,.24-.1H7.8a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="'+a.classNames.COMPONENT+'" fill="#fff" d="M8.07,14.35a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24v-1.9a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23ZM8,10.42a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H5.85a.32.32,0,0,1-.34-.31L5.36,3.65a.42.42,0,0,1,.09-.24.3.3,0,0,1,.24-.1H7.8a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.correct=void 0;var a=n(9);t.correct='\n  <path class="'+a.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+a.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#95bb4a"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" d="M15.11 6.81l-5.66 5.66-1.66 1.65a.38.38 0 0 1-.55 0L2.89 9.78a.39.39 0 0 1 0-.55l1.39-1.39a.39.39 0 0 1 .55 0l2.69 2.69 5.65-5.65a.38.38 0 0 1 .55 0l1.39 1.38a.39.39 0 0 1 0 .55z" opacity=".2"/>\n  <path class="'+a.classNames.COMPONENT+'" d="M15.11 6.31L9.45 12l-1.66 1.62a.38.38 0 0 1-.55 0L2.89 9.28a.39.39 0 0 1 0-.55l1.39-1.39a.39.39 0 0 1 .55 0L7.52 10l5.65-5.65a.38.38 0 0 1 .55 0l1.39 1.38a.39.39 0 0 1 0 .58z" fill="#fff"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.excellent=void 0;var a=n(9);t.excellent='\n  <path class="'+a.classNames.SHADOW+'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="'+a.classNames.BACKGROUND+'" fill="#5a9ac0" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" opacity=".2" d="M15,6.8,7.81,14a.38.38,0,0,1-.55,0L3,9.73a.41.41,0,0,1,0-.55L4.36,7.81a.4.4,0,0,1,.54,0l2.63,2.64L13.1,4.9a.38.38,0,0,1,.55,0L15,6.25A.38.38,0,0,1,15,6.8Z"/>\n  <path class="'+a.classNames.COMPONENT+'" fill="#ffffff" d="M15,6.3,7.81,13.49a.38.38,0,0,1-.55,0L3,9.23a.41.41,0,0,1,0-.55L4.36,7.31a.4.4,0,0,1,.54,0L7.53,10,13.1,4.4a.38.38,0,0,1,.55,0L15,5.75A.38.38,0,0,1,15,6.3Z"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.good=void 0;var a=n(9);t.good='\n  <path class="'+a.classNames.SHADOW+'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="'+a.classNames.BACKGROUND+'" fill="#a09f9e" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="'+a.classNames.COMPONENT+'" fill="#fff" d="M9,2.5A6.5,6.5,0,1,0,15.5,9,6.5,6.5,0,0,0,9,2.5Z"/>\n  <path class="'+a.classNames.BACKGROUND+'" fill="#a09f9e" d="M9,5a4,4,0,1,0,4,4A4,4,0,0,0,9,5Z"/>\n  <path class="'+a.classNames.COMPONENT+'" fill="#fff" d="M9,7.5A1.5,1.5,0,1,0,10.5,9,1.5,1.5,0,0,0,9,7.5Z"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.inaccuracy=void 0;var a=n(9);t.inaccuracy='\n  <path class="'+a.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+a.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#f0c15c"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" opacity=".3" d="M13.51 14.85a.3.3 0 0 1-.1.24.33.33 0 0 1-.24.1h-2a.29.29 0 0 1-.23-.1.36.36 0 0 1-.09-.24V13a.33.33 0 0 1 .1-.23.27.27 0 0 1 .22-.1h2a.33.33 0 0 1 .24.1.29.29 0 0 1 .1.23zm-.12-3.93a.29.29 0 0 1-.1.23.31.31 0 0 1-.23.08h-1.77a.31.31 0 0 1-.34-.31l-.15-6.77a.49.49 0 0 1 .08-.24.32.32 0 0 1 .25-.1h2.11a.38.38 0 0 1 .25.1.42.42 0 0 1 .09.24z"/>\n  <path class="'+a.classNames.COMPONENT+'" fill="#fff" d="M13.51 14.35a.3.3 0 0 1-.1.24.33.33 0 0 1-.24.1h-2a.29.29 0 0 1-.23-.1.36.36 0 0 1-.09-.24v-1.9a.33.33 0 0 1 .1-.23.27.27 0 0 1 .22-.1h2a.33.33 0 0 1 .24.1.29.29 0 0 1 .1.23zm-.12-3.93a.29.29 0 0 1-.1.23.31.31 0 0 1-.23.08h-1.77a.31.31 0 0 1-.34-.31l-.15-6.77a.49.49 0 0 1 .08-.24.32.32 0 0 1 .25-.1h2.11a.38.38 0 0 1 .25.1.42.42 0 0 1 .09.24z"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" opacity=".3" d="M7.5 14.87a.33.33 0 0 1-.09.23.35.35 0 0 1-.23.09H5.29a.28.28 0 0 1-.23-.1.35.35 0 0 1-.06-.22V13a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.87a.35.35 0 0 1 .23.09.33.33 0 0 1 .09.22zm2.21-7.16a3 3 0 0 1-.37.73 7 7 0 0 1-.48.6 5.68 5.68 0 0 1-.52.48 8.22 8.22 0 0 0-.66.64 1 1 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.26.26 0 0 1-.21.1H5.38a.28.28 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.7 2.7 0 0 1 .12-.84 3.39 3.39 0 0 1 .33-.66A3.12 3.12 0 0 1 6 8.67a6.4 6.4 0 0 1 .49-.42c.25-.24.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.14 1.14 0 0 0-.73-.24 1.53 1.53 0 0 0-.49.07 2.2 2.2 0 0 0-.41.18 1.46 1.46 0 0 0-.29.18l-.1.09a.54.54 0 0 1-.25.06.31.31 0 0 1-.21-.13l-1-1.21a.31.31 0 0 1 0-.41l.21-.19a2.84 2.84 0 0 1 .55-.38A6.65 6.65 0 0 1 5.29 4a3.74 3.74 0 0 1 1.2-.17 3.86 3.86 0 0 1 1.2.17 3.75 3.75 0 0 1 1.09.56 2.67 2.67 0 0 1 1.06 2.19 3.1 3.1 0 0 1-.13.96z"/>\n  <path class="'+a.classNames.COMPONENT+'" fill="#fff" d="M7.5 14.37a.33.33 0 0 1-.09.23.35.35 0 0 1-.23.09H5.29a.28.28 0 0 1-.23-.1.35.35 0 0 1-.06-.22v-1.84a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.87a.35.35 0 0 1 .23.09.33.33 0 0 1 .09.22zm2.21-7.16a3 3 0 0 1-.37.73 7 7 0 0 1-.48.6 5.68 5.68 0 0 1-.52.46 8.22 8.22 0 0 0-.66.64 1 1 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.26.26 0 0 1-.21.1H5.38a.28.28 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.7 2.7 0 0 1 .12-.84 3.39 3.39 0 0 1 .33-.66A3.12 3.12 0 0 1 6 8.17a6.4 6.4 0 0 1 .49-.42c.25-.24.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.14 1.14 0 0 0-.73-.24 1.53 1.53 0 0 0-.49.07 2.2 2.2 0 0 0-.41.18 1.46 1.46 0 0 0-.31.16l-.1.09a.54.54 0 0 1-.25.06.31.31 0 0 1-.21-.15l-1-1.21a.31.31 0 0 1 0-.41l.21-.19a2.84 2.84 0 0 1 .55-.38 6.65 6.65 0 0 1 .9-.37 3.74 3.74 0 0 1 1.2-.17 3.86 3.86 0 0 1 1.2.19 3.75 3.75 0 0 1 1.09.56 2.67 2.67 0 0 1 1.1 2.23 3.1 3.1 0 0 1-.13.96z"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.incorrect=void 0;var a=n(9);t.incorrect='\n  <path class="'+a.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+a.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#c93430"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" d="M14 12.58a.4.4 0 0 1 0 .56l-1.38 1.38a.4.4 0 0 1-.56 0L9 11.44l-3.08 3.08a.4.4 0 0 1-.56 0L4 13.14a.4.4 0 0 1 0-.56L7.06 9.5 4 6.42a.4.4 0 0 1 0-.56l1.36-1.38a.4.4 0 0 1 .56 0L9 7.56l3.08-3.08a.4.4 0 0 1 .56 0L14 5.86a.4.4 0 0 1 0 .56L10.94 9.5z" opacity=".2"/>\n  <path class="'+a.classNames.COMPONENT+'" d="M14 12.08a.4.4 0 0 1 0 .56L12.64 14a.4.4 0 0 1-.56 0L9 10.94 5.92 14a.4.4 0 0 1-.56 0L4 12.64a.4.4 0 0 1 0-.56L7.06 9 4 5.92a.4.4 0 0 1 0-.56L5.36 4a.4.4 0 0 1 .56 0L9 7.06 12.08 4a.4.4 0 0 1 .56 0L14 5.36a.4.4 0 0 1 0 .56L10.94 9z" fill="#f1f2f2"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.missedWin=void 0;var a=n(9);t.missedWin='\n  <path class="'+a.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+a.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#dd5357"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" d="M14 12.58a.4.4 0 0 1 0 .56l-1.38 1.38a.4.4 0 0 1-.56 0L9 11.44l-3.08 3.08a.4.4 0 0 1-.56 0L4 13.14a.4.4 0 0 1 0-.56L7.06 9.5 4 6.42a.4.4 0 0 1 0-.56l1.36-1.38a.4.4 0 0 1 .56 0L9 7.56l3.08-3.08a.4.4 0 0 1 .56 0L14 5.86a.4.4 0 0 1 0 .56L10.94 9.5z" opacity=".2"/>\n  <path class="'+a.classNames.COMPONENT+'" d="M14 12.08a.4.4 0 0 1 0 .56L12.64 14a.4.4 0 0 1-.56 0L9 10.94 5.92 14a.4.4 0 0 1-.56 0L4 12.64a.4.4 0 0 1 0-.56L7.06 9 4 5.92a.4.4 0 0 1 0-.56L5.36 4a.4.4 0 0 1 .56 0L9 7.06 12.08 4a.4.4 0 0 1 .56 0L14 5.36a.4.4 0 0 1 0 .56L10.94 9z" fill="#f1f2f2"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mistake=void 0;var a=n(9);t.mistake='\n  <path class="'+a.classNames.SHADOW+'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="'+a.classNames.BACKGROUND+'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#e6912c"/>\n  <path class="'+a.classNames.COMPONENT_SHADOW+'" d="M9.82 14.87a.34.34 0 0 1-.1.23.33.33 0 0 1-.23.09H7.6a.26.26 0 0 1-.22-.1.31.31 0 0 1-.09-.22V13a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.89a.33.33 0 0 1 .23.09.34.34 0 0 1 .1.22zM12 7.71a3.31 3.31 0 0 1-.36.73 7.11 7.11 0 0 1-.49.6 4.62 4.62 0 0 1-.52.48 6.62 6.62 0 0 0-.65.64.93.93 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.28.28 0 0 1-.22.1H7.69a.3.3 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.43 2.43 0 0 1 .13-.84 2.55 2.55 0 0 1 .33-.66 3.08 3.08 0 0 1 .45-.55c.16-.15.33-.29.49-.42s.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.13 1.13 0 0 0-.73-.24 1.57 1.57 0 0 0-.49.07 2.54 2.54 0 0 0-.41.18 1.46 1.46 0 0 0-.29.18l-.1.09a.53.53 0 0 1-.24.06c-.12 0-.19-.07-.21-.13l-1-1.21a.3.3 0 0 1 0-.41l.21-.19a2.67 2.67 0 0 1 .56-.38A5.72 5.72 0 0 1 7.61 4a3.68 3.68 0 0 1 1.19-.19A3.86 3.86 0 0 1 10 4a3.63 3.63 0 0 1 1.09.56 2.79 2.79 0 0 1 .78.92 2.76 2.76 0 0 1 .29 1.27 3.08 3.08 0 0 1-.16.96z" opacity=".2"/>\n  <path class="'+a.classNames.COMPONENT+'" d="M9.82 14.37a.34.34 0 0 1-.1.23.33.33 0 0 1-.23.09H7.6a.26.26 0 0 1-.22-.1.31.31 0 0 1-.09-.22v-1.84a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.89a.33.33 0 0 1 .23.09.34.34 0 0 1 .1.22zM12 7.21a3.31 3.31 0 0 1-.36.73 7.11 7.11 0 0 1-.49.6 4.62 4.62 0 0 1-.52.48 6.62 6.62 0 0 0-.65.64.93.93 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.28.28 0 0 1-.22.1H7.69a.3.3 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.43 2.43 0 0 1 .13-.84 2.55 2.55 0 0 1 .33-.66 3.08 3.08 0 0 1 .45-.55c.16-.15.33-.29.49-.42s.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.13 1.13 0 0 0-.73-.24 1.57 1.57 0 0 0-.49.07 2.54 2.54 0 0 0-.41.18 1.46 1.46 0 0 0-.29.16l-.1.09a.53.53 0 0 1-.24.06C7 6.14 6.93 6.1 6.91 6l-1-1.21a.3.3 0 0 1 0-.41l.21-.19a2.67 2.67 0 0 1 .56-.38 5.72 5.72 0 0 1 .9-.37 3.68 3.68 0 0 1 1.22-.13 3.86 3.86 0 0 1 1.2.19 3.63 3.63 0 0 1 1.09.56 2.79 2.79 0 0 1 .78.92 2.76 2.76 0 0 1 .29 1.27 3.08 3.08 0 0 1-.16.96z" fill="#fff"/>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.undo=void 0;var a=n(9);t.undo='\n  <path\n    class="'+a.classNames.SHADOW+'"\n    d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"\n    opacity=".3"></path>\n\n  <path\n    class="'+a.classNames.BACKGROUND+'"\n    d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"\n    fill="#8a8886"></path>\n\n  <path\n    d="M3.59,10.23a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,13.31,3.58,3.58,0,0,0,10.47,13a3.94,3.94,0,0,0,1.22-.81A4.09,4.09,0,0,0,12.5,11a3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2A3.94,3.94,0,0,0,10.47,6,3.65,3.65,0,0,0,9,5.69a3.61,3.61,0,0,0-1.23.21,3.23,3.23,0,0,0-1.09.6L7.77,7.59c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,8a.52.52,0,0,1-.17-.38V4.45c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,5.34a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,4.05a5.3,5.3,0,0,1,2.12.44,5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,7.38a5.23,5.23,0,0,1,.44,2.12A5.16,5.16,0,0,1,14,11.62a5.59,5.59,0,0,1-1.16,1.73,5.32,5.32,0,0,1-1.73,1.18A5.64,5.64,0,0,1,9,15a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,12.1,5.1,5.1,0,0,1,3.59,10.23Z"\n    class="'+a.classNames.COMPONENT_SHADOW+'"\n    opacity=".3"></path>\n\n  <path\n    d="M3.59,9.73a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,12.81a3.58,3.58,0,0,0,1.47-.31,3.94,3.94,0,0,0,1.22-.81,4.09,4.09,0,0,0,.81-1.2,3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2,3.94,3.94,0,0,0-1.22-.81A3.65,3.65,0,0,0,9,5.19a3.61,3.61,0,0,0-1.23.21A3.23,3.23,0,0,0,6.68,6L7.77,7.09c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,7.49a.52.52,0,0,1-.17-.38V4c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,4.84a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,3.55,5.3,5.3,0,0,1,11.12,4a5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,6.88,5.23,5.23,0,0,1,14.45,9,5.16,5.16,0,0,1,14,11.12a5.59,5.59,0,0,1-1.16,1.73A5.32,5.32,0,0,1,11.12,14,5.64,5.64,0,0,1,9,14.45a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,11.6,5.1,5.1,0,0,1,3.59,9.73Z"\n    class="'+a.classNames.COMPONENT+'"\n    fill="#ffffff"></path>\n'},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports={component:"modal-container-component","parent-centered":"modal-container-parent-centered",bg:"modal-container-bg",enter:"modal-container-enter",leave:"modal-container-leave","content-centered":"modal-container-content-centered"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t,n=this,a=n.$createElement,r=n._self._c||a;return r("transition",{attrs:{"enter-active-class":n.$style.enter,"leave-active-class":n.$style.leave}},[n.visible?r("div",{class:[n.$style.component,(e={},e[n.$style["parent-centered"]]=n.centerOverParent,e),(t={},t[n.$style["content-centered"]]=n.centerOverContent,t)]},[n.centerOverParent?n._e():r("div",{class:n.$style.bg,on:{click:n.onBackgroundClick}}),n._v(" "),[n._t("default")]],2):n._e()])},r=[]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getCoordinateHeight=void 0;var a=n(14);t.getCoordinateHeight=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=document.querySelector(a.domSelectors.COORDINATE_FILE);return t?t.getBoundingClientRect().height:e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.animationChangeRequiresRefresh=void 0;var a=n(14);t.animationChangeRequiresRefresh=function(e,t){return a.reloadRequired.animations.indexOf(e)>-1||a.reloadRequired.animations.indexOf(t)>-1}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.buildEffect=void 0;var a=n(18),r=n(97);t.buildEffect=function(e){var t=e.icon,n=e.node;return{position:{x:"right",y:"top"},square:e.square||a.GameAPI.convertLanToFileRanks(""+n.from+n.to).toFileRank,template:(0,r.makeSvg)({path:t,size:"100%"})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addBlinkingSquare=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(17);t.addBlinkingSquare=function(e,t,n,a){var r=o.Utils.getId(),s=(0,i.default)({id:r,interval:t,times:n},a);return e.markings.blinkingSquares.push(s),setTimeout(function(){var t=e.markings.blinkingSquares.findIndex(function(e){return e.id===r});e.markings.blinkingSquares.splice(t,1)},0),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addVariant=void 0;var a=n(20),r=n(10);t.addVariant=function(e,t){return t?((0,r.selectNode)(e,{line:0,move:0}),t.match(/.{2}/g).forEach(function(t){return(0,a.makeMove)(e,{tcn:t},!0)}),e):e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.getSanMoves=function(e,t){var a=[];return(e.tree.lines||n(19).default.state.lines)[0].some(function(e,n){return"number"==typeof t&&n>=t||(a.push(e.san),!1)}),a}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.getFens=function(e){var t=[e.setup.fen];return(e.tree.lines||n(19).default.state.lines)[0].forEach(function(e){t.push(e.fen)}),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastTcn=void 0;var a=n(18);t.getLastTcn=function(e){var t=a.GameAPI.getTcn(e);return t.substr(t.length-2)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.makeOpponentMove=void 0;var a=n(57),r=n(37),i=n(0);t.makeOpponentMove=function(e,t){return(0,r.setPlayingAs)(e,3-e.setup.playingAs),(0,a.makeMove)(e,t),(0,r.setPlayingAs)(e,3-e.setup.playingAs),i.State.updateState(e)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.isMoveLegal=function(e,t){var n=!1;if(!e.settings.rules)return!0;for(var a=0;a<e.setup.legalMoves.length;a++){var r=e.setup.legalMoves[a];if(r.from===t.from&&r.to===t.to){n=!0;break}}return n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.canMoveBackward=void 0;var a=n(1);t.canMoveBackward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===e.tree.selected.line&&e.tree.selected.move-t<-1)return!1;var r=e.tree.lines||n(19).default.state.lines;return null!==a.Line.findNode(r,e.tree.selected,-1*t,!1)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.canMoveForward=void 0;var a=n(1);t.canMoveForward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.tree.lines||n(19).default.state.lines;return null!==a.Line.findNode(r,e.tree.selected,t,!1)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.makePremove=void 0;var a=n(2),r=n(4),i=n(35),o=n(0),s=n(10),l=n(1);t.makePremove=function(e,t){var n=r.Game.getJCEMove(e,t);return null===n?(a.History.add(e.history,a.Events.ILLEGAL_MOVE),e):l.Line.isHead(e.jce._lines(),e.tree.selected)||e.settings.analysis?e.settings.analysis?void 0:(i.GamePremoves.premove(e,n)?(a.History.add(e.history,a.Events.PREMOVE),o.State.updateState(e)):a.History.add(e.history,a.Events.ILLEGAL_MOVE),e):(0,s.selectNode)(e,l.Line.getHeadIds(e.jce._lines(),e.tree.selected.line))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.consumePremove=void 0;var a=n(2),r=n(35),i=n(60),o=n(0);t.consumePremove=function(e){return e.premoves.length?(r.GamePremoves.consumePremove(e)?(a.History.add(e.history,a.Events.MAKE_MOVE),o.State.updateState(e)):(0,i.cancelPremoves)(e),e):e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearAnalysis=void 0;var a=n(18),r=n(1),i=n(0),o=n(2);t.clearAnalysis=function(e){var t=a.GameAPI.resetToMainLine(e),n=r.Line.clearAnalysis(t.jce._lines());return t.jce.saveLines(n),o.History.add(t.history,o.Events.TREE_CHANGE),i.State.updateState(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearArrow=void 0;var a=n(2),r=n(1),i=n(4),o=n(0);t.clearArrow=function(e,t,n){var s=r.Line.getNode(e.jce._lines(),n)||r.Line.getNode(e.jce._lines(),i.Game.getSelectedIds(e))||e.tree.initialMarkings;s.arrows||(s.arrows=[]);var l=s.arrows.findIndex(function(e){return i.Game.isFileRankEqual(e.fromFileRank,t.fromFileRank)&&i.Game.isFileRankEqual(e.toFileRank,t.toFileRank)});return-1!==l&&(s.arrows.splice(l,1),o.State.updateState(e),a.History.add(e.history,a.Events.TREE_CHANGE)),e}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.clearBlinkingSquare=function(e,t){return e.markings.blinkingSquares[t]&&delete e.markings.blinkingSquares[t],e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearBoard=void 0;n(4);var a=n(2),r=n(0),i=n(59),o=n(38);t.clearBoard=function(e){return(0,i.changeSettings)(e,{rules:!1}),(0,o.loadFromFen)(e,"8/8/8/8/8/8/8/8 w - - 0 1"),a.History.add(e.history,a.Events.LOAD),r.State.updateState(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearEffect=void 0;var a=n(2),r=n(1),i=n(4),o=n(0);t.clearEffect=function(e,t,n){var s=r.Line.getNode(e.jce._lines(),n)||r.Line.getNode(e.jce._lines(),i.Game.getSelectedIds(e))||e.tree.initialMarkings;s.effects||(s.effects=[]);var l=s.effects.findIndex(function(e){return i.Game.isFileRankEqual(e.square,t.square)});return-1!==l&&(s.effects.splice(l,1),o.State.updateState(e),a.History.add(e.history,a.Events.TREE_CHANGE)),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearMarkedSquare=void 0;var a=n(2),r=n(1),i=n(4),o=n(0);t.clearMarkedSquare=function(e,t,n){var s=r.Line.getNode(e.jce._lines(),n)||r.Line.getNode(e.jce._lines(),i.Game.getSelectedIds(e))||e.tree.initialMarkings;s.squares||(s.squares=[]);var l=s.squares.findIndex(function(e){return i.Game.isFileRankEqual(e,t)});return-1!==l&&(s.squares.splice(l,1),o.State.updateState(e),a.History.add(e.history,a.Events.TREE_CHANGE)),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearNodes=void 0;var a=n(1),r=n(2);t.clearNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.jce._lines();if(!n)return e;if(void 0===t.line&&void 0===t.move)return n.forEach(function(e){e.forEach(function(e,t){return a.Line.clearNode(n,{line:e.ids.line,move:t})})}),r.History.add(e.history,r.Events.TREE_CHANGE),e;if(void 0===t.move){var i=a.Line.getLine(e.jce._lines(),t.line);return i?(i.forEach(function(e,t){return a.Line.clearNode(n,{line:i.id,move:t})}),r.History.add(e.history,r.Events.TREE_CHANGE),e):e}return a.Line.getNode(n,t)?(a.Line.clearNode(n,t),r.History.add(e.history,r.Events.TREE_CHANGE),e):e}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.convertFileToInteger=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").charCodeAt(0)-97+1};t.convertLanToFileRanks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{fromFileRank:{file:n(e[0]),rank:Number(e[1])},toFileRank:{file:n(e[2]),rank:Number(e[3])}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteLine=void 0;n(18);var a=n(2),r=(n(1),n(0));t.deleteLine=function(e,t){return e.jce.deletePosition(-1,t)?(a.History.add(e.history,a.Events.TREE_CHANGE),r.State.updateState(e),e):null}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentFullLine=function(e){var t=e.jce._history().length-e.jce.ids().move-1,n=e.jce.history(!0);return 0===t?n:n.slice(0,-t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getPgn=void 0;var a=n(4);t.getPgn=function(e,t){return a.Game.getPgn(e,t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getPgnHeaders=void 0;var a=n(4);t.getPgnHeaders=function(e){return a.Game.getHeaders(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectedNode=void 0;var a=n(1);t.getSelectedNode=function(e){return a.Line.getSelectedNode(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromLan=void 0;var a,r=n(18),i=n(15),o=(a=i)&&a.__esModule?a:{default:a};t.loadFromLan=function(e,t,n,a){var i=t.map(function(e){return o.default.encodeTCN({from:e.slice(0,2),to:e.slice(2,4),promotion:e.slice(4,5)||void 0})}).join("");return r.GameAPI.loadFromTcn(e,i,n,a)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromPgn=void 0;var a=n(4),r=n(2),i=n(0),o=n(10),s=n(100);t.loadFromPgn=function(e,t,n){return t?(a.Game.loadPgn(e,(0,s.normalizePgnAnnotation)(t)),i.State.updateState(e),n?(0,o.selectNode)(e,e.tree.selected,n):(r.History.add(e.history,r.Events.LOAD),e)):e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromSanMoves=void 0;var a=n(4),r=n(20),i=n(10),o=n(2),s=n(0);t.loadFromSanMoves=function(e,t,n,l){return t&&t.length?(n&&a.Game.load(e,n),t.forEach(function(t){return(0,r.makeMove)(e,{san:t},!0)}),s.State.updateState(e),l?(0,i.selectNode)(e,e.tree.selected,-1):(o.History.add(e.history,o.Events.LOAD),e)):null}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeTcn=void 0;var a=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(15)),i=n(2),o=n(1),s=n(20),l=n(10),u=n(55),c=n(149),d=n(40),f=n(65),p=n(41),m=n(39);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.mergeTcn=function mergeTcn(e,t,n){if("string"!=typeof t||e.settings.mainLineIsImmutable)return null;if(""===t)return(0,m.selectLineStart)(e),(0,p.loadFromTcn)(e,"",e.setup.fen);var h=(0,a.default)({},e.tree.selected),g=(0,d.getTcn)(e),b=t,v=e.history.length-1;if(!(g.includes(b)||b.includes(g)||(g=(0,c.fixTcn)(e,g),b=(0,c.fixTcn)(e,b),g.includes(b)||b.includes(g))))return(0,p.loadFromTcn)(e,b);if(b.length<g.length)(0,l.selectNode)(e,{line:0,move:b.length/2-1}),(0,f.deleteRemainingNodes)(e);else{if(!(b.length>g.length))return e;(0,l.selectNode)(e,{line:0,move:g.length/2-1});var _=void 0;if(b.slice(g.length).match(/.{2}/g).forEach(function(t){_=r.default.decodeTCN(t)[0],"Crazyhouse"!==e.variant&&"Bughouse"!==e.variant||!_.drop||(0,u.setHand)(e,e.setup.sideToMove,_.drop),(0,s.makeMove)(e,_,!0)}),e.history.slice(v+1).some(function(e){return e&&e.type===i.Events.ILLEGAL_MOVE}))return(0,l.selectNode)(e,h),(0,f.deleteRemainingNodes)(e),e.history=e.history.slice(0,v),mergeTcn(e,(0,c.fixTcn)(e,b))}if(n)return(0,l.selectNode)(e,e.tree.selected,-1);if(h.line!==e.tree.selected.line||h.move!==e.tree.selected.move){var y=o.Line.getNode(e.jce._lines(),h)?h:e.tree.selected;return(0,l.selectNode)(e,y)}return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.fixTcn=void 0;var a=n(62),r=n(40),i=n(41),o=n(17);t.fixTcn=function(e,t){var n=(0,a.createGame)({variant:e.variant,fen:o.Utils.getFirstFen(e)});return(0,i.loadFromTcn)(n,t,n.setup.fen),(0,r.getTcn)(n)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveBackward=void 0;var a=n(10);t.moveBackward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,a.selectNode)(e,e.tree.selected,-1*t,!1)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveForward=void 0;var a=n(10);t.moveForward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,a.selectNode)(e,e.tree.selected,t,!1)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveToEnd=void 0;var a=n(4),r=n(1),i=n(42),o=n(0);t.moveToEnd=function(e){return r.Line.isMainLine(e.tree.selected.line)||a.Game.selectLine(e,0),(0,i.selectLineEnd)(e),o.State.updateState(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.moveVariation=void 0;var a=n(2),r=n(1);t.moveVariation=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=r.Line.getLine(e.jce._lines(),t);if(i&&void 0!==i.parentId){var o=r.Line.getLine(e.jce._lines(),i.parentId)[i.atMoveNode],s=-1;if(o.lines.forEach(function(e,n){t===e&&(s=n)}),s>-1){var l=null;n&&s>0?(l=o.lines[s-1],o.lines[s-1]=t,o.lines[s]=l):!n&&s<o.lines.length-1&&(l=o.lines[s+1],o.lines[s+1]=t,o.lines[s]=l)}a.History.add(e.history,a.Events.TREE_CHANGE)}return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.promoteVariation=void 0;var a=n(4),r=n(1),i=n(0),o=n(2);t.promoteVariation=function(e,t){var n=t;void 0===n&&(n=e.tree.selected);var s=r.Line.getLine(e.jce._lines(),n.line);if(s&&void 0!==s.parentId)for(var l=n.move,u=function(){if(e.settings.mainLineIsImmutable&&r.Line.isMainLine(s.parentId))return"break";var t=r.Line.getLine(e.jce._lines(),s.parentId),n=r.Line.isContinuation(e.jce._lines(),s.id)?1:0,i=s[n]&&s[n].commentBefore,o=s.atMoveNode,u=s.slice(0);s.length=0,i&&t[o-1]&&(t[o-1].comment?(" "!==t[o-1].comment.substr(-1)&&(t[o-1].comment+=" "),t[o-1].comment+=i):t[o-1].comment=i,delete u[n].commentBefore,delete s.initComment);var c=t.slice(o),d=c[0].lines.map(function(e){return e});delete c[0].lines,c.forEach(function(t,n){t.lines&&t.lines.length&&t.lines.forEach(function(t){var a=r.Line.getLine(e.jce._lines(),t);a.parentId=s.id,a.atMoveNode=n})}),t.length=o,u.forEach(function(n){n.ids={line:t.id,move:t.length},n.lines&&n.lines.length&&n.lines.forEach(function(n){var a=r.Line.getLine(e.jce._lines(),n);a.parentId=t.id,a.atMoveNode=t.length}),t.push(n)}),c.forEach(function(e,t){e.ids={line:s.id,move:t},s.push(e)}),t[o].lines=d,t[o].lines.forEach(function(n){r.Line.getLine(e.jce._lines(),n).parentId=t.id}),a.Game.selectNode(e,{line:t.id,move:o+l}),s=r.Line.getLine(e.jce._lines(),s.parentId),l=o+l};void 0!==s.parentId;){if("break"===u())break}return e.jce.saveLines(e.tree.lines),o.History.add(e.history,o.Events.TREE_CHANGE),i.State.updateState(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.resetToMainLine=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(4),s=n(1),l=n(2),u=n(0),c=n(42);t.resetToMainLine=function(e){var t=(0,i.default)({},e.tree.selected);s.Line.isMainLine(e.tree.selected.line)||o.Game.selectLine(e,0),(0,c.selectLineEnd)(e);var n=e.tree.selected;return e.tree.lines.length=1,e.tree.lines=s.Line.rebuildIds(e.tree.lines),e.jce.saveLines(e.tree.lines),l.History.add(e.history,l.Events.JUMP_TO_POSITION,{from:t,to:n}),u.State.updateState(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updateMarkings=void 0;var a=n(61),r=(n(4),n(2)),i=(n(1),n(66)),o=n(67),s=n(68),l=n(0);t.updateMarkings=function(e){var t=e.arrow,n=e.effect,u=e.game,c=e.ids,d=e.square;return(0,a.clearMarkings)(u,c,!1),t&&(0,i.markArrow)(u,t,c,!1),n&&(0,o.markEffect)({game:u,effect:n,ids:c,updateState:!1}),d&&(0,s.markSquare)(u,d,c,!1),l.State.updateState(u),r.History.add(u.history,r.Events.TREE_CHANGE),u}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updateNode=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(1),s=n(2),l=n(0),u=n(33);t.updateNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],a=e.jce._lines(),r=o.Line.findNode(a,t);if(!r||!n||n.commentBefore&&!o.Line.isFirstVisibleNode(a,t))return null;var c=o.Line.getLine(a,t.line);if(void 0===n.commentBefore&&o.Line.isFirstVisibleNode(a,t)?delete c.initComment:n.commentBefore&&(c.initComment=n.commentBefore),n.annotation&&(n.annotation=(0,u.annotationExists)(r,n.annotation)?"":(0,u.normalizeAnnotation)(n.annotation)),n.additionalAnnotation){if(!(0,u.isNagFormat)(n.additionalAnnotation))return null;(0,u.additionalAnnotationExists)(r,n.additionalAnnotation)&&(n.additionalAnnotation=[]),n.additionalAnnotation=[].concat((0,u.normalizeAnnotation)(n.additionalAnnotation))}return(0,i.default)(r,n),s.History.add(e.history,s.Events.UPDATE_NODE,{line:t.line,move:t.move}),l.State.updateState(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updatePgnHeaders=void 0;var a,r=n(11),i=(a=r)&&a.__esModule?a:{default:a},o=n(4),s=n(2),l=n(0),u=n(17);t.updatePgnHeaders=function(e,t){if(!t)return null;var n=(0,i.default)(t).reduce(function(e,n){return"Date"===n&&"number"==typeof t[n]&&(t[n]=u.Utils.formatJSTimestampForPgn(t[n])),e.push(n),e.push(t[n]),e},[]);return o.Game.updateHeaders(e,n),s.History.add(e.history,s.Events.PGN_HEADERS_UPDATED),e.setup.result=l.State.getResult(e),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomAnimatedGif=t.getAnimatedGif=void 0;var a=_interopRequireDefault(n(43)),r=_interopRequireDefault(n(27)),i=_interopRequireDefault(n(8));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=function seekGifUntilReady(e,t){r.default.get(e).then(function(n){202===n.status?setTimeout(seekGifUntilReady.bind(null,e,t),2e3):200===n.status&&t(e)}).catch(function(){t(e)})};t.getAnimatedGif=function(e,t){var n=function(e,t){if(!["chess","chess960"].includes(e.toLowerCase()))return null;var n=t.match(/\/(daily|live)(?:\/game)?\/([0-9]+)/);return n?i.default.generate("web_game_get_gif_url",{type:n[1],id:parseInt(n[2],10)}):null}(e,t);return r.default.get(n).then(function(e){return new a.default(function(t){o(e.data,t)})})},t.getCustomAnimatedGif=function(e){var t=e.tcn,n=e.flip,s=e.isChess960,l=e.initialPosition,u=i.default.generate("web_game_callback_create_dyn_gif_url"),c={tcn:t,flip:n,isChess960:s,initialSetup:l};return r.default.post(u,c).then(function(e){return new a.default(function(t){o(e.data,t)})})}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.getAnimationType=function(e){return"battle"===e?"default":e}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.getAnimationTypes=function(e){if(!Array.isArray(e))return e;var t=e.findIndex(function(e){return"battle"===e.code});return t>-1&&e.splice(t,1),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getCoordinatePositioning=void 0;var a=n(14);t.getCoordinatePositioning=function(e){var t=a.coordinates.find(function(t){return[t.key,t.value].includes(e)});return t?t.value:null}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.getShareUrl=function(){var e=window.document.documentElement.lang,t=window.location,n=e.split("-")[0];return t.pathname.split("/")[1]===n||"en"===n?t.href:t.protocol+"//"+t.hostname+"/"+n+t.pathname}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.makeResizeEvent=function(){var e=void 0;return"function"==typeof Event?e=new Event("resize"):(e=document.createEvent("Event")).initEvent("resize",!1,!0),e}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.normalizeFen=function(e){var t=e;-1!==t.indexOf("|")&&(t=t.split("|")[0].trim());var n=t.split(" "),a=n[0].split("/");return a.length>8&&(a.pop(),n[0]=a.join("/"),t=n.join(" ")),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pieceChangeRequiresRefresh=void 0;var a=n(14);t.pieceChangeRequiresRefresh=function(e,t){var n=e===t,r=a.reloadRequired.pieces.indexOf(e)>-1||a.reloadRequired.pieces.indexOf(t)>-1;return!n&&r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ratingChangeAnimation=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a};t.ratingChangeAnimation=function(e,t){var n=(0,i.default)({},{animationDuration:500,framesPerSecond:60,initialRating:0,ratingChange:0},e),a=n.initialRating+n.ratingChange,r=n.initialRating,o=Math.abs(n.animationDuration/n.ratingChange),s=1e3/n.framesPerSecond,l=Math.round(Math.max(o,s)),u=n.animationDuration/l,c=Math.round(n.ratingChange/u);!function scheduleNextAnimation(){setTimeout(function(){(r=n.ratingChange>0?Math.min(a,r+c):Math.max(a,r+c))!==a&&scheduleNextAnimation(),t(r)},l)}()}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setBoardSize=void 0;var a=n(14);t.setBoardSize=function(e){var t=document.querySelector(a.domClasses.board);t&&"number"==typeof e&&(t.style.width=e+"px")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.showBoardResize=void 0;var a=n(14);t.showBoardResize=function(){var e=document.querySelector(a.domClasses.resize);e&&(e.style.visibility="visible")}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.validateSize=function(e,t,n,a){var r=Math.min(e,t);return r=Math.max(r,n),r=(r=Math.floor(r/a)*a)>=n?r:r+a}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(74),i=(a=r)&&a.__esModule?a:{default:a};function isNull(e){return null===e}function isUndefined(e){return void 0===e}function isObject(e){return!isNull(e)&&"object"===(void 0===e?"undefined":(0,i.default)(e))}t.default={isString:function(e){return"string"==typeof e},isFunction:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e},isNil:function(e){return isNull(e)||isUndefined(e)},isObject:isObject,isPlainObject:function(e){return!!isObject(e)&&(e.constructor&&"Object"===e.constructor.name)},isArray:function(e){return Array.isArray(e)},isError:function(e){if(!isObject(e))return!1;var t=Object.prototype.toString.call(e);return"[object Error]"===t||"[object DOMException]"===t},isUndefined:isUndefined}},,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.strings=t.routes=t.gateways=t.mounts=t.adyenErrorMessages=t.errorMessages=t.encryptedFields=t.adyenScript=void 0;var a=_interopRequireDefault(n(8)),r=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.adyenScript="https://checkoutshopper-test.adyen.com/checkoutshopper/assets/js/sdk/checkoutSecuredFields.1.5.0.min.js",t.encryptedFields=["encryptedCardNumber","encryptedExpiryMonth","encryptedExpiryYear","encryptedSecurityCode"];var i=t.errorMessages={blocked:r.default.trans("This card is blocked. Please try a different card."),cvvWrong:r.default.trans("Your CVV/CSV security code is wrong. Please check your card details and try again."),exceededLimit:r.default.trans("Your card has exceeded its limit. Please try a different card."),expired:r.default.trans("This card is expired. Please try a different card."),fraud:r.default.trans("Your transaction could not be processed at this time. Error 2777."),invalidNumber:r.default.trans("This card number is invalid. Please check your card details and try again."),invalidPin:r.default.trans("Your pin number is invalid. Please check your card details and try again."),transactionFailed:r.default.trans("Your transaction failed. Please check your card details and try again."),unacceptable:r.default.trans("This card is not accepted. Please try a different card.")};t.adyenErrorMessages={"3d-secure: Authentication failed":i.transactionFailed,"Acquirer Fraud":i.fraud,"Authentication Required":i.transactionFailed,"Blocked Card":i.blocked,Cancelled:i.transactionFailed,"CVC Declined":i.cvvWrong,Refused:i.transactionFailed,"Declined Non Generic":i.transactionFailed,"Acquirer Error":i.transactionFailed,"Expired Card":i.expired,FRAUD:i.fraud,"FRAUD-CANCELLED":i.fraud,"Invalid Amount":i.transactionFailed,"Invalid Card Number":i.invalidNumber,"Invalid Pin":i.invalidPin,"Issuer Suspected Fraud":i.fraud,"Issuer Unavailable":i.transactionFailed,"Not enough balance":i.exceededLimit,"Not Submitted":i.transactionFailed,"Not supported":i.unacceptable,Pending:i.transactionFailed,"Pin tries exceeded":i.invalidPin,"Pin validation not possible":i.invalidPin,Referral:i.transactionFailed,"Restricted Card":i.unacceptable,"Revocation Of Auth":i.unacceptable,"Shopper Cancelled":i.transactionFailed,"Withdrawal count exceeded":i.exceededLimit,"Withdrawal amount exceeded":i.exceededLimit,"Transaction Not Permitted":i.fraud,Unknown:i.transactionFailed},t.mounts={COUNTRY_SWITCHER:"payments-country-switcher",DISPLAY_PRICES:"payments-display-prices",HELP_MENU:"navigation-help-menu",PAYMENT_SHEET:"payment-sheet",PRODUCT_SWITCHER:"product-switcher",VUE_DATA_SEED:"vue-data-seed"},t.gateways={CARD:"card",PAYPAL:"paypal",LOCAL:"local"},t.routes={adyenPayWithCredit:function(){return a.default.generate("web_payment_adyen_pay_credit_card")},adyenUpdatePaymentMethod:function(){return a.default.generate("web_payment_adyen_authorise_card")},adyenPayWithLocal:function(e){return a.default.generate("web_payment_adyen_forward_local_payment",e)},giftMemberships:function(){return a.default.generate("web_gift_callback_memberships")},listStoredPaymentMethods:function(){return a.default.generate("web_payment_adyen_list_stored_payment_methods")},localPaymentMethods:function(e){return a.default.generate("web_payment_adyen_list_local_payments",e)},paypalMembershipPayment:function(e){return a.default.generate("web_payment_paypal_prepare_recurring",e)},paypalGiftPayment:function(e){return a.default.generate("web_payment_paypal_gift",e)}},t.strings={memberships:{diamond_yearly:r.default.trans("Diamond Membership (Yearly)"),diamond_monthly:r.default.trans("Diamond Membership (Monthly)"),platinum_yearly:r.default.trans("Platinum Membership (Yearly)"),platinum_monthly:r.default.trans("Platinum Membership (Monthly)"),gold_yearly:r.default.trans("Gold Membership (Yearly)"),gold_monthly:r.default.trans("Gold Membership (Monthly)")},gifts:{diamond_yearly:r.default.trans("Diamond Membership (1 Year)"),diamond_monthly:r.default.trans("Diamond Membership (1 Month)"),platinum_yearly:r.default.trans("Platinum Membership (1 Year)"),platinum_monthly:r.default.trans("Platinum Membership (1 Month)"),gold_yearly:r.default.trans("Gold Membership (1 Year)"),gold_monthly:r.default.trans("Gold Membership (1 Month)")}}},,,function(e,t,n){var a=n(73),r=n(46),i="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!r(e))return!1;var t=a(e);return t==o||t==s||t==i||t==l}},,function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(248),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(333),s=n(5);var l=function(e){this.$style=n(330)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},,,,,,,,,,,,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(28);t.default={methods:{$trans:a.trans,$transChoice:a.transChoice}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.benefits=t.translations=t.defaultModalProductPrices=t.defaultModalProducts=t.planLength=t.planLevels=t.productSkus=t.routes=t.mounts=t.events=void 0;var a,r=_interopRequireDefault(n(16)),i=_interopRequireDefault(n(8)),o=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.events={HIDE_MODAL:"hide-modal",SHOW_GIFT_MEMBERSHIP_MODAL:"show-gift-membership-modal"},t.mounts={AMPLITUDE:"amplitude",CURRENCY_SWITCHER:"currency-switcher",GIFT_FORM:"membership-gift-form",GIFT_AVATAR:"membership-avatar",HELP_MENU:"navigation-help-menu",MEMBERSHIP_CARD_PRICE_GOLD:"membership-card-price-gold",MEMBERSHIP_CARD_PRICE_PLATINUM:"membership-card-price-platinum",MEMBERSHIP_CARD_PRICE_DIAMOND:"membership-card-price-diamond",MEMBERSHIP_CARD_BUTTON_GOLD:"membership-card-button-gold",MEMBERSHIP_CARD_BUTTON_PLATINUM:"membership-card-button-platinum",MEMBERSHIP_CARD_BUTTON_DIAMOND:"membership-card-button-diamond",MEMBERSHIP_TABLE_BUTTON_GOLD:"membership-table-button-gold",MEMBERSHIP_TABLE_BUTTON_PLATINUM:"membership-table-button-platinum",MEMBERSHIP_TABLE_BUTTON_DIAMOND:"membership-table-button-diamond",MEMBERSHIP_TABLE_PLAN_SWITCHER_GOLD:"membership-table-plan-switcher-gold",MEMBERSHIP_TABLE_PLAN_SWITCHER_PLATINUM:"membership-table-plan-switcher-platinum",MEMBERSHIP_TABLE_PLAN_SWITCHER_DIAMOND:"membership-table-plan-switcher-diamond",VUE_DATA_SEED:"vue-data-seed"};var s=t.routes={analysis:function(){return i.default.generate("web_archive_index")},explorer:function(){return i.default.generate("explorer_index")},giftPayment:function(e){return i.default.generate("web_membership_gift",e)},lessons:function(){return i.default.generate("web_cm_mentor")},live:function(){return i.default.generate("web_live")},membershipPayment:function(e){return i.default.generate("web_payment_index",e)},payment:function(e){return i.default.generate("web_membership",e)},policiesAgreement:function(){return i.default.generate("web_policies_agreement")},puzzles:function(){return i.default.generate("web_tactic_index")},videos:function(){return i.default.generate("web_video_index")}},l=t.productSkus={DIAMOND_YEARLY:"diamond_yearly",DIAMOND_MONTHLY:"diamond_monthly",PLATINUM_YEARLY:"platinum_yearly",PLATINUM_MONTHLY:"platinum_monthly",GOLD_YEARLY:"gold_yearly",GOLD_MONTHLY:"gold_monthly"};t.planLevels={DIAMOND:"diamond",PLATINUM:"platinum",GOLD:"gold"},t.planLength={YEARLY:"yearly",MONTHLY:"monthly"},t.defaultModalProducts=[{sku:l.GOLD_MONTHLY,description:o.default.trans("1 Month Gold")},{sku:l.DIAMOND_MONTHLY,description:o.default.trans("1 Month Diamond")},{sku:l.DIAMOND_YEARLY,description:o.default.trans("1 Year Diamond")}],t.defaultModalProductPrices=(a={},(0,r.default)(a,l.GOLD_MONTHLY,"$5"),(0,r.default)(a,l.DIAMOND_MONTHLY,"$14"),(0,r.default)(a,l.DIAMOND_YEARLY,"$99"),a),t.translations={giftGive:function(e){return o.default.trans("Give the gift of chess to %user%!",{"%user%":e})},giftGiven:function(e){return o.default.trans("Gift Given to %user%!",{"%user%":e})},paymentTerms:function(){return o.default.trans('I agree to <a href="%href%" target="_blank">payment terms</a>.',{"%href%":s.policiesAgreement()})},thanksToYou:function(e){return o.default.trans("Thanks to you, %user% can now enjoy unlimited chess!",{"%user%":e})},membershipProduct:function(e,t,n){return o.default.trans("1 %duration% %product% (%amount%)",{"%duration%":e,"%product%":t.charAt(0).toUpperCase()+t.slice(1),"%amount%":n})}},t.benefits=[{id:1,label:o.default.trans("Unlimited Puzzles"),icon:"puzzle",link:s.puzzles},{id:2,label:o.default.trans("Unlimited Lessons"),icon:"lesson",link:s.lessons},{id:3,label:o.default.trans("Deep Analysis"),icon:"analysis",link:s.analysis},{id:4,label:o.default.trans("Video Lessons"),icon:"video",link:s.videos},{id:5,label:o.default.trans("Full Explorer"),icon:"explorer",link:s.explorer},{id:6,label:o.default.trans("Play Ad Free!"),icon:"noads",link:s.live}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(221),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(290),s=n(5);var l=function(e){this.$style=n(289)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(81),r=n(13),i=_interopRequireDefault(n(260)),o=_interopRequireDefault(n(220)),s=_interopRequireDefault(n(171));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return s.default.isString(e.value)?{content:e.value}:e.value};t.default={name:"tooltip",created:function(){this.active=null,this.instances=[]},beforeDestroy:function(){this.instances=null,this.clearTooltip()},methods:{bind:function(e,t){this.instances.push({element:e,options:l(t)}),e.addEventListener("mouseenter",this.showTooltip)},update:function(e,t){var n=this.instances.find(function(t){return t.element===e});n&&(n.options=l(t))},unbind:function(e){var t=this.instances.find(function(t){return t.element===e});t&&(this.active===t&&this.hideTooltip({target:t.element}),i.default.remove(this.instances,t),e.removeEventListener("mouseenter",this.showTooltip),e.removeEventListener("mouseleave",this.hideTooltip))},showTooltip:function(e){var t=this,n=e.target,i=this.instances.find(function(e){return e.element===n});if(i&&i.options&&i.options.content){var s=i.options.delay||400,l=i.options.position||"top",u=i.options.padding||0;this.clearTooltip(),i.element.classList.contains(r.refs.CONFIRM_OPEN)||(this.active=i,i.element.addEventListener("mouseleave",this.hideTooltip),this.showTimeout=o.default.setTimeout(function(){t.showFrame=window.requestAnimationFrame(function(){t.$refs&&t.$refs.content&&i.options&&(t.$refs.content.innerHTML=i.options.content),t.$el.classList.add(l),(0,a.positionTooltip)(i.element,t.$el,l,u)})},s)),i.options.closeOnScroll&&this.hideOnScroll(n)}},hideOnScroll:function(e){var t=this;window.addEventListener("scroll",function(){t.hideTooltip({target:e})})},hideTooltip:function(e){var t=this,n=e.target;this.instances.find(function(e){return e.element===n})&&(this.clearTooltip(),this.hideFrame=window.requestAnimationFrame(function(){t.$refs&&t.$refs.content&&(t.$refs.content.innerHTML=null),(0,a.removePositionStyle)(t.$el)}))},clearTooltip:function(){this.active&&(this.active.element.removeEventListener("mouseleave",this.hideTooltip),this.active=null),o.default.clearTimeout(this.showTimeout),window.cancelAnimationFrame(this.hideFrame),window.cancelAnimationFrame(this.showFrame),window.removeEventListener("scroll",this.hideOnScroll)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(43)),r=_interopRequireDefault(n(11)),i=_interopRequireDefault(n(21)),o=_interopRequireDefault(n(23));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function(){function ScriptLoader(){(0,i.default)(this,ScriptLoader),this.insert=this.loadScript(function(e,t){var n=document.createElement("script");return n.type="text/javascript",n.src=e,t&&(0,r.default)(t).forEach(function(e){n.setAttribute(e,t[e])}),document.body.appendChild(n),n})}return(0,o.default)(ScriptLoader,[{key:"loadScript",value:function(e){var t={};return function(n,r){if(void 0===t[n]){var i=new a.default(function(t,a){var i=e(n,r);i.onload=function(e){t(e)},i.onreadystatechange=i.onload,i.onerror=function(e){a(e)}});t[n]=i}return t[n]}}}]),ScriptLoader}();t.default=new s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.filteredFlair=t.searchFilters=t.hasSupportRole=t.getRole=t.getMembershipName=t.getMembershipNumber=t.getMemberLink=t.generateProfileLink=t.setShowAlertsOnHome=t.getFeatures=t.isValidHomeContentType=t.isValidArchiveView=t.onSelfMemberView=t.getAdditionalUserInfo=t.checkUserStatus=t.eligibleFirstTrial=t.isImpersonating=t.isEnabled=t.isLoggedIn=void 0;var a=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(338)),i=_interopRequireDefault(n(8)),o=n(50);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=window.context,l=t.isLoggedIn=function(){return!(!s||!s.user||(0,r.default)())},u=(t.isEnabled=function(){return!(!l()||!s.user.isEnabled)},t.isImpersonating=function(){return!(!l()||!s.user.isImpersonating)},t.eligibleFirstTrial=function(){return!(!l()||!s.user.eligibleFirstTrial)},t.checkUserStatus=function(e){if(!l())return!1;var t=!1;switch(e){case"isActivated":t=s.user.isActivated;break;case"isStaff":t=s.user.membershipLevel>=o.membership.staff;break;case"isStaffOnly":t=s.user.membershipLevel===o.membership.staff;break;case"isModerator":t=s.user.membershipLevel>=o.membership.moderator;break;case"isModeratorOnly":t=s.user.membershipLevel===o.membership.moderator;break;case"isDiamond":t=s.user.membershipLevel>=o.membership.diamond;break;case"isDiamondOnly":t=s.user.membershipLevel===o.membership.diamond;break;case"isPlatinum":t=s.user.membershipLevel>=o.membership.platinum;break;case"isPlatinumOnly":t=s.user.membershipLevel===o.membership.platinum;break;case"isSilver":t=s.user.membershipLevel>=o.membership.silver;break;case"isSilverOnly":t=s.user.membershipLevel===o.membership.silver;break;case"isGold":t=s.user.membershipLevel>=o.membership.gold;break;case"isGoldOnly":t=s.user.membershipLevel===o.membership.gold;break;case"isPremium":t=s.user.membershipLevel>=o.membership.silver;break;case"isBasic":t=s.user.membershipLevel===o.membership.basic;break;case"chessTitle":t=s.user.chessTitle;break;default:t=!1}return t},t.getAdditionalUserInfo=function(e){if(!l())return"diagramSettings"===e?{}:null;var t=!1;switch(e){case"getUserId":t=s.user.id;break;case"getUsername":t=s.user.username;break;case"getAvatarUrl":t=s.user.avatarUrl;break;case"getAvatarLargeUrl":t=s.user.avatarLargeUrl;break;case"getSettingsAvatarUrl":t=s.user.settingsAvatarUrl;break;case"getLastLoginDate":t=s.user.lastLoginDate;break;case"registerDate":t=s.user.registerDate;break;case"getBrowserTimezone":t=window.jstz.determine().name();break;case"getTimezone":t=s.user.timezone;break;case"getDiagramSettings":t=s.diagramSettings;break;case"language":t=s.i18n.locale;break;case"contentLanguage":t=s.i18n.contentLanguage;break;case"speaksEnglish":t="en_US"===s.i18n.locale;break;case"eligibleFirstTrial":t=s.user.eligibleFirstTrial;break;case"fairPlayAgree":t=s.user.fairPlayAgree;break;case"getArchiveView":t=s.user.archiveView?s.user.archiveView:"grid";break;case"homeContentType":t="following";break;case"showAlertsOnHome":t=s.user.showAlertsOnHome;break;case"getMembershipLevel":t=s.user.membershipLevel;break;case"isClassicTheme":t=s.user.isClassicTheme;break;case"isContentHidden":t=s.user.isContentHidden;break;case"isDarkMode":t=s.user.isDarkMode;break;case"safeMode":t=s.user.safeMode;break;case"uuid":t=s.user.uuid;break;default:t=!1}return t},t.onSelfMemberView=function(){return!!l()&&window.location.href===i.default.generate("web_member_view",{username:(void 0).getUsername()})},t.isValidArchiveView=function(e){return"grid"===e||"list"===e},t.isValidHomeContentType=function(e){return"following"===e||"my_activity"===e},t.getFeatures=function(){return l()?s.user.features:{}},t.setShowAlertsOnHome=function(e){return void 0===e?null:(s.user.showAlertsOnHome=e,s.user.showAlertsOnHome)},t.generateProfileLink=function(e){return e?'<a href="'+i.default.generate("web_member_view",{username:e})+'" target="_self">'+e+"</a>":""},t.getMemberLink=function(e,t){if(!e||!t)return"";switch(t){case"profile":return i.default.generate("web_member_view",{username:e});case"trophies":return i.default.generate("web_member_view",{username:e,view:"trophies"});case"stats":return i.default.generate("web_stats",{username:e});default:return i.default.generate("web_member_view",{username:e})}},t.getMembershipNumber=function(e,t){return!t&&e>=o.membership.basic?o.membership.unspecifiedClosed:e},t.getMembershipName=function(e){return(0,a.default)(o.membership).filter(function(t){return o.membership[t]===e||t===e})[0]},t.getRole=function(e){return window.constants.roles.find(function(t){return t.name.toLowerCase()===e.toLowerCase()})});t.hasSupportRole=function(e){var t=u("Support").role;return e.includes(t)},t.searchFilters={excludeByMembershipType:function(e,t){return t.user.membership_level!==e},excludeUsersWithComparisonArray:function(e,t){var n=t.user;if(-1===e.findIndex(function(e){return e.id===n.id}))return n}},t.filteredFlair=function(e,t){return e.filter(function(e){return e.flair.category===t})}},,function(e,t,n){var a=n(399),r=n(400),i=n(401),o=n(402),s=n(403);function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}ListCache.prototype.clear=a,ListCache.prototype.delete=r,ListCache.prototype.get=i,ListCache.prototype.has=o,ListCache.prototype.set=s,e.exports=ListCache},function(e,t,n){var a=n(203);e.exports=function(e,t){for(var n=e.length;n--;)if(a(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var a=n(232)(Object,"create");e.exports=a},function(e,t,n){var a=n(423);e.exports=function(e,t){var n=e.__data__;return a(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){e.exports=amplitudeDLL},function(e,t,n){var a=n(239),r=n(52),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var a=n(79),r=n(240),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i?a.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l}).call(t,n(88)(e))},function(e,t){var n=9007199254740991,a=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&a.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var a=n(241),r=n(242),i=n(243),o=i&&i.isTypedArray,s=o?r(o):a;e.exports=s},function(e,t){e.exports={component:"form-button-component",dark:"form-button-dark","x-small":"form-button-x-small",small:"form-button-small",large:"form-button-large","x-large":"form-button-x-large","full-width":"form-button-full-width",basic:"form-button-basic",darkMode:"form-button-darkMode",primary:"form-button-primary",info:"form-button-info",danger:"form-button-danger"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t=this,n=t.$createElement;return(t._self._c||n)("button",t._g({class:[t.componentClasses(),t.$style[t.size],t.$style[t.theme],(e={},e[t.$style["full-width"]]=t.fullWidth,e)],attrs:{disabled:t.disabled,type:t.type},on:{click:t.handleClick}},t.$listeners),[t._t("default")],2)},r=[]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(11)),r=n(13),i=_interopRequireDefault(n(7)),o=_interopRequireDefault(n(269)),s=_interopRequireDefault(n(272));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"pagination",components:{PaginationButton:o.default,PaginationSpread:s.default},props:{changePage:{type:Function,required:!0},currentPage:{type:Number,required:!0},hasMoreProp:{type:Boolean},morePages:{type:Boolean,default:!1},totalPages:{type:Number,default:0},scrollTo:{type:String},shouldHide:{type:Boolean,default:!1},showFirstLastButtons:{type:Boolean,default:!0},showTopButton:{type:Boolean,default:!1},updateURL:{type:Boolean,default:!1}},data:function(){return{tabLimit:4}},computed:{firstPage:function(){return 1===this.currentPage},lastPage:function(){return this.hasMoreProp?!1===this.morePages:this.currentPage===this.totalPages},lastPageIsHidden:function(){return!this.pages.includes(this.totalPages)},pages:function(){if(this.totalPages>1)return this.generatePagesFromTotalPages();if(this.hasMoreProp&&this.morePages&&1===this.currentPage)return[1,2];if(this.hasMoreProp&&this.morePages&&this.currentPage>1){for(var e=[],t=this.currentPage+1;t>0;t-=1)e.push(t);return e.reverse()}if(this.hasMoreProp&&!this.morePages){for(var n=[],a=this.currentPage;a>0;a-=1)n.push(a);return n.reverse()}},showLowerEllipsis:function(){return this.currentPage>1&&-1===this.pages.indexOf(1)&&!this.hasMoreProp},showPaginator:function(){return!this.shouldHide&&(!(!this.hasMoreProp&&this.totalPages<=1)&&!(this.hasMoreProp&&!this.morePages&&1===this.currentPage))},showUpperEllipsis:function(){return this.lastPageIsHidden&&!this.hasMoreProp}},methods:{serialize:function(e){return(0,a.default)(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},isSamePage:function(e){return this.currentPage===e},generatePagesFromTotalPages:function(){var e=[];if(this.totalPages<=this.tabLimit){for(var t=1;t<=this.totalPages;t+=1)e.push(t);return e}if(this.currentPage+this.tabLimit<=this.totalPages){for(var n=this.currentPage;n<this.currentPage+this.tabLimit;n+=1)e.push(n);return e}for(var a=this.totalPages;a>this.totalPages-4;a-=1)e.push(a);return e.reverse()},goToPageNumber:function(e){return this.isSamePage(e)?i.default.trans("Current Page, Page %pageNumber%",{"%pageNumber%":e}):i.default.trans("Page %pageNumber%",{"%pageNumber%":e})},goToTop:function(){var e=document.getElementById(this.scrollTo);e||(e=document.getElementById(r.refs.SCROLL_TOP_ANCHOR)),e.scrollIntoView({behavior:"smooth",block:"start"})}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(29)),r=_interopRequireDefault(n(12));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"pagination-button",components:{FormButton:a.default,IconFont:r.default},props:{content:{type:String,required:!1},isActive:{type:Boolean,default:!1},icon:{type:String,required:!1},isDisabled:{type:Boolean,default:!1}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"pagination-spread"}},function(e,t,n){var a=n(237)();e.exports=a},function(e,t,n){var a=n(238),r=n(207),i=n(115),o=n(208),s=n(209),l=n(210),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&r(e),d=!n&&!c&&o(e),f=!n&&!c&&!d&&l(e),p=n||c||d||f,m=p?a(e.length,String):[],h=m.length;for(var g in e)!t&&!u.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,h))||m.push(g);return m}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){e.exports={default:n(255),__esModule:!0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(262),i=(a=r)&&a.__esModule?a:{default:a};var o={};["setTimeout","setInterval","clearTimeout","clearInterval"].forEach(function(e){o[e]=i.default[e].bind(i.default)}),t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(54)),r=_interopRequireDefault(n(12)),i=_interopRequireDefault(n(36));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"form-input",components:{IconFont:r.default},directives:{tooltip:i.default},mixins:[a.default],props:{ariaLabel:String,autocomplete:String,autofocus:Boolean,disabled:{type:Boolean,default:!1,required:!1},iconLeft:{type:String,required:!1},iconLeftTooltip:{type:String,default:""},iconRight:{type:String,required:!1},iconRightTooltip:{type:String,default:""},id:String,maxlength:Number,name:String,placeholder:{type:String,required:!1},size:{type:String,required:!1},type:{type:String,default:"text"},value:{type:[String,Number],required:!1}},methods:{blurEvent:function(e){this.$emit("blur",e)},focusEvent:function(e){this.$emit("focus",e)},keyupEvent:function(e){this.$emit("keyup",e)},onIconClick:function(e){this.$emit("icon-click-"+e)},updateValue:function(e){this.$emit("input",e)}}}},function(e,t,n){var a=n(216),r=n(251);e.exports=function(e,t){return e&&a(e,t,r)}},function(e,t,n){var a=n(180);e.exports=function(e){return"function"==typeof e?e:a}},function(e,t,n){e.exports=n(6)(106)},function(e,t,n){e.exports=n(6)(33)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(385),r=_interopRequireDefault(n(45)),i=_interopRequireDefault(n(473));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n=t.value.src,r=t.value.srcset?(0,a.pixelDensity)(n)+" 2x":void 0;n&&e.setAttribute("src",n),r&&e.setAttribute("srcset",r),i.default.unobserve(e)};t.default={bind:function(e,t){r.default.$on("visibility-observer-change",function(n){n===e&&(o(e,t),e.dataset.visible=!0)}),i.default.observe(e)},componentUpdated:function(e,t){void 0!==e.dataset.visible&&o(e,t)}}},function(e,t,n){e.exports=n(6)(116)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(54)),r=_interopRequireDefault(n(12));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"form-select",components:{IconFont:r.default},mixins:[a.default],props:{ariaLabel:{type:String,required:!1},emptyOption:{type:String},icon:{type:String,default:"caret-down"},id:{type:String,required:!1},labelKey:{type:String,default:"label"},name:{type:String,required:!1},onChange:{type:Function,required:!1},options:{type:Array,required:!0},placeholderText:{type:String,required:!1},size:{type:String,required:!1},value:{type:[String,Number],required:!1},valueKey:{type:String,default:"value"}},methods:{getLabel:function(e){return this.labelKey?e[this.labelKey]:e},getValue:function(e){return this.valueKey?e[this.valueKey]:e},setSelectedOption:function(e){this.$emit("input",e),this.onChange&&this.onChange()}}}},,,,function(e,t,n){var a=n(409),r=n(413);e.exports=function(e,t){var n=r(e,t);return a(n)?n:void 0}},function(e,t,n){var a=n(285);e.exports=function(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},,function(e,t,n){e.exports=n(206)(17)},,function(e,t){e.exports=function(e){return function(t,n,a){for(var r=-1,i=Object(t),o=a(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===n(i[l],l,i))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}},function(e,t,n){var a=n(73),r=n(52),i="[object Arguments]";e.exports=function(e){return r(e)&&a(e)==i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var a=n(73),r=n(178),i=n(52),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&r(e.length)&&!!o[a(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var a=n(244),r="object"==typeof t&&t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===r&&a.process,s=function(){try{return o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}).call(t,n(88)(e))},function(e,t,n){e.exports=n(6)(180)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUserState=void 0,t.setPopoverPosition=function(e){var t=(0,a.isMobile)()&&window.innerWidth<768,n="transform: translate("+e.left+"px, "+e.top+"px);";t&&(n="transform: translateY("+e.top+"px);");return n};var a=n(96);t.defaultUserState=function(){return{avatarUrl:"",bestRating:0,bestRatingType:"",chessTitle:"",country:{},joinDate:"",lastLoginDate:"",membership:{},onlineStatus:"",username:""}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={modalStates:{select:"select",send:"send",sent:"sent"},types:{game:"game",social:"social"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(213),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(275),s=n(5);var l=function(e){this.$style=n(268)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(295),i=(a=r)&&a.__esModule?a:{default:a};t.default={name:"modal-content",components:{SectionContainer:i.default}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"section-container",props:{overflow:{type:String,required:!1}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(219)),i=_interopRequireDefault(n(25));t.default=function(e,t,n,s,l){var u=(0,i.default)(document.querySelectorAll(e)),c=[],d={};if(0===u.length)return c;var f=!0,p=!1,m=void 0;try{for(var h,g=(0,r.default)(u);!(f=(h=g.next()).done);f=!0){var b=h.value,v=!0;"function"==typeof n&&(d=n(b)),s&&(b.dataset[s]?v=!1:b.dataset[s]=!0);var _={el:b};if(l&&(_.store=l),v){var y=(0,a.default)(_,t,{propsData:d});c.push(new o.default(y))}}}catch(e){p=!0,m=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw m}}return c};var o=_interopRequireDefault(n(24));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var a=n(217),r=n(252),i=n(77);e.exports=function(e){return i(e)?a(e):r(e)}},function(e,t,n){var a=n(179),r=n(253),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return r(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var a=n(218)(Object.keys,Object);e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(317),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(477),s=n(5);var l=function(e){this.$style=n(476)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){n(224),n(225),e.exports=n(256)},function(e,t,n){var a=n(257),r=n(258);e.exports=n(92).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},function(e,t,n){e.exports=n(6)(7)},function(e,t,n){e.exports=n(6)(55)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.registerModules=void 0;var a=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(32));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.registerModules=function(e){(0,a.default)(e).forEach(function(t){var n=e[t];r.default.state&&r.default.state[t]||r.default.registerModule(t,n)})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(171),i=(a=r)&&a.__esModule?a:{default:a};var o=function(e,t){return i.default.isString(t)&&i.default.isObject(e)?e[t]:i.default.isFunction(t)?t(e):void 0},s=function(e,t,n,a){var r=o(e,n),i=o(t,n);return null===r||void 0===r?1:null===i||void 0===i?-1:r>i?"desc"===a?-1:1:r<i?"desc"===a?1:-1:0};t.default={remove:function(e,t){var n=i.default.isFunction(t)?e.findIndex(t):e.indexOf(t);-1!==n&&e.splice(n,1)},range:function(e,t){for(var n=[],a=e;a<t;a++)n.push(a);return n},uniq:function(e,t){return i.default.isFunction(t)?e.filter(function(n,a){return e.findIndex(function(e){return t(e)===t(n)})===a}):t?e.filter(function(n,a){return e.findIndex(function(e){return e[t]===n[t]})===a}):e.filter(function(t,n){return e.indexOf(t)===n})},sortBy:function(e,t,n){var a=i.default.isArray(t)?t:[t],r=i.default.isArray(n)?n:[n],o=e.slice(0);return o.sort(function(e,t){for(var n=0,i=0;i<a.length&&0===n;i++)n=s(e,t,a[i],r[i]);return n}),o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(197),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(263),s=n(5),l=Object(s.a)(r.a,o.a,o.b,!1,null,null,null);t.default=l.exports},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};t.default=n}).call(t,n(235))},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tooltip tip vue-tooltip"},[t("div",{staticClass:"arrow"}),this._v(" "),t("div",{ref:"content",staticClass:"inner"})])},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(316),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(475),s=n(5);var l=function(e){this.$style=n(474)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalPaymentMethods=function(e){return i.default.get(o.routes.localPaymentMethods(e))},t.getSavedPaymentMethods=function(){return i.default.get(o.routes.listStoredPaymentMethods())},t.getGiftMemberships=function(){return i.default.get(o.routes.giftMemberships())},t.submitAdyenPayment=function(e){return i.default.post(o.routes.adyenPayWithCredit(),e)},t.updateAdyenPaymentMethod=function(e){return i.default.post(o.routes.adyenUpdatePaymentMethod(),e)};var a,r=n(27),i=(a=r)&&a.__esModule?a:{default:a},o=n(173)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(228),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(298),s=n(5);var l=function(e){this.$style=n(297)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},,function(e,t){e.exports={component:"pagination-component",wrapper:"pagination-wrapper",pagination:"pagination-pagination",first:"pagination-first",prev:"pagination-prev",last:"pagination-last",next:"pagination-next",top:"pagination-top"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(214),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(271),s=n(5);var l=function(e){this.$style=n(270)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"pagination-button-component",icon:"pagination-button-icon",content:"pagination-button-content",disabled:"pagination-button-disabled",active:"pagination-button-active"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t,n=this,a=n.$createElement,r=n._self._c||a;return r("form-button",{class:[n.$style.component,(e={},e[n.$style.active]=n.isActive,e),(t={},t[n.$style.disabled]=n.isDisabled,t)],attrs:{rel:"nofollow","aria-selected":n.isActive}},[n.icon?r("icon-font",{class:n.$style.icon,attrs:{name:n.icon}}):n._e(),n._v(" "),n.content?r("span",{class:n.$style.content},[n._v("\n    "+n._s(n.content)+"\n  ")]):n._e()],1)},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(215),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(274),s=n(5);var l=function(e){this.$style=n(273)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"pagination-spread-component",content:"pagination-spread-content"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.$style.component},[t("span",{class:this.$style.content},[this._v("...")])])},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component},[e.showTopButton?n("pagination-button",{class:e.$style.top,attrs:{icon:"chevron-up","aria-label":e.$trans("Back to Top"),content:e.$trans("Top")},nativeOn:{click:function(t){return e.goToTop()}}}):e._e(),e._v(" "),e.showPaginator?n("nav",{class:e.$style.pagination},[e.firstPage||e.hasMoreProp||!e.showFirstLastButtons?e._e():n("pagination-button",{class:e.$style.first,attrs:{"aria-label":e.$trans("First Page"),content:e.$trans("First")},nativeOn:{click:function(t){return e.changePage(1)}}}),e._v(" "),n("pagination-button",{class:e.$style.prev,attrs:{icon:"chevron-left","aria-label":e.$trans("Previous Page"),"is-disabled":e.firstPage},nativeOn:{click:function(t){return e.changePage(e.currentPage-1)}}}),e._v(" "),e.showLowerEllipsis?n("pagination-spread"):e._e(),e._v(" "),e._l(e.pages,function(t,a){return n("pagination-button",{key:a,attrs:{"aria-label":e.goToPageNumber(t),content:t.toString(),"is-active":e.isSamePage(t),"is-disabled":e.isSamePage(t)},nativeOn:{click:function(n){return e.changePage(t)}}})}),e._v(" "),e.showUpperEllipsis?n("pagination-spread"):e._e(),e._v(" "),n("pagination-button",{class:e.$style.next,attrs:{icon:"chevron-right","aria-label":e.$trans("Next Page"),"is-disabled":e.lastPage},nativeOn:{click:function(t){return e.changePage(e.currentPage+1)}}}),e._v(" "),e.lastPage||e.hasMoreProp||!e.showFirstLastButtons?e._e():n("pagination-button",{class:e.$style.last,attrs:{"aria-label":e.$trans("Last Page"),content:e.$trans("Last")},nativeOn:{click:function(t){return e.changePage(-1)}}})],2):e._e()],1)},r=[]},,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(21)),r=_interopRequireDefault(n(23)),i=_interopRequireDefault(n(352)),o=_interopRequireDefault(n(353));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function(){function AmplitudeLogger(){(0,a.default)(this,AmplitudeLogger)}return(0,r.default)(AmplitudeLogger,[{key:"init",value:function(){if(this.initialized)return!0;var e=window.context||{};return i.default.getInstance().init(e.amplitudeKey,null,{includeUtm:!0,includeReferrer:!0,includeGclid:!0}),null!=e&&null!=e.user&&i.default.getInstance().setUserId(e.user.id),this.initialized=!0,!0}},{key:"logEvent",value:function(e,t,n,a){var r=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.init()?(this.setUserProperties(n),this.incrementUserProperties(a),i.default.getInstance().logEvent(e,t||{})):o<3&&setTimeout(function(){r.logEvent(e,t,n,a,o+1)},1e3)}},{key:"setUserProperties",value:function(e){this.init()&&null!=e&&i.default.getInstance().setUserProperties(e)}},{key:"incrementUserProperties",value:function(e){if(this.init()&&null!=e){var t=new i.default.Identify;(0,o.default)(e,function(e,n){t.add(n,e)}),i.default.getInstance().identify(t)}}},{key:"logSocialShare",value:function(){this.logEvent("Social - SocialShare",null,null,{numSocialShares:1})}},{key:"logOnboardChangeAvatar",value:function(e){this.logEvent("Onboard - Avatar",null,{hasAvatar:e})}},{key:"logOnboardChangeTheme",value:function(e){this.logEvent("Onboard - Theme",null,{themeName:e})}},{key:"logAccountClose",value:function(e){this.logEvent("User - AccountClose",e)}},{key:"logStartCheckout",value:function(e){var t=e.plan,n=e.version,a=e.userProps;this.logEvent("Upgrade - Checkout",{plan:t,version:n},a)}},{key:"logSubmitPayment",value:function(e){this.logEvent("Upgrade - SubmitPayment",{auth:e})}},{key:"logVideoComplete",value:function(e,t,n,a){this.logEvent("Videos - Complete",{skillLevels:e,category:t,title:n,author:a})}},{key:"logVideoStart",value:function(e,t,n,a){this.logEvent("Videos - Start",{skillLevels:e,category:t,title:n,author:a},null,{numVideos:1})}}]),AmplitudeLogger}();t.default=new s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.translations=t.routes=t.getCustomGameTypeFromString=t.getTimeOptionFromString=t.getLiveTimeControl=void 0;var a=_interopRequireDefault(n(219)),r=_interopRequireDefault(n(3)),i=n(296),o=n(337),s=_interopRequireDefault(n(32)),l=_interopRequireDefault(n(27)),u=_interopRequireDefault(n(7)),c=_interopRequireDefault(n(8)),d=_interopRequireDefault(n(227));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var f="{0} 0 days|{1} 1 day|]1,Inf] %1$s% days",p="{0} 0 min|{1} 1 min|]1,Inf] %1$s% min",m=[{label:u.default.transChoice(f,1,{"%1$s%":1}),days:1},{label:u.default.transChoice(f,2,{"%1$s%":2}),days:2},{label:u.default.transChoice(f,3,{"%1$s%":3}),days:3},{label:u.default.transChoice(f,5,{"%1$s%":5}),days:5},{label:u.default.transChoice(f,7,{"%1$s%":7}),days:7},{label:u.default.transChoice(f,10,{"%1$s%":10}),days:10},{label:u.default.transChoice(f,14,{"%1$s%":14}),days:14}],h=[{label:u.default.transChoice(p,1,{"%1$s%":1}),minutes:1,seconds:0},{label:"2 | 1",minutes:2,seconds:1},{label:u.default.transChoice(p,3,{"%1$s%":3}),minutes:3,seconds:0,defaultVariant:!0},{label:"3 | 2",minutes:3,seconds:2},{label:u.default.transChoice(p,5,{"%1$s%":5}),minutes:5,seconds:0},{label:"5 | 5",minutes:5,seconds:5},{label:u.default.transChoice(p,10,{"%1$s%":10}),minutes:10,seconds:0},{label:"15 | 10",minutes:15,seconds:10},{label:u.default.transChoice(p,30,{"%1$s%":30}),minutes:30,seconds:0},{label:"45 | 45",minutes:45,seconds:45}],g={label:u.default.trans("Custom"),customTime:!0,minutes:null,seconds:null},b="]1,Inf] %num% hours",v=[{key:null,value:u.default.trans("Any")},{key:43200,value:u.default.transChoice(b,12,{"%num%":12})},{key:21600,value:u.default.transChoice(b,6,{"%num%":6})},{key:10800,value:u.default.transChoice(b,3,{"%num%":3})}],_=[{label:u.default.trans("Random"),value:"0"},{label:u.default.trans("White"),value:"1"},{label:u.default.trans("Black"),value:"2"}],y=t.getLiveTimeControl=function(e){var t=void 0,n=void 0;"string"==typeof e&&e.indexOf(",")>0?(t=parseInt(e.substr(0,e.indexOf(",")),10),n=parseInt(e.substr(e.indexOf(",")+1),10)):(t=parseInt(e,10),n=0);var a=h.findIndex(function(e){return e.minutes===t&&e.seconds===n});return h[a=a>-1?a:0]},w=t.getTimeOptionFromString=function(e){var t=e.indexOf("d");if(-1!==t&&(t=parseInt(e.substr(t+2),10),!isNaN(t)))return m.find(function(e){return e.days===t})},M=t.getCustomGameTypeFromString=function(e){var t=e.substr(e.indexOf("|")+1);return o.gameTypes.find(function(e){return e.value===t})},E={username:u.default.trans("Random"),avatar_url:i.Config.noAvatar},k=(t.routes={allTournaments:c.default.generate("web_tournaments_all"),webLive:c.default.generate("web_live")},t.translations={chessComFriends:u.default.trans("Chess.com Friends"),customChallenge:u.default.trans("Custom Challenge"),email:u.default.trans("Email"),facebook:u.default.trans("Facebook"),joinATournament:u.default.trans("Join a Tournament"),openChallenges:u.default.trans("Open Challenges"),playAFriend:u.default.trans("Play a Friend"),recentOpponents:u.default.trans("Recent Opponents"),twitter:u.default.trans("Twitter")},[50,100,150,200,400,u.default.trans("Any")]),O=[-50,-100,-150,-200,-400,u.default.trans("Any")];t.default={customTimeOption:g,dailyTimeOptions:m,daysKey:f,gameTypeValues:{custom:"custom",book:"book",chess:"chess",chess960:"chess960"},gameTypes:o.gameTypes,getDefaultNewGame:function(){var e=d.default.get("sidebar_challenge_time"),t={name:"",timeVariant:(0,r.default)({},h[6]),gameType:(0,r.default)(o.gameTypes[0]),dailyOnly:!1,isRated:!0,takeback:!1,daysPerMove:null,opponent:null,isRandom:!0,minGamesPlayed:0,avoidTimeouts:!1,premiumMembersOnly:!1,moveSpeed:(0,r.default)(v[0]),playerColor:(0,r.default)(_[0]),rating:{minRatingDelta:-200,maxRatingDelta:200}};if(e){if("live"===e.variant){var n=d.default.get("live_control",!0);n?t.timeVariant=y(n):(l.default.get(c.default.generate("web_game_callback_live_control")).then(function(e){d.default.set("live_control",e.data,!0)}),e.timeVariant&&null!=e.timeVariant.minutes&&(t.timeVariant=e.timeVariant))}else e.timeVariant?t.timeVariant=e.timeVariant:e.index&&(t.timeVariant=m[e.index]);if("daily"===e.variant){var i=!0,s=!1,u=void 0;try{for(var f,p=(0,a.default)(["moveSpeed","minGamesPlayed","avoidTimeouts"]);!(i=(f=p.next()).done);i=!0){var g=f.value;e[g]&&(t[g]=e[g])}}catch(e){s=!0,u=e}finally{try{!i&&p.return&&p.return()}finally{if(s)throw u}}}}var b=decodeURIComponent(window.location.hash);if(b){var E=w(b),k=M(b);E&&(t.timeVariant=E),k&&(t.gameType=k)}return t},iconClass:function(e){return"chess960"===e.value&&s.default.getters["newGame/isLiveGameType"]?"live960":""+e.icon},maxRating:k,minKey:p,minRating:O,liveTimeOptions:h,moveSpeedOptions:v,positionPreview:{board:"green",fen:"8/8/8/8/8/8/8/8",flipBoard:!1,piece:"alpha",size:"20"},playerColors:_,randomUser:E}},,function(e,t,n){e.exports=n(6)(4)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.generateUrl=t.assetDomain=void 0;var a,r=n(318),i=(a=r)&&a.__esModule?a:{default:a};var o=t.assetDomain=window.Config?window.Config["domain.static"]:"localhost:8081",s=void 0;s=window.Config&&window.Config["domain.static"]?"https":"http";t.generateUrl=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;return(t?n+"://"+o:"")+"/"+(null!=i.default[e]?i.default[e]:e)}},function(e,t,n){var a=n(232)(n(79),"Map");e.exports=a},function(e,t,n){var a=n(233),r=n(203);e.exports=function(e,t,n){(void 0===n||r(e[t],n))&&(void 0!==n||t in e)||a(e,t,n)}},function(e,t,n){var a=n(232),r=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,n){var a=n(218)(Object.getPrototypeOf,Object);e.exports=a},function(e,t){e.exports=function(e,t){return"__proto__"==t?void 0:e[t]}},function(e,t,n){var a=n(217),r=n(440),i=n(77);e.exports=function(e){return i(e)?a(e,!0):r(e)}},function(e,t){e.exports={component:"form-input-component",darkMode:"form-input-darkMode",input:"form-input-input",textarea:"form-input-textarea",wrapper:"form-input-wrapper",icon:"form-input-icon",left:"form-input-left",right:"form-input-right",large:"form-input-large"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t,n=this,a=n.$createElement,r=n._self._c||a;return r("div",{class:n.componentClasses()},[n.iconLeft?r("icon-font",{directives:[{name:"tooltip",rawName:"v-tooltip",value:n.iconLeftTooltip,expression:"iconLeftTooltip"}],class:[n.$style.icon,n.$style.left],attrs:{"is-dark-mode":n.isDarkMode,name:n.iconLeft,theme:"primary"},on:{click:function(e){return n.onIconClick("left")}}}):n._e(),n._v(" "),r("input",{class:[n.$style.input,(e={},e[n.$style.left]=n.iconLeft,e),(t={},t[n.$style.right]=n.iconRight,t),n.$style[n.size]],attrs:{"aria-label":n.ariaLabel,autocomplete:n.autocomplete,autofocus:n.autofocus,id:n.id,maxlength:n.maxlength,name:n.name,placeholder:n.placeholder,readonly:n.disabled,type:n.type},domProps:{value:n.value},on:{blur:function(e){return n.blurEvent(e)},focus:function(e){return n.focusEvent(e)},input:function(e){return n.updateValue(e.target.value)},keyup:function(e){return n.keyupEvent(e)}}}),n._v(" "),n.iconRight?r("icon-font",{directives:[{name:"tooltip",rawName:"v-tooltip",value:n.iconRightTooltip,expression:"iconRightTooltip"}],class:[n.$style.icon,n.$style.right],attrs:{"is-dark-mode":n.isDarkMode,name:n.iconRight},on:{click:function(e){return n.onIconClick("right")}}}):n._e()],1)},r=[]},function(e,t,n){var a=n(302),r=n(303),i=n(304).f;e.exports=function(e){return function(t){for(var n,o=r(t),s=a(o),l=s.length,u=0,c=[];l>u;)i.call(o,n=s[u++])&&c.push(e?[n,o[n]]:o[n]);return c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(293),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(455),s=n(5);var l=function(e){this.$style=n(454)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(12),i=(a=r)&&a.__esModule?a:{default:a};t.default={name:"section-title",components:{IconFont:i.default},props:{icon:{type:String,required:!1}},methods:{close:function(e){this.$emit("close",e)}}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(249),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(332),s=n(5);var l=function(e){this.$style=n(331)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0;var a=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(21));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.Config=(new function Configuration(){(0,r.default)(this,Configuration);var e=(0,a.default)({},window.Config);e.MainDomain||(e.MainDomain=e["domain.main"]),e.StaticDomain||(e.StaticDomain=e["domain.static"]),e.FilesDomain||(e.FilesDomain=e["domain.files"]),e.LiveDomain||(e.LiveDomain=e["domain.live"]),e.LiveWebSocketDomain||(e.LiveWebSocketDomain=e["domain.livews"]),e.LiveSecureWebSocketDomain||(e.LiveSecureWebSocketDomain=e["domain.livewss"]),e.VoiceDomain||(e.VoiceDomain=e["domain.voice"]),e.CssJsDomain||(e.CssJsDomain=e["domain.cssjs"]),e.ImagesDomain||(e.ImagesDomain=e["domain.images"]),e.AvatarsDomain||(e.AvatarsDomain=e["domain.avatars"]),e.ChessBoardAssetsDomain||(e.ChessBoardAssetsDomain="//images.chesscomfiles.com/chess-themes"),e.ChessBoardLocalAssetsDomain||(e.ChessBoardLocalAssetsDomain="bundles/web/images/chess-themes/pieces"),e.AppVersion||(e.AppVersion=e["application.version"]),e.AppVersion||(e.AppVersion=Math.floor(1e4*Math.random())+1e4),e.DocumentRoot||(e.DocumentRoot=""),void 0===e.oldThemes&&(e.oldThemes=!0),e.GfxUrl||(e.GfxUrl=e.ChessBoardAssetsDomain),e.GfxLocalUrl||(e.GfxLocalUrl=e.ChessBoardLocalAssetsDomain),e.ChessBoardPiecesPath||(e.ChessBoardPiecesPath="/pieces"),e.ChessBoardBackgroundsPath||(e.ChessBoardBackgroundsPath="/boards"),e.ChessBoardArrowsPath||(e.ChessBoardArrowsPath="/arrows"),e.AudioSet||(e.AudioSet="default"),e.AudioUrl||(e.AudioUrl=e.ChessBoardAssetsDomain+"/sounds/"),e.DiagramGetPostUrl||(e.DiagramGetPostUrl="/api/get_diagram"),e.DailyPuzzleGetUrl||(e.DailyPuzzleGetUrl="/api/get_puzzle"),this.config=e}).config},function(e,t){e.exports={icon:"form-select-icon",large:"form-select-large",component:"form-select-component",darkMode:"form-select-darkMode"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.componentClasses()},[n("select",{class:e.$style[e.size],attrs:{"aria-label":e.ariaLabel,id:e.id,name:e.name},on:{change:function(t){return e.setSelectedOption(t.target.value)}}},[e.placeholderText?n("option",{attrs:{disabled:"",hidden:"",selected:"",value:""}},[e._v("\n      "+e._s(e.placeholderText)+"\n    ")]):e._e(),e._v(" "),e.emptyOption?n("option",{attrs:{selected:"",value:""}},[e._v("\n      "+e._s(e.emptyOption)+"\n    ")]):e._e(),e._v(" "),e._l(e.options,function(t,a){return n("option",{key:a,attrs:{disabled:t.disabled,hidden:t.hidden},domProps:{selected:e.getValue(t)===e.value,value:e.getValue(t)}},[e._v(e._s(e.getLabel(t))+"\n    ")])})],2),e._v(" "),n("icon-font",{class:e.$style.icon,attrs:{theme:"primary",name:e.icon}})],1)},r=[]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(463)),r=_interopRequireDefault(n(54));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"form-textarea",mixins:[r.default],props:{ariaLabel:{type:String,required:!1},autosize:{type:Boolean,default:!1},onEnter:{type:Function,required:!1},name:{type:String,required:!1},placeholder:{type:String,required:!1},value:{type:String,required:!1}},mounted:function(){this.autosize&&((0,a.default)(this.$el),this.$el.addEventListener("autosize:resized",this.resizeEvent))},beforeDestroy:function(){this.autosize&&this.$el.removeEventListener("autosize:resized",this.resizeEvent)},methods:{blurEvent:function(e){this.$emit("blur",e)},focusEvent:function(e){this.$emit("focus",e)},handleEnter:function(e){var t=this;this.onEnter&&!e.shiftKey&&(e.preventDefault(),this.onEnter(),this.$nextTick(function(){a.default.update(t.$el)}))},resizeEvent:function(){var e=this;this.$nextTick(function(){e.$emit("resize")})},updateValue:function(e){this.$emit("input",e)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(36),i=(a=r)&&a.__esModule?a:{default:a};t.default={name:"country-flag",directives:{tooltip:i.default},props:{code:{type:[Number,String],required:!1},name:{type:[String,Object],required:!1},size:{type:String,required:!1}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(467),i=n(86),o=n(452),s=(a=o)&&a.__esModule?a:{default:a};var l=void 0;t.default={name:"modal-container",props:{boardClass:{type:String,default:""},closeOnBackgroundClick:{type:Boolean,default:!0},easeTransition:{type:Boolean,default:!0},transition:{type:Object}},data:function(){return{componentStyleTop:"calc(50% + 0px)",visible:!1}},computed:{componentClasses:function(){var e=[this.$style["chessboard-mirror"]];return this.visible||e.push(this.$style["no-pointer-events"]),this.easeTransition&&e.push(this.$style.transition),e}},created:function(){l=(0,s.default)(this.onResize,100),window.addEventListener("resize",l)},beforeDestroy:function(){window.removeEventListener("resize",l)},methods:{hide:function(){this.visible=!1},onBackgroundClick:function(){this.closeOnBackgroundClick&&this.hide()},onResize:function(){var e=this.$refs["chessboard-mirror"],t=document.getElementsByClassName(this.boardClass)[0]||(0,i.getBoardElement)(),n={height:t.clientHeight,width:t.clientWidth};if(e&&(e.style.height=n.height+"px",e.style.width=n.width+"px"),this.$refs.content){var a=this.$refs.content.children[0]||this.$refs.content;this.componentStyleTop=(0,r.calculateChessboardStyleTop)({boardHeight:n.height,modalHeight:a.getBoundingClientRect().height})}},show:function(e){this.onResize(e),this.visible=!0}}}},function(e,t,n){e.exports=n(6)(14)},function(e,t,n){e.exports=n(6)(15)},function(e,t,n){e.exports=n(6)(32)},,,,,,,,,,,,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"form-checkbox",props:{disabled:{type:Boolean,default:!1},id:{type:String},label:{type:String,required:!0},name:{type:String,required:!0},value:{type:Boolean,required:!0}},methods:{setCheckboxStatus:function(e){this.$emit("input",e)}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"loader-three-bounce",props:{isCircle:{type:Boolean,default:!1},size:{type:Number,default:80}},computed:{dotCss:function(){var e=Math.round(this.size/4)+"px";return{width:e,height:e}}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={"bundles/web/images/game-preview-loading.png":"bundles/web/images/game-preview-loading.2353fe0e.png","bundles/web/images/image-default.svg":"bundles/web/images/image-default.52fd5825.svg","bundles/web/images/noavatar_l.gif":"bundles/web/images/noavatar_l.1c5172d5.gif","bundles/web/images/user-image.svg":"bundles/web/images/user-image.152ee336.svg","bundles/web/images/web/learn-to-play.png":"bundles/web/images/web/learn-to-play.a9d88ae4.png","bundles/web/images/web/tablet.jpg":"bundles/web/images/web/tablet.4872af4c.jpg","bundles/web/images/svg/tic.svg":"bundles/web/images/svg/tic.b039b4f5.svg","bundles/web/images/svg/white-tic.svg":"bundles/web/images/svg/white-tic.18d3027b.svg","bundles/web/images/webgl_data/2d/arcade/active-field-black-glow.png":"bundles/web/images/webgl_data/2d/arcade/active-field-black-glow.ea7d98d9.png","bundles/web/images/webgl_data/2d/arcade/active-field-white-glow.png":"bundles/web/images/webgl_data/2d/arcade/active-field-white-glow.867e6c48.png","bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.f0a77302.json","bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.0cf6d570.png","bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.3c3eb885.json","bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.4e79b1a9.png","bundles/web/images/webgl_data/2d/arcade/check-lightning-small.json":"bundles/web/images/webgl_data/2d/arcade/check-lightning-small.29ffee8a.json","bundles/web/images/webgl_data/2d/arcade/check-lightning-small.png":"bundles/web/images/webgl_data/2d/arcade/check-lightning-small.abaaaba6.png","bundles/web/images/webgl_data/2d/arcade/check-lightning.json":"bundles/web/images/webgl_data/2d/arcade/check-lightning.9818146c.json","bundles/web/images/webgl_data/2d/arcade/check-lightning.png":"bundles/web/images/webgl_data/2d/arcade/check-lightning.42bc11f2.png","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.090095b9.json","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.a431792e.png","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.8e89a03e.json","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.96959658.png","bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-black.png":"bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-black.a3ff3c40.png","bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-white.png":"bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-white.00865055.png","bundles/web/images/webgl_data/2d/arcade/lightning-horizontal.png":"bundles/web/images/webgl_data/2d/arcade/lightning-horizontal.1b8170ba.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.d04ec1d5.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.03f99647.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.16dcf372.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.bf4b7cb0.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.2f52761e.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.c39bce60.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.e1f5d8cf.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.d92f0846.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.8d776f5a.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.68ba88d7.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.e4b8d4a8.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.26aabdb5.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.46ff1e1e.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.9e9315f9.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.d2c18ae4.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.2392af81.png","bundles/web/images/webgl_data/2d/arcade/select-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/select-lightning-black.3407e009.json","bundles/web/images/webgl_data/2d/arcade/select-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/select-lightning-black.39c57082.png","bundles/web/images/webgl_data/2d/arcade/select-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/select-lightning-white.6c02602b.json","bundles/web/images/webgl_data/2d/arcade/select-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/select-lightning-white.a9276bf6.png","bundles/web/images/webgl_data/2d/capture-dust.json":"bundles/web/images/webgl_data/2d/capture-dust.221e5b9d.json","bundles/web/images/webgl_data/2d/capture-dust.png":"bundles/web/images/webgl_data/2d/capture-dust.ef9609a5.png","bundles/web/images/webgl_data/2d/dust-big.json":"bundles/web/images/webgl_data/2d/dust-big.3978c9b2.json","bundles/web/images/webgl_data/2d/dust-big.png":"bundles/web/images/webgl_data/2d/dust-big.fd8bd34a.png","bundles/web/images/webgl_data/2d/dust-regular.json":"bundles/web/images/webgl_data/2d/dust-regular.c277df9e.json","bundles/web/images/webgl_data/2d/dust-regular.png":"bundles/web/images/webgl_data/2d/dust-regular.572cbeda.png","bundles/web/images/webgl_data/2d/dust-small.json":"bundles/web/images/webgl_data/2d/dust-small.e988c379.json","bundles/web/images/webgl_data/2d/dust-small.png":"bundles/web/images/webgl_data/2d/dust-small.1823dc89.png","bundles/web/images/webgl_data/2d/field-shadow.png":"bundles/web/images/webgl_data/2d/field-shadow.3bc33464.png","bundles/web/images/webgl_data/2d/hand.json":"bundles/web/images/webgl_data/2d/hand.a9ba7da1.json","bundles/web/images/webgl_data/2d/hand.png":"bundles/web/images/webgl_data/2d/hand.d29386ce.png","bundles/web/images/webgl_data/3d/board/board.json":"bundles/web/images/webgl_data/3d/board/board.f425db44.json","bundles/web/images/webgl_data/3d/board/textures/board_8_bit_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_8_bit_notation.cfa9ac6d.png","bundles/web/images/webgl_data/3d/board/textures/board_8_bit.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_8_bit.b72f179d.jpg","bundles/web/images/webgl_data/3d/board/textures/board_bases_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_bases_notation.3daa152d.png","bundles/web/images/webgl_data/3d/board/textures/board_bases.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_bases.6eaa66c8.jpg","bundles/web/images/webgl_data/3d/board/textures/board_blackwhite_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_blackwhite_notation.891f06f1.png","bundles/web/images/webgl_data/3d/board/textures/board_blackwhite.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_blackwhite.3424af95.jpg","bundles/web/images/webgl_data/3d/board/textures/board_blue_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_blue_notation.9f04aafc.png","bundles/web/images/webgl_data/3d/board/textures/board_blue.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_blue.447257d8.jpg","bundles/web/images/webgl_data/3d/board/textures/board_brown_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_brown_notation.49a8d51e.png","bundles/web/images/webgl_data/3d/board/textures/board_brown.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_brown.711a0854.jpg","bundles/web/images/webgl_data/3d/board/textures/board_bubblegum_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_bubblegum_notation.efe1647b.png","bundles/web/images/webgl_data/3d/board/textures/board_bubblegum.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_bubblegum.7d346582.jpg","bundles/web/images/webgl_data/3d/board/textures/board_burled_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_burled_wood_notation.cf4ed166.png","bundles/web/images/webgl_data/3d/board/textures/board_burled_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_burled_wood.98dd7c53.jpg","bundles/web/images/webgl_data/3d/board/textures/board_dark_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_dark_wood_notation.36997ff4.png","bundles/web/images/webgl_data/3d/board/textures/board_dark_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_dark_wood.257d7b7a.jpg","bundles/web/images/webgl_data/3d/board/textures/board_dash_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_dash_notation.cda1f46d.png","bundles/web/images/webgl_data/3d/board/textures/board_dash.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_dash.53ee669f.jpg","bundles/web/images/webgl_data/3d/board/textures/board_glass_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_glass_notation.94079474.png","bundles/web/images/webgl_data/3d/board/textures/board_glass.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_glass.0dbc25f8.jpg","bundles/web/images/webgl_data/3d/board/textures/board_graffiti_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_graffiti_notation.39f6e28b.png","bundles/web/images/webgl_data/3d/board/textures/board_graffiti.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_graffiti.0cfddf0c.jpg","bundles/web/images/webgl_data/3d/board/textures/board_green_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_green_notation.28925781.png","bundles/web/images/webgl_data/3d/board/textures/board_green.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_green.a01697c4.jpg","bundles/web/images/webgl_data/3d/board/textures/board_grey_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_grey_notation.44de850c.png","bundles/web/images/webgl_data/3d/board/textures/board_grey.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_grey.b46fd703.jpg","bundles/web/images/webgl_data/3d/board/textures/board_icy_sea_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_icy_sea_notation.752a669d.png","bundles/web/images/webgl_data/3d/board/textures/board_icy_sea.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_icy_sea.026003cc.jpg","bundles/web/images/webgl_data/3d/board/textures/board_light_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_light_notation.c07b471c.png","bundles/web/images/webgl_data/3d/board/textures/board_light.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_light.da48abc5.jpg","bundles/web/images/webgl_data/3d/board/textures/board_lolz_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_lolz_notation.39cb6218.png","bundles/web/images/webgl_data/3d/board/textures/board_lolz.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_lolz.ab3e7fdf.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marble_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marble_notation.64d5f60a.png","bundles/web/images/webgl_data/3d/board/textures/board_marble.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marble.bdd66830.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marbleblue_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marbleblue_notation.9abb1573.png","bundles/web/images/webgl_data/3d/board/textures/board_marbleblue.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marbleblue.6865f81e.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marblebrown_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marblebrown_notation.6f39da77.png","bundles/web/images/webgl_data/3d/board/textures/board_marblebrown.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marblebrown.84489b88.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marblegreen_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marblegreen_notation.25324bb1.png","bundles/web/images/webgl_data/3d/board/textures/board_marblegreen.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marblegreen.48efef9b.jpg","bundles/web/images/webgl_data/3d/board/textures/board_metal_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_metal_notation.5e129d98.png","bundles/web/images/webgl_data/3d/board/textures/board_metal.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_metal.37894cce.jpg","bundles/web/images/webgl_data/3d/board/textures/board_neon_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_neon_notation.c6de6268.png","bundles/web/images/webgl_data/3d/board/textures/board_neon.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_neon.91061909.jpg","bundles/web/images/webgl_data/3d/board/textures/board_newspaper_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_newspaper_notation.b7e08271.png","bundles/web/images/webgl_data/3d/board/textures/board_newspaper.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_newspaper.59e729c6.jpg","bundles/web/images/webgl_data/3d/board/textures/board_orange_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_orange_notation.536d395c.png","bundles/web/images/webgl_data/3d/board/textures/board_orange.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_orange.0f7e13e9.jpg","bundles/web/images/webgl_data/3d/board/textures/board_overlay_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_overlay_notation.3b71f73f.png","bundles/web/images/webgl_data/3d/board/textures/board_overlay.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_overlay.9278ef20.jpg","bundles/web/images/webgl_data/3d/board/textures/board_parchment_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_parchment_notation.20e3d555.png","bundles/web/images/webgl_data/3d/board/textures/board_parchment.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_parchment.f43777e4.jpg","bundles/web/images/webgl_data/3d/board/textures/board_pink_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_pink_notation.8b7fae84.png","bundles/web/images/webgl_data/3d/board/textures/board_pink.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_pink.6bd9e59a.jpg","bundles/web/images/webgl_data/3d/board/textures/board_purple_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_purple_notation.d89b214d.png","bundles/web/images/webgl_data/3d/board/textures/board_purple.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_purple.59e18e3c.jpg","bundles/web/images/webgl_data/3d/board/textures/board_red_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_red_notation.f07a35f2.png","bundles/web/images/webgl_data/3d/board/textures/board_red.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_red.01665dcc.jpg","bundles/web/images/webgl_data/3d/board/textures/board_sand_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_sand_notation.3b02d64f.png","bundles/web/images/webgl_data/3d/board/textures/board_sand.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_sand.841ff1c4.jpg","bundles/web/images/webgl_data/3d/board/textures/board_shadow.png":"bundles/web/images/webgl_data/3d/board/textures/board_shadow.24ef44c9.png","bundles/web/images/webgl_data/3d/board/textures/board_sky_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_sky_notation.91745c17.png","bundles/web/images/webgl_data/3d/board/textures/board_sky.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_sky.ea8b16d2.jpg","bundles/web/images/webgl_data/3d/board/textures/board_stone_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_stone_notation.20fba929.png","bundles/web/images/webgl_data/3d/board/textures/board_stone.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_stone.743e4eac.jpg","bundles/web/images/webgl_data/3d/board/textures/board_tan_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_tan_notation.268c74d3.png","bundles/web/images/webgl_data/3d/board/textures/board_tan.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_tan.8a929ed1.jpg","bundles/web/images/webgl_data/3d/board/textures/board_tournament_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_tournament_notation.9ad74da9.png","bundles/web/images/webgl_data/3d/board/textures/board_tournament.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_tournament.e0ce1413.jpg","bundles/web/images/webgl_data/3d/board/textures/board_translucent_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_translucent_notation.3b8831f5.png","bundles/web/images/webgl_data/3d/board/textures/board_translucent.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_translucent.197acd1a.jpg","bundles/web/images/webgl_data/3d/board/textures/board_walnut_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_walnut_notation.d57ab864.png","bundles/web/images/webgl_data/3d/board/textures/board_walnut.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_walnut.0676cd05.jpg","bundles/web/images/webgl_data/3d/board/textures/board_winboard_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_winboard_notation.39ad9d97.png","bundles/web/images/webgl_data/3d/board/textures/board_winboard.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_winboard.05001540.jpg","bundles/web/images/webgl_data/3d/board/textures/board_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_wood_notation.d1312f00.png","bundles/web/images/webgl_data/3d/board/textures/board_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_wood.84f4eb38.jpg","bundles/web/images/webgl_data/3d/board/textures/board_wooddark_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_wooddark_notation.36997ff4.png","bundles/web/images/webgl_data/3d/board/textures/board_wooddark.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_wooddark.257d7b7a.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodlight_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodlight_notation.0c7b5f08.png","bundles/web/images/webgl_data/3d/board/textures/board_woodlight.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodlight.e980237d.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodmid_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodmid_notation.0414e82f.png","bundles/web/images/webgl_data/3d/board/textures/board_woodmid.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodmid.eb1c16d4.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodolive_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodolive_notation.d2c07059.png","bundles/web/images/webgl_data/3d/board/textures/board_woodolive.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodolive.ddc51f18.jpg","bundles/web/images/webgl_data/3d/marking_arrow_L.json":"bundles/web/images/webgl_data/3d/marking_arrow_L.be09e498.json","bundles/web/images/webgl_data/3d/marking_arrow_straight.json":"bundles/web/images/webgl_data/3d/marking_arrow_straight.a6b956b9.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_black.b9575021.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_white.ca2e587c.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop.7395ab28.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/king.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/king.fc9672f5.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_black.56f8d713.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_white.a8e68ad5.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight.b9912c7a.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/pawn.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/pawn.32238b68.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_black.9b4d155e.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_white.e61335c1.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen.8793f6ab.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_black.b3ca89fc.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_white.b9591dfd.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook.76894e32.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/bishop_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/bishop_shadow.a73695c3.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negx.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negx.4954f2d9.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negy.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negy.d6f9b17f.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negz.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negz.bc953c84.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posx.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posx.274533c9.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posy.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posy.6bf8b32f.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posz.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posz.cb7e947e.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/king_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/king_shadow.aa00085a.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/knight_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/knight_shadow.9f4d137d.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/pawn_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/pawn_shadow.0386c3bb.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_black.4f28c43b.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_black.2c4c23b5.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_white.73bdd4a1.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_black.636485d3.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_white.fa8b20e2.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_black.5b2b7dca.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_white.bde37469.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_white.d3e1faa1.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_black.9acbf5ff.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_white.03428160.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/queen_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/queen_shadow.45adff18.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/rook_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/rook_shadow.d33266cb.png"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.editingStates=t.maxLength=t.constants=t.attributes=t.translations=t.refs=t.routes=t.flairModalHash=t.callbacks=void 0;var a,r=n(44),i=n(7),o=(a=i)&&a.__esModule?a:{default:a};var s=t.callbacks={BLOCK_USER:"web_member_callback_block_member",DELETE_NOTE:"web_user_callback_delete_comment",GET_AVAILABLE_FLAIR:"web_user_callback_get_available_flair",LOAD_NOTES:"web_user_callback_load_notes",MUTE_USER_TEMPORARY:"web_member_callback_mute_account",POST_NOTE:"web_user_callback_post_note",SET_FLAIR:"web_user_callback_set_flair",SET_FLAIR_STATUS:"web_user_callback_set_status",SETTINGS:"web_user_settings_edit",USER_URL:"web_member_view"},l=(t.flairModalHash="#flair-modal",t.routes={blockUser:function(e){return(0,r.generateRoute)(s.BLOCK_USER,{username:e})},communityGuidelines:function(){return(0,r.generateRoute)("web_policies_community")},deleteNote:function(e){return(0,r.generateRoute)(s.DELETE_NOTE,{id:e})},disableAccount:function(e){return(0,r.generateRoute)("web_member_disable",{id:e})},enableAccount:function(e){return(0,r.generateRoute)("web_member_enable",{id:e})},getFlair:function(e){return(0,r.generateRoute)(s.GET_AVAILABLE_FLAIR,{username:e})},impersonateUser:function(e){return(0,r.generateRoute)("web_user_home",{_impersonate:e})},loadNotes:function(e,t,n){return(0,r.generateRoute)(s.LOAD_NOTES,{userId:e,itemsPerPage:t,page:n})},muteUser:function(e){return(0,r.generateRoute)("web_member_mute",{username:e})},muteUserTemporary:function(e){return(0,r.generateRoute)(s.MUTE_USER_TEMPORARY,{user:e})},postNote:function(){return(0,r.generateRoute)(s.POST_NOTE)},removeAvatar:function(e){return(0,r.generateRoute)("web_member_remove_avatar",{username:e})},setCode:function(){return(0,r.generateRoute)(s.SET_FLAIR)},setFlairStatus:function(){return(0,r.generateRoute)(s.SET_FLAIR_STATUS)},settings:function(){return(0,r.generateRoute)(s.SETTINGS)},stopImpersonateUser:function(e,t){return(0,r.generateRoute)(e,t)},unmuteUser:function(e){return(0,r.generateRoute)("web_member_unmute",{username:e})},userUrl:function(e){return(0,r.generateRoute)(s.USER_URL,{username:e})}});t.refs={NOTES_GAMES_CONTAINER:"notes-games-container",PROFILE_ACTIONS:"profile-actions",PROFILE_NOTES_BTN:"profile-notes-btn",PROFILE_NOTES_BTN_OPENED:"profile-notes-btn-opened",PROFILE_NOTES_COLLAPSE:"profile-notes-collapse",PROFILE_NOTES_COLLAPSE_SHOW:"profile-notes-collapse-show",ROOT_PROFILE:"view-profile",STOP_IMPERSONATE:"stop-impersonate",USER_STATUS:"user-profile-status"},t.translations={disableAccountConfirm:o.default.trans("Are you sure you want to disable this account?"),editStatus:o.default.trans("Edit status"),enableAccountConfirm:o.default.trans("Are you sure you want to enable this account?"),enterStatus:o.default.trans("Enter a status here"),impersonateConfirm:o.default.trans("Are you sure you want to impersonate this user?"),muteError:o.default.trans("Error occurred"),muteUserConfirm:o.default.trans("Are you sure you want to mute this user?"),removeAboutConfirm:o.default.trans("Are you sure you want to remove user About section?"),removeAvatarConfirm:o.default.trans("Are you sure you want to remove this user's avatar?"),removeFriendConfirm:function(e){return o.default.trans("Are you sure you want to remove %friend%?",{"%friend%":e})},reportSpamConfirm:o.default.trans("Are you sure you want to report user for spamming?"),saveStatus:o.default.trans("Save status"),stopImpersonateConfirm:o.default.trans("Are you sure you want to stop impersonating this user?"),unmuteUserConfirm:o.default.trans("Are you sure you want to unmute this user?"),vulgarityMessage:o.default.trans("Your post seems to not fit our <a href=%url%>Community Guidelines</a>. Repeated violations may result in your account being restricted. Thank you for helping Chess.com stay a fun and friendly place for all!",{"%url%":l.communityGuidelines})},t.attributes={ALLOW_GROUP_INVITES:"data-allow-group-invites",AVATAR:"data-avatar",CAN_EDIT_STATUS:"data-can-edit-status",CAN_RECEIVE_GIFT:"data-can-receive-gift",CAN_VIEW_NOTES:"data-can-view-notes",ENTITY_ID:"data-entity-id",FLAIR:"data-flair-profile",IS_FOLLOWING:"data-is-following",IS_FRIEND:"data-is-friend",HAS_CLUBS:"data-has-clubs",HAS_FRIEND_REQUEST_FROM_USER:"data-has-friend-request-from-user",HAS_FRIEND_REQUEST_TO_USER:"data-has-friend-request-to-user",IS_AUTH_USER_BANNER_BY_VIEWED:"data-is-auth-user-banned-by-viewed",IS_USER_ENABLED:"data-is-user-enabled",IS_BLOCKED:"data-is-blocked",IS_OWN_PROFILE:"data-is-own-profile",IS_VIEWER_BLOCKED:"data-is-viewer-blocked",MUTE_TIME:"data-mute-time",NOTE_DELETE:"data-note-delete",NOTE_POST:"data-note-post",STOP_IMPERSONATE_ROUTE:"data-stop-impersonate-route",STOP_IMPERSONATE_PARAMS:"data-stop-impersonate-params",USER:"data-user",USERNAME:"data-username",USER_ID:"data-user-id"},t.constants={STATUS_SUCCESS:200},t.maxLength=50,t.editingStates={displayState:"DISPLAY_STATE",editingState:"EDITING_STATE",savingState:"SAVING_STATE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(345),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(516),s=n(5);var l=function(e){this.$style=n(515)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},,,,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(43));t.searchUsername=function(e){return i.default.get(r.routes.usernameSearch({query:e}))},t.reportUser=function(e){return i.default.post(o.default.generate(r.callbacks.REPORT_USER),{abuser_username:e.username,reason_id:e.picked,other_reason:e.otherReason,block_user:e.blockUser,reporter_url:window.location.href})},t.fetchUserPopoverData=function(e){return new a.default(function(t,n){e&&"null"!==e||n(new Error("Username was not given."));var a=o.default.generate(r.callbacks.USER_POPUP,{username:e});t(i.default.get(a))})};var r=n(50),i=_interopRequireDefault(n(27)),o=_interopRequireDefault(n(8));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(90)),r=n(195),i=_interopRequireDefault(n(482)),o=_interopRequireDefault(n(489));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"user-settings-update-payment-method",components:{AdyenCardDeprecated:i.default,AdyenCardNew:o.default},props:{adyenKey:{type:String,required:!0,default:window.context.adyenKey},currencyCode:{type:String,required:!1,default:"USD"},formMode:{type:String,default:"payment",validator:function(e){return-1!==["update","payment"].indexOf(e)}},generationTime:{type:String,required:!0},giftData:Object,isFetchingSavedPaymentDetails:{type:Boolean,required:!0,default:!1},isGift:{type:Boolean,default:!1},productSku:{type:String,validator:function(e){return(0,a.default)(r.productSkus).includes(e)}},queryParams:Object,redirectOnSuccess:{type:Boolean,default:!0},savedPaymentDetails:Object,buttonText:{type:String,required:!0}},data:function(){return{useNewPaymentMethod:window.context.user.features.newAdyenPayment}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(90)),i=_interopRequireDefault(n(484)),o=n(485),s=_interopRequireDefault(o),l=n(328),u=_interopRequireDefault(n(29)),c=_interopRequireDefault(n(196)),d=_interopRequireDefault(n(264)),f=_interopRequireDefault(n(266)),p=_interopRequireDefault(n(254)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(265)),h=n(195);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"adyen-card-payment",components:{FormButton:u.default,FormInput:c.default,FormCheckbox:d.default,FormSelect:f.default,LoaderThreeBounce:p.default},props:{adyenKey:{type:String,required:!0,default:window.context.adyenKey},currencyCode:{type:String,required:!1,default:"USD"},formMode:{type:String,default:"payment",validator:function(e){return-1!==["update","payment"].indexOf(e)}},generationTime:{type:String,required:!0},giftData:Object,isFetchingSavedPaymentDetails:{type:Boolean,required:!0,default:!1},isGift:{type:Boolean,default:!1},productSku:{type:String,validator:function(e){return(0,r.default)(h.productSkus).includes(e)}},queryParams:Object,redirectOnSuccess:{type:Boolean,default:!0},savedPaymentDetails:Object,buttonText:{type:String,required:!0}},data:function(){return{adyenInstance:{},adyenValidation:{},adyenEncryptedField:{},adyenErrorResponse:"",cardData:{number:"",cvc:"",holderName:"",expiryMonth:"",expiryYear:"",generationtime:""},expiryMonthOptions:this.fillIntegerRange(1,12),expiryYearOptions:this.getYearOptions(),isSubmitting:!1,newPaymentMethod:!1,userEmail:""}},computed:{cardPlaceholder:function(){var e="•".repeat(this.cardTypeDetails.lengths[0]);return this.prettyCardNumberFormatter(e)},cvcPlaceholder:function(){return"•".repeat(this.cardTypeDetails.code.size)},cardTypeDetails:function(){var e=(0,s.default)(this.cardData.number);return e.length?e[0]:{niceType:"Undefined",type:"undefined",gaps:[4,8,12],lengths:[16,19],code:{name:"CVV",size:3}}},checkNewPaymentFormValid:function(){return!(!(!this.isSubmitting&&this.userEmail&&this.userEmail.length>0)||this.isMaestro)},formCanSubmit:function(){return!this.isSubmitting&&this.hasSavedCreditCard?"update"!==this.formMode:this.checkNewPaymentFormValid},displaySavedCard:function(){var e=this.savedPaymentDetails.creditCard;return e?this.$trans("Use card on file - ending %lastfour%",{"%lastfour%":e.number}):""},emailFromContext:function(){return window.context.user.email},generalValidationError:function(){return(0,a.default)(this.adyenValidate).length>0&&this.adyenValidate.unkown.length>0},hasSavedCreditCard:function(){return null!=this.savedPaymentDetails.creditCard&&!this.newPaymentMethod},isMaestro:function(){return this.cardTypeDetails.type===o.types.MAESTRO},maxCardNumberLength:function(){var e=this.cardTypeDetails,t=e.lengths,n=e.gaps;return t[t.length-1]+n.length},prettyCardNumber:function(){var e=this.cardData.number;return this.cardTypeDetails?this.prettyCardNumberFormatter(e):e},showCardNumberError:function(){return this.hasValidationError("number")||"undefined"===this.cardTypeDetails.type},showNewCardForm:function(){return!this.isFetchingSavedPaymentDetails&&(!this.hasSavedCreditCard||this.newPaymentMethod)},showRenewsAutomaticallyMessage:function(){return!this.isGift&&"payment"===this.formMode},showSubmitButton:function(){return"update"!==this.formMode||!this.hasSavedCreditCard}},mounted:function(){this.adyenSetup(),this.userEmail=this.emailFromContext},methods:{adyenEncrypt:function(){this.adyenEncryptedField=this.adyenInstance.encrypt(this.cardData),this.adyenValidation.encryption=this.adyenEncryptedField.length>0},adyenSetup:function(){this.adyenInstance=i.default.createEncryption(this.adyenKey,{})},adyenValidate:function(){var e=this.adyenInstance.validate(this.cardData);this.adyenValidation=e,e.valid||(this.isSubmitting=!1,this.$emit("paymentprocessing",!1))},fillIntegerRange:function(e,t){var n=[];return Array(t-e+1).fill().forEach(function(t,a){var r=(e+a).toString();n.push({value:r,label:r})}),n},handleFormSubmit:function(){this.$emit("paymentprocessing",!0),this.isSubmitting=!0,this.showNewCardForm?this.handleValidationEncryption():this.routeRequestFromFormMode()},handleValidationEncryption:function(){this.cardData.generationtime=this.generationTime,this.adyenValidate(),this.adyenValidation.valid&&(this.adyenEncrypt(),this.adyenEncryptedField&&this.routeRequestFromFormMode())},hasValidationError:function(e){return(0,a.default)(this.adyenValidation).length>0&&Object.prototype.hasOwnProperty.call(this.adyenValidation,e)&&!this.adyenValidation[e]},getYearOptions:function(){var e=(new Date).getFullYear(),t=e+20;return this.fillIntegerRange(e,t)},prettyCardNumberFormatter:function(e){for(var t=this.cardTypeDetails.gaps,n=[].concat(0,t,e.length),a=[],r=0;n[r]<e.length;){var i=n[r],o=Math.min(n[r+1],e.length);a.push(e.substring(i,o)),r++}return a.join(" ")},routeRequestFromFormMode:function(){switch(this.formMode){case"update":this.submitUpdatePaymentMethod();break;default:this.submitPayment()}},submitPayment:function(){var e=this,t={email:this.userEmail,hasRecurrentContract:this.hasSavedCreditCard.toString(),paymentMethod:"credit-card",plan:this.productSku};(this.adyenEncryptedField.length&&(t.adyenEncryptedField=this.adyenEncryptedField,t.hasRecurrentContract="false"),this.giftData&&(0,a.default)(this.giftData).length&&(t.giftMessage=this.giftData.giftMessage,t.giftReceiverEmail=this.giftData.giftReceiverEmail,t.giftReceiverId=this.giftData.giftReceiverId,t.giftReceiverUsername=this.giftData.giftReceiverUsername),this.queryParams&&(0,a.default)(this.queryParams).length)&&(0,a.default)(this.queryParams).forEach(function(n){t[n]=e.queryParams[n]});m.submitAdyenPayment(t).then(function(t){e.$emit("paymentprocessing",!1),201===t.status&&(e.redirectOnSuccess&&window.location.assign(t.headers.location),e.$emit("paymentsuccessful",{receiptLink:t.headers.location,success:!0})),"Refused"===t.data.resultCode&&(e.$emit("paymenterror","Refused"),e.isSubmitting=!1,e.adyenErrorResponse=(0,l.getErrorMessage)(t.data.refusalReason))}).catch(function(t){e.$emit("paymentprocessing",!1),e.$emit("paymenterror",t),e.isSubmitting=!1,e.adyenErrorResponse=(0,l.getErrorMessage)(t.response.data.message)})},submitUpdatePaymentMethod:function(){var e=this,t={paymentMethod:"credit-card",hasRecurrentContract:"false",action:"update",adyenEncryptedField:this.adyenEncryptedField};m.updateAdyenPaymentMethod(t).then(function(t){e.$emit("paymentprocessing",!1),201===t.status&&(e.redirectOnSuccess?window.location.assign(t.headers.location):e.$emit("paymentsuccessful",{receiptLink:t.headers.location,success:!0})),"Refused"===t.data.resultCode&&(e.$emit("paymenterror","Refused"),e.isSubmitting=!1,e.adyenErrorResponse=t.data.refusalReason)}).catch(function(t){e.$emit("paymentprocessing",!1),e.$emit("paymenterror",t),e.isSubmitting=!1,e.adyenErrorResponse=t.response.data.message})},stripNumber:function(e){return e.replace(/\D/g,"")},enableNewPaymentMethod:function(){this.newPaymentMethod=!0},updateCardNumber:function(e){this.adyenValidation={},this.cardData.number=this.stripNumber(e)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(486);Object.defineProperty(t,"getEncryptedCardData",{enumerable:!0,get:function(){return a.getEncryptedCardData}});var r=n(487);Object.defineProperty(t,"getErrorMessage",{enumerable:!0,get:function(){return r.getErrorMessage}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(3)),i=_interopRequireDefault(n(90)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(265)),s=n(173),l=n(195),u=n(328),c=_interopRequireDefault(n(29)),d=_interopRequireDefault(n(196)),f=_interopRequireDefault(n(264)),p=_interopRequireDefault(n(254)),m=_interopRequireDefault(n(198));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"adyen-card-payment",components:{FormButton:c.default,FormInput:d.default,FormCheckbox:f.default,LoaderThreeBounce:p.default},props:{adyenKey:{type:String,required:!0,default:window.context.adyenKey},currencyCode:{type:String,required:!1,default:"USD"},formMode:{type:String,default:"payment",validator:function(e){return-1!==["update","payment"].indexOf(e)}},giftData:Object,isFetchingSavedPaymentDetails:{type:Boolean,required:!0,default:!1},isGift:{type:Boolean,default:!1},productSku:{type:String,validator:function(e){return(0,i.default)(l.productSkus).includes(e)}},queryParams:Object,redirectOnSuccess:{type:Boolean,default:!0},savedPaymentDetails:Object,buttonText:{type:String,required:!0}},data:function(){return{adyenErrorResponse:"",errors:s.encryptedFields.reduce(function(e,t){return e[t]=!1,e},{}),isFormValid:!1,isMaestro:!1,isSubmitting:!1,newPaymentMethod:!1,securedFields:null,userEmail:""}},computed:{checkNewPaymentFormValid:function(){return!this.isSubmitting&&this.userEmail&&this.userEmail.length>0&&!this.isMaestro&&this.isFormValid},formCanSubmit:function(){return!this.isSubmitting&&this.hasSavedCreditCard?"update"!==this.formMode:this.checkNewPaymentFormValid},displaySavedCard:function(){var e=this.savedPaymentDetails.creditCard;return e?this.$trans("Use card on file - ending %lastfour%",{"%lastfour%":e.number}):""},emailFromContext:function(){return window.context.user.email},hasSavedCreditCard:function(){return null!=this.savedPaymentDetails.creditCard&&!this.newPaymentMethod},showNewCardForm:function(){return!this.isFetchingSavedPaymentDetails&&(!this.hasSavedCreditCard||this.newPaymentMethod)},showRenewsAutomaticallyMessage:function(){return!this.isGift&&"payment"===this.formMode},showSubmitButton:function(){return"update"!==this.formMode||!this.hasSavedCreditCard}},watch:{showNewCardForm:function(e){e&&!this.securedFields&&this.adyenSetup()}},mounted:function(){this.userEmail=this.emailFromContext},methods:{adyenSetup:function(){var e=this;m.default.insert(s.adyenScript).then(function(){var t={rootNode:".cards-div",configObject:{cardGroupTypes:["maestro","maestrouk"],originKey:window.context.adyenOriginKey}};e.securedFields=window.csf(t),e.securedFields.onAllValid(function(t){var n=t.allValid;e.isFormValid=n}),e.securedFields.onBrand(function(t){var n=t.brand;e.isMaestro=n.includes("maestro")}),e.securedFields.onFieldValid(function(t){var n=t.encryptedFieldName,a=t.valid;e.errors[n]=!a})})},handleFormSubmit:function(){this.$emit("paymentprocessing",!0),this.isSubmitting=!0,"update"===this.formMode?this.submitUpdatePaymentMethod():this.submitPayment()},submitPayment:function(){var e=this,t={email:this.userEmail,hasRecurrentContract:this.hasSavedCreditCard.toString(),paymentMethod:"credit-card",plan:this.productSku},n=(0,u.getEncryptedCardData)();(n&&(t=(0,r.default)({},t,n,{hasRecurrentContract:"false"})),this.giftData&&(0,a.default)(this.giftData).length&&(t.giftMessage=this.giftData.giftMessage,t.giftReceiverEmail=this.giftData.giftReceiverEmail,t.giftReceiverId=this.giftData.giftReceiverId,t.giftReceiverUsername=this.giftData.giftReceiverUsername),this.queryParams&&(0,a.default)(this.queryParams).length)&&(0,a.default)(this.queryParams).forEach(function(n){t[n]=e.queryParams[n]});o.submitAdyenPayment(t).then(function(t){e.$emit("paymentprocessing",!1),201===t.status&&(e.redirectOnSuccess&&window.location.assign(t.headers.location),e.$emit("paymentsuccessful",{receiptLink:t.headers.location,success:!0})),"Refused"===t.data.resultCode&&(e.$emit("paymenterror","Refused"),e.isSubmitting=!1,e.adyenErrorResponse=(0,u.getErrorMessage)(t.data.refusalReason))}).catch(function(t){e.$emit("paymentprocessing",!1),e.$emit("paymenterror",t),e.isSubmitting=!1,e.adyenErrorResponse=(0,u.getErrorMessage)(t.response.data.message)})},submitUpdatePaymentMethod:function(){var e=this,t=(0,r.default)({},(0,u.getEncryptedCardData)(),{paymentMethod:"credit-card",hasRecurrentContract:"false",action:"update"});o.updateAdyenPaymentMethod(t).then(function(t){e.$emit("paymentprocessing",!1),201===t.status&&(e.redirectOnSuccess?window.location.assign(t.headers.location):e.$emit("paymentsuccessful",{receiptLink:t.headers.location,success:!0})),"Refused"===t.data.resultCode&&(e.$emit("paymenterror","Refused"),e.isSubmitting=!1,e.adyenErrorResponse=(0,u.getErrorMessage)(t.data.refusalReason))}).catch(function(t){e.$emit("paymentprocessing",!1),e.$emit("paymenterror",t),e.isSubmitting=!1,e.adyenErrorResponse=(0,u.getErrorMessage)(t.response.data.message)})},enableNewPaymentMethod:function(){this.newPaymentMethod=!0}}}},function(e,t){e.exports={component:"modal-content-component"}},function(e,t){e.exports={component:"section-container-component",visible:"section-container-visible"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:[this.$style.component,this.$style[this.overflow]]},[this._t("default")],2)},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this.$createElement;return(this._self._c||e)("section-container",{class:this.$style.component},[this._t("default")],2)},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(358),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(541),s=n(5),l=Object(s.a)(r.a,o.a,o.b,!1,null,null,null);t.default=l.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(282),i=n(226),o=(a=i)&&a.__esModule?a:{default:a};t.default={name:"user-avatar",directives:{ImageDefer:o.default},props:{image:{type:String,required:!0},isLive:{type:Boolean,default:!1},isOnline:{type:Boolean,default:!1},url:{type:String,required:!1}},computed:{isLink:function(){return Boolean(this.url)},blankImage:function(){return(0,r.generateUrl)("bundles/web/images/user-image.svg")}}}},,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.gameTypes=t.gameResultTextOptions=t.gameEndReasonTranslations=t.gameEndReasons=void 0;var a,r=_interopRequireDefault(n(16)),i=n(28),o=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=t.gameEndReasons={ABANDONED:"abandoned",AGREED:"agreed",BUGHOUSELOSE:"bughousepartnerlose",CHECKMATED:"checkmated",DOUBLE_FORFEIT:"doubleforfeit",FIFTY_MOVE:"50move",INSUFFICIENT:"insufficient",KINGOFTHEHILL:"kingofthehill",REPETITION:"repetition",RESIGNED:"resigned",STALEMATE:"stalemate",THREECHECK:"threecheck",TIMEOUT:"timeout",TIMEVSINSUFFICIENT:"timevsinsufficient"};t.gameEndReasonTranslations=(a={},(0,r.default)(a,s.ABANDONED,(0,i.trans)("game abandoned")),(0,r.default)(a,s.AGREED,(0,i.trans)("by agreement")),(0,r.default)(a,s.BUGHOUSELOSE,(0,i.trans)("with their bughouse partner")),(0,r.default)(a,s.CHECKMATED,(0,i.trans)("by checkmate")),(0,r.default)(a,s.DOUBLE_FORFEIT,(0,i.trans)("Double forfeit")),(0,r.default)(a,s.FIFTY_MOVE,(0,i.trans)("by 50-move rule")),(0,r.default)(a,s.INSUFFICIENT,(0,i.trans)("by insufficient material")),(0,r.default)(a,s.KINGOFTHEHILL,(0,i.trans)("by the king reaching the hill")),(0,r.default)(a,s.REPETITION,(0,i.trans)("by repetition")),(0,r.default)(a,s.RESIGNED,(0,i.trans)("by resignation")),(0,r.default)(a,s.STALEMATE,(0,i.trans)("by stalemate")),(0,r.default)(a,s.THREECHECK,(0,i.trans)("by checking the opponent king for the 3rd time")),(0,r.default)(a,s.TIMEOUT,(0,i.trans)("on time")),(0,r.default)(a,s.TIMEVSINSUFFICIENT,(0,i.trans)("by timeout vs insufficient material")),a),t.gameResultTextOptions={HALF_HALF:"1/2-1/2",HALF_HALF_ENTITY:"&frac12;-&frac12;",ONE_ZERO:"1-0",ZERO_ONE:"0-1"},t.gameTypes=[{label:o.default.trans("Standard"),value:"chess",icon:"chess-board",tip:o.default.trans("Normal rules of chess."),daily:!0,live:!0,defaultType:!0},{label:o.default.trans("Chess960"),value:"chess960",icon:"chess960",tip:o.default.trans("Normal rules, but starting position is random."),daily:!0,live:!0},{label:o.default.trans("Book Opening"),value:"book",icon:"chess-board",daily:!0,quickLaunch:!1},{label:o.default.trans("Custom FEN"),value:"custom",icon:"chess-board",daily:!0,quickLaunch:!1},{label:o.default.trans("3 Check"),value:"threecheck",icon:"threecheck",tip:o.default.trans("First to check the other king 3 times wins."),live:!0},{label:o.default.trans("King of the Hill"),value:"kingofthehill",icon:"kingofthehill",tip:o.default.trans("First to get king to middle 4 squares wins."),live:!0},{label:o.default.trans("Crazyhouse"),value:"crazyhouse",icon:"crazyhouse",tip:o.default.trans("When you capture a piece, you can drop it on your turn!"),live:!0},{label:o.default.trans("Bughouse"),value:"bughouse",icon:"bughouse",tip:o.default.trans("Team up with another player and you can drop the pieces that they capture."),live:!0}]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(8),i=(a=r)&&a.__esModule?a:{default:a};t.default=function(){return-1!==window.location.href.indexOf(i.default.generate("web_2fa_login"))}},,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(396),i=(a=r)&&a.__esModule?a:{default:a};t.default=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(90)),i=n(195),o=n(173),s=_interopRequireDefault(n(29));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"paypal",components:{FormButton:s.default},props:{currencyCode:{type:String,required:!1,default:"USD"},isGift:{type:Boolean,required:!0},generationTime:{type:String,required:!1},giftData:{type:Object,required:!1},productSku:{type:String,required:!0,validator:function(e){return(0,r.default)(i.productSkus).includes(e)}},queryParams:{type:Object,required:!1}},data:function(){return{paymentsRoutes:o.routes}},computed:{actionLink:function(){return this.isGift?this.paymentsRoutes.paypalGiftPayment({sku:this.productSku}):this.paymentsRoutes.paypalMembershipPayment((0,a.default)({sku:this.productSku},this.queryParams))},buttonText:function(){return this.isGift?this.$trans("Buy a gift with PayPal"):this.$trans("Upgrade with PayPal")}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(12),i=(a=r)&&a.__esModule?a:{default:a};t.default={name:"flair",components:{IconFont:i.default},props:{code:{type:String},available:{type:Boolean,default:!0},size:{type:String}},methods:{setFlairCode:function(){this.available&&this.$emit("flair-code",this.code)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(36),i=(a=r)&&a.__esModule?a:{default:a},o=n(50);t.default={name:"user-membership-icon",directives:{Tooltip:i.default},props:{isEnabled:{type:Boolean,default:!0},membership:{type:Number,required:!0},size:{type:String}},data:function(){return{membershipIcon:o.membershipIcons[this.membership],membershipName:o.membershipNames[this.membership]}},computed:{membershipLink:function(){var e=void 0;return this.isEnabled&&(e=this.membership===o.membership.staff?o.routes.about():o.routes.membership()),e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"form-error"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(36),i=(a=r)&&a.__esModule?a:{default:a},o=n(50);t.default={name:"user-chess-title",directives:{Tooltip:i.default},props:{title:{type:String,required:!0},url:{type:String,required:!1}},data:function(){return{fullTitle:o.fullTitles[this.title]}},computed:{isLink:function(){return Boolean(this.url)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(364),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(562),s=n(5);var l=function(e){this.$style=n(561)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(301),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(470),s=n(5);var l=function(e){this.$style=n(466)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(367),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(570),s=n(5);var l=function(e){this.$style=n(569)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},,function(e,t,n){e.exports=n(206)(119)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(354),i=(a=r)&&a.__esModule?a:{default:a};t.default=i.default},function(e,t,n){var a=n(222),r=n(223);e.exports=function(e,t){return e&&a(e,r(t))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(199),i=n(227),o=(a=i)&&a.__esModule?a:{default:a};var s=JSON.parse(o.default.get("chessComAppState")),l=s&&s.user&&s.user.isImpersonating||(0,r.isImpersonating)();t.default=l?{}:s||{}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=n(245),i=n(383),o=n(199),s=n(81),l=n(34),u=n(50),c=n(259),d=_interopRequireDefault(n(45)),f=_interopRequireDefault(n(480)),p=_interopRequireDefault(n(543)),m=_interopRequireDefault(n(500)),h=_interopRequireDefault(n(8)),g=_interopRequireDefault(n(523)),b=_interopRequireDefault(n(524)),v=_interopRequireDefault(n(565)),_=_interopRequireDefault(n(518));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"user-popover-widget",components:{giftMembershipModal:f.default,UserReportModal:_.default,UserPopover:v.default,TrophyPopover:b.default},data:function(){return{clickListener:null,isLoading:!1,showGiftMembershipModal:!1,isUserReportModalVisible:!1,isChallengePopoverVisible:!1,isTrophyPopoverVisible:!1,scrollContainer:null,elementRef:null}},computed:(0,a.default)({},(0,l.mapState)({show:function(e){return e.userPopover.show},user:function(e){return e.userPopover.user},username:function(e){return e.user.username},position:function(e){return e.userPopover.position}}),{ratings:function(){return[{type:this.user.bestRatingType,icon:this.user.bestRatingType,value:this.user.bestRating}]},canAddFriend:function(){return this.loggedAsAnother&&!this.user.areFriends&&!this.user.isFriendRequestFromUserExists&&!this.user.isFriendRequestExists&&this.user.isEnabled},canBlockUser:function(){return this.loggedAsAnother&&!this.user.areFriends&&!this.user.isBlocked&&this.user.isEnabled&&this.user.membership&&this.user.membership.level<u.membership.moderator},canUseGlobalChat:function(){return this.loggedAsAnother&&this.user.isEnabled&&this.user.isChatEnabled},canCreateChallenge:function(){return this.loggedAsAnother&&this.user.isEnabled},canFollowUser:function(){return this.loggedAsAnother&&!this.user.isTracked&&this.user.isEnabled},canGiftMembership:function(){return this.user.canReceiveGiftMembership&&this.user.isEnabled},canRemoveFriend:function(){return this.loggedAsAnother&&this.user.areFriends},canReportUser:function(){return this.loggedAsAnother&&!this.user.isModerator&&!this.user.isStaff},canSendMessage:function(){return this.loggedAsAnother&&this.user.isMessageable&&this.user.isEnabled},canSendTrophy:function(){return this.canSendMessage&&this.user.isEnabled},canUnblockUser:function(){return this.loggedAsAnother&&this.user.isBlocked&&this.user.isEnabled},canUnfollowUser:function(){return this.loggedAsAnother&&this.user.isTracked&&this.user.isEnabled},hasInboundFriendRequest:function(){return this.loggedAsAnother&&this.user.isFriendRequestFromUserExists},hasOutboundFriendRequest:function(){return this.loggedAsAnother&&this.user.isFriendRequestExists},canCancelFriendRequest:function(){return this.hasOutboundFriendRequest&&!this.hasInboundFriendRequest},canAcceptFriendRequest:function(){return this.hasInboundFriendRequest},loggedAsAnother:function(){return this.username&&this.username!==this.user.username},membershipNumber:function(){return(0,o.getMembershipNumber)(this.user.membership?this.user.membership.level:null,this.user.isEnabled)},inlineStyles:function(){return(0,r.setPopoverPosition)(this.position)}}),created:function(){(0,c.registerModules)({newGame:m.default,modalMessages:p.default,trophies:g.default})},mounted:function(){var e=this;this.scrollContainer=document.querySelector(".base-container")||document.body,d.default.$on("userPopover/show",function(t,n){if(e.$store.dispatch("userPopover/fetchUserPopover",t).then(function(){e.isLoading=!1}),e.$store.commit("userPopover/resetUser"),null!=t){e.clickListener=document.addEventListener("click",function(t){(e.user.userNotExist||e.$refs.userPopover&&t.target!==e.$refs.userPopover.$el&&!e.$refs.userPopover.$el.contains(t.target)&&!document.getElementById(u.refs.USER_POPOVER_CONTAINER).contains(t.target))&&e.hideUserPopup()},!0),setTimeout(function(){e.user.username||e.user.userNotExist||(e.isLoading=!0)},500),e.scrollContainer.addEventListener("scroll",e.hideUserPopup),e.elementRef=n;var a=(0,s.getUserPopoverPosition)(n.getBoundingClientRect());e.$store.commit("userPopover/setPosition",a),e.$store.commit("userPopover/showUserPopover")}}),d.default.$on("userPopover/hide",this.hideUserPopup)},beforeDestroy:function(){this.removeListeners()},methods:{onChallenge:function(e){this.hideUserPopup(),window.postMessage({key:i.events.SHOW_NEW_GAME_MODAL,challengeUser:{avatar_url:e.avatar,username:e.username}},window.location.origin)},onMessage:function(e){this.hideUserPopup(),window.postMessage({event:"SHOW_MESSAGE_MODAL",user:{avatar_url:e.avatar,username:e.username}},window.location.origin)},onTrophy:function(e){this.hideUserPopup(),this.$store.commit("trophies/setRecipientUsername",e.username),this.isTrophyPopoverVisible=!0},acceptFriendRequest:function(){this.$store.dispatch("user/approveFriendRequest",this.user.username).then(this.reload)},addFriend:function(){this.$store.dispatch("user/addFriend",this.user.username).then(this.reload)},blockUser:function(){this.$store.dispatch("user/blockUser",this.user.username).then(this.reload)},cancelFriendRequest:function(){this.$store.dispatch("user/cancelFriendRequest",this.user.username).then(this.reload)},deleteFriend:function(){this.$store.dispatch("user/deleteFriend",this.user.username).then(this.reload)},hideUserPopup:function(){this.$store.commit("userPopover/hideUserPopover"),this.removeListeners(),this.isLoading=!1},reload:function(){return this.$store.dispatch("userPopover/fetchUserPopover",this.user.username)},removeListeners:function(){document.removeEventListener("click",this.clickListener,!0),this.scrollContainer.removeEventListener("scroll",this.hideUserPopup)},trackUser:function(){this.$store.dispatch("user/trackUser",this.user.username).then(this.reload)},unblockUser:function(){this.$store.dispatch("user/unblockUser",this.user.username).then(this.reload)},untrackUser:function(){this.$store.dispatch("user/untrackUser",this.user.username).then(this.reload)},showGiftModal:function(){this.hideUserPopup(),this.showGiftMembershipModal=!0},hideGiftMembershipModal:function(){this.showGiftMembershipModal=!1},showReportModal:function(){this.hideUserPopup(),this.isUserReportModalVisible=!0},hideUserReportModal:function(){this.isUserReportModalVisible=!1},hideChallengePopover:function(){this.isChallengePopoverVisible=!1},hideTrophyPopover:function(){this.isTrophyPopoverVisible=!1},showArchive:function(e){window.location.href=h.default.generate("web_archive_index",{username:e.username})},startDirectChat:function(){var e=i.events.START_DIRECT_CHAT,t={avatar_url:this.user.avatar,id:this.user.uuid,username:this.user.username};window.postMessage({key:e,payload:t},window.location.origin)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(90)),r=_interopRequireDefault(n(481)),i=_interopRequireDefault(n(45)),o=_interopRequireDefault(n(12)),s=_interopRequireDefault(n(51)),l=_interopRequireDefault(n(181)),u=_interopRequireDefault(n(503)),c=_interopRequireDefault(n(334)),d=n(173),f=n(265),p=n(195);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"modal-gift-membership",components:{AdyenCard:r.default,IconFont:o.default,ModalContainer:s.default,ModalContent:l.default,Paypal:u.default,UserFlairIcon:c.default},props:{hiddenByDefault:{type:Boolean,default:!1},receiverUsername:{type:String},receiverId:{type:Number},senderUsername:{type:String,required:!0},standAlone:{type:Boolean,default:!1}},data:function(){return{benefits:p.benefits,prices:p.defaultModalProductPrices,currentGateway:d.gateways.CARD,defaultModalProducts:p.defaultModalProducts,gatewayStrings:d.gateways,isFetchingSavedPaymentDetails:!0,paymentProcessing:!1,paymentReceiptLink:"",paymentSuccess:!1,planLengths:p.planLength,savedPaymentDetails:{},selectedLength:p.planLength.YEARLY,selectedPlanLevel:p.planLevels.DIAMOND,translations:p.translations,userId:0,username:""}},computed:{adyenKey:function(){return window.context.adyenKey},generationTime:function(){return this.savedPaymentDetails.generationTime||""},giftData:function(){return{giftReceiverUsername:this.username||this.receiverUsername,giftReceiverId:this.userId||this.receiverId}},planLengthOptions:function(){return(0,a.default)(p.planLength)},selectedSku:function(){return this.selectedPlanLevel+"_"+this.selectedLength},titleString:function(){var e=this.giftData.giftReceiverUsername,t=this.paymentSuccess?"giftGiven":"giftGive";return p.translations[t](e)}},mounted:function(){var e=this;this.hiddenByDefault||(this.$refs.modalContainer.show(),this.fetchSavedPaymentDetails(),this.getGiftMemberships()),this.standAlone&&i.default.$on(p.events.SHOW_GIFT_MEMBERSHIP_MODAL,function(t){var n=t.username,a=t.userId;e.username=n,e.userId=a,e.$refs.modalContainer.show(),e.fetchSavedPaymentDetails(),e.getGiftMemberships()})},methods:{getGiftMemberships:function(){var e=this;return(0,f.getGiftMemberships)().then(function(t){var n=t.data;return e.prices=n})},hide:function(){this.modalDidHide(),this.standAlone&&this.$refs.modalContainer.hide()},modalDidHide:function(){this.$emit("hide-modal")},displayRadioChecked:function(e){return this.selectedPlanLevel+"_"+this.selectedLength===e},fetchSavedPaymentDetails:function(){var e=this;(0,f.getSavedPaymentMethods)().then(function(e){return e.data}).then(function(t){return e.savedPaymentDetails=t}).then(function(){return e.isFetchingSavedPaymentDetails=!1})},handlePaymentProcessing:function(e){this.paymentProcessing=e},handlePaymentSuccess:function(e){this.paymentProcessing=!1,this.paymentSuccess=e.success,this.paymentReceiptLink=e.receiptLink},setSelectedProduct:function(e){var t=e.split("_");this.selectedPlanLevel=t[0],this.selectedLength=t[1]},visibleMethod:function(e){return this.currentGateway===e}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(457),r=n(458),i=_interopRequireDefault(n(472)),o=_interopRequireDefault(n(498)),s=_interopRequireDefault(n(36)),l=_interopRequireDefault(n(499));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"user-flair-icon",components:{Flair:i.default,UserMembershipIcon:l.default},directives:{Tooltip:s.default},mixins:[o.default],props:{code:{type:String},isEnabled:{type:Boolean,default:!0},membership:{type:Number,required:!0},size:{type:String,default:"small"}},data:function(){return{isFlairEnabled:(0,r.hasFeatureAccess)(a.features.FLAIR)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=n(34),i=_interopRequireDefault(n(550)),o=_interopRequireDefault(n(246)),s=_interopRequireDefault(n(51)),l=_interopRequireDefault(n(181)),u=_interopRequireDefault(n(292)),c=_interopRequireDefault(n(553)),d=_interopRequireDefault(n(556)),f=_interopRequireDefault(n(559)),p=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"give-trophy-modal",components:{AccountNotActivated:i.default,ModalContainer:s.default,ModalContent:l.default,SectionTitleDismissible:u.default,SelectTrophy:c.default,SendTrophy:d.default,SentTrophy:f.default},data:function(){return{labels:{activateAccount:p.default.trans("You must activate your account before you can send trophies.")},modalStates:o.default.modalStates}},computed:(0,a.default)({},(0,r.mapState)({modalState:function(e){return e.trophies.modalState},user:function(e){return e.user}}),{title:function(){return this.modalState===o.default.modalStates.select?p.default.trans("Select a Trophy"):this.modalState===o.default.modalStates.send?p.default.trans("Add a Message"):this.modalState===o.default.modalStates.sent?p.default.trans("Trophy Sent!"):void 0}}),mounted:function(){this.user.isActivated&&this.$store.dispatch("trophies/getAllTrophies",{page:1}),this.show()},methods:{hide:function(){this.$store.commit("trophies/setModalState",o.default.modalStates.select),this.$store.commit("trophies/setMessage",""),this.$store.commit("trophies/setErrorMessage",""),this.$refs.modalContainer.hide(),this.$emit("hide")},show:function(){this.$refs.modalContainer.show()}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(8)),r=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"account-not-activated",props:{alert:{type:String,required:!0}},data:function(){return{labels:{helpPath:r.default.trans('If you need help, please contact our <a href="%href%">Help and Support Team</a>',{"%href%":a.default.generate("web_help")}),changeEmail:r.default.trans('Please click on the link in your email to verify your account. <a href="%href%">Resend Verification Email</a>',{"%href%":a.default.generate("web_user_settings_change_email")})}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=n(34),i=_interopRequireDefault(n(246)),o=_interopRequireDefault(n(226)),s=_interopRequireDefault(n(247));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"select-trophy",components:{Pagination:s.default},directives:{ImageDefer:o.default},computed:(0,a.default)({},(0,r.mapState)("trophies",["allTrophiesToGive","finishedLoadingTrophies","meta","trophyType"])),methods:{getMoreTrophies:function(e){this.$store.dispatch("trophies/getAllTrophies",{page:e})},selectTrophyToGive:function(e){this.$store.commit("trophies/setSelectedTrophy",e),this.$store.commit("trophies/setModalState",i.default.modalStates.send)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=n(34),i=_interopRequireDefault(n(29)),o=_interopRequireDefault(n(511)),s=_interopRequireDefault(n(386)),l=_interopRequireDefault(n(246)),u=_interopRequireDefault(n(226)),c=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"send-trophy",components:{FormButton:i.default,FormError:o.default,FormTextarea:s.default},directives:{ImageDefer:u.default},data:function(){return{labels:{changeLink:c.default.trans("change"),sendTrophy:c.default.trans("Send Trophy")}}},computed:(0,a.default)({},(0,r.mapState)({disableSendButton:function(e){return e.trophies.disableSendButton},errorMessage:function(e){return e.trophies.errorMessage},selectedTrophy:function(e){return e.trophies.selectedTrophy},user:function(e){return e.user}}),{message:{get:function(){return this.$store.state.trophies.message},set:function(e){this.$store.commit("trophies/setMessage",e)}}}),methods:{changeSelectedTrophy:function(){this.$store.commit("trophies/setErrorMessage",""),this.$store.commit("trophies/setModalState",l.default.modalStates.select)},sendSelectedTrophy:function(){var e=this;this.$store.commit("trophies/setErrorMessage",""),this.$store.dispatch("trophies/sendTrophyToUser").then(function(){e.$store.commit("trophies/setModalState",l.default.modalStates.sent)})}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=n(30),i=n(34),o=_interopRequireDefault(n(12)),s=_interopRequireDefault(n(226)),l=_interopRequireDefault(n(8)),u=_interopRequireDefault(n(7)),c=_interopRequireDefault(n(320)),d=_interopRequireDefault(n(346));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"sent-trophy",components:{IconFont:o.default,UserChessTitle:c.default,UserUsername:d.default},directives:{ImageDefer:s.default},data:function(){return{labels:{from:u.default.trans("from"),sent:u.default.trans("Sent")},createDate:r.formatDate.numeric()}},computed:(0,a.default)({},(0,i.mapState)({message:function(e){return e.trophies.message},selectedTrophy:function(e){return e.trophies.selectedTrophy},user:function(e){return e.user}}),{memberViewOfSender:function(){return l.default.generate("web_member_view",{username:this.user.username})}}),mounted:function(){setTimeout(function(){},5e3)}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"user-username",props:{showUserPopover:{type:Boolean,default:!1},theme:{type:String,default:"blue"},url:{type:String,required:!1},username:{type:String,required:!0},openNewTab:{type:Boolean,required:!1}},computed:{isLink:function(){return Boolean(this.url)},getTargetIfClickable:function(){return this.openNewTab?"_blank":null}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(81),r=n(50),i=n(245),o=_interopRequireDefault(n(567)),s=_interopRequireDefault(n(493)),l=_interopRequireDefault(n(29)),u=_interopRequireDefault(n(254)),c=_interopRequireDefault(n(8)),d=_interopRequireDefault(n(36)),f=_interopRequireDefault(n(572)),p=_interopRequireDefault(n(395)),m=_interopRequireDefault(n(589)),h=_interopRequireDefault(n(592)),g=_interopRequireDefault(n(496));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"user-popover",components:{LoaderThreeBounce:u.default,UserAvatar:p.default,UserFlairStatus:m.default,UserRating:h.default,UserTagline:g.default,UserActions:f.default,FormButton:l.default,AdminActions:o.default},directives:{Tooltip:d.default,ClickOutside:s.default},props:{avatar:{type:String,required:!0},ratings:{type:Array,required:!0},chessTitle:{type:String,required:!1},country:{type:Object,required:!1},flair:{type:Object,default:function(){return{code:"",status:""}}},isEnabled:{type:Boolean},isLoading:{type:Boolean,default:!1},joinedDate:String,lastLoginDate:String,membership:{type:Number,required:!1},onlineStatus:{type:[Boolean,String],required:!1},usernameElementRef:{type:HTMLElement,required:!0},username:{type:String,required:!1},canAddFriend:Boolean,canBlockUser:Boolean,canUseGlobalChat:Boolean,canReportUser:Boolean,canCreateChallenge:Boolean,canFollowUser:Boolean,canGiftMembership:Boolean,canRemoveFriend:Boolean,canSendMessage:Boolean,canInviteToChat:Boolean,canSendTrophy:Boolean,canUnblockUser:Boolean,canUnfollowUser:Boolean,loggedAsAnother:Boolean,canMuteUser:{type:Boolean,default:!1},canObserveGame:{type:Boolean,default:!1},isBughousePartner:{type:Boolean,default:!1},shouldShowModeration:{type:Boolean,default:!1},challengeUrl:String,canCancelFriendRequest:{type:Boolean,default:!1},canDeclineFriendRequest:{type:Boolean,default:!1},canAcceptFriendRequest:{type:Boolean,default:!1},archiveUrl:String,chatOptions:{type:Array,default:function(){return[]}},canInviteToAnalysis:{type:Boolean,default:!1},analysisOptions:{type:Array,default:function(){return[]}},canModerate:{type:Boolean,default:!1},clientName:String,canWarnOnChat:Boolean,canModerateOnChat:Boolean,showBughousePartner:{type:Boolean,default:!1},openProfileOnNewTab:{type:Boolean,required:!1},membershipUrl:String},data:function(){return{isLive:r.isLive,isOnline:r.isOnline,offset:12,translations:r.translations,confirmMessage:null,confirmCallback:null,position:{x:0,y:0,top:0,left:0}}},computed:{adminActionsIsVisible:function(){return this.canModerate||this.canWarnOnChat||this.canModerateOnChat},memberUrl:function(){return c.default.generate("web_member_view",{username:this.username})},ratingsToShow:function(){return this.ratings.slice(0,3)},isConfirmVisible:function(){return!!this.confirmMessage&&!!this.confirmCallback},inlineStyles:function(){return(0,i.setPopoverPosition)(this.position)}},mounted:function(){this.updatePopoverPosition()},methods:{onMouseEnter:function(){clearTimeout(this.hideTimeout)},onMouseLeave:function(){var e=this;this.hideTimeout=setTimeout(function(){e.hidePopover()},500)},hidePopover:function(){this.$emit("user-popover-hide")},onConfirmYes:function(){this.confirmCallback&&this.confirmCallback(),this.onConfirmNo()},onConfirmNo:function(){this.confirmMessage=null,this.confirmCallback=null},onClickRemoveFriend:function(){var e=this;this.confirmMessage=this.$trans("Are you sure you want to remove this friend from your list?"),this.confirmCallback=function(){return e.$emit("remove-friend")}},onClickBlockUser:function(){var e=this;this.confirmMessage=this.$trans("Are you sure you want to block this user?"),this.confirmCallback=function(){return e.$emit("block-user")}},onClickWarn:function(){var e=this;this.confirmMessage=this.$trans("Are you sure you want to warn this user?"),this.confirmCallback=function(){return e.$emit("warn-user")}},onClickMute:function(){var e=this;this.confirmMessage=this.$trans("Are you sure you want to mute this user?"),this.confirmCallback=function(){return e.$emit("mute-user")}},onClickKick:function(){var e=this;this.confirmMessage=this.$trans("Are you sure you want to kick this user?"),this.confirmCallback=function(){return e.$emit("kick-user")}},onClickBan:function(){var e=this;this.confirmMessage=this.$trans("Are you sure you want to ban this user?"),this.confirmCallback=function(){return e.$emit("ban-user")}},onClickChatWarn:function(){var e=this;this.confirmMessage=this.$trans("Are you sure you want to warn this user?"),this.confirmCallback=function(){return e.$emit("chat-warn-user")}},onClickChatMute:function(){var e=this;this.confirmMessage=this.$trans("Are you sure you want to mute this user?"),this.confirmCallback=function(){return e.$emit("chat-mute-user")}},onClickChatKick:function(){var e=this;this.confirmMessage=this.$trans("Are you sure you want to kick this user?"),this.confirmCallback=function(){return e.$emit("chat-kick-user")}},updatePopoverPosition:function(){if(this.usernameElementRef&&this.$refs.userPopover){var e=this.usernameElementRef.getBoundingClientRect(),t=this.$refs.userPopover.offsetHeight;this.position=(0,a.getUserPopoverPosition)(e,t)}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(350),i=(a=r)&&a.__esModule?a:{default:a};t.default={name:"admin-actions",components:{IconButton:i.default},props:{canModerate:{type:Boolean,default:!1},clientName:String,canWarnOnChat:Boolean,canModerateOnChat:Boolean}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(12)),r=_interopRequireDefault(n(36));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"icon-button",components:{IconFont:a.default},directives:{Tooltip:r.default},props:{action:Function,btnColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}},methods:{onClick:function(e){this.action?this.action(e):this.$emit("click",e)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(31)),r=_interopRequireDefault(n(350)),i=_interopRequireDefault(n(574)),o=_interopRequireDefault(n(517)),s=_interopRequireDefault(n(579)),l=_interopRequireDefault(n(12)),u=_interopRequireDefault(n(582)),c=_interopRequireDefault(n(585));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"user-actions",components:{IconFont:l.default,IconButton:r.default,IconLink:i.default,LabeledIconButton:o.default,LabeledIconLink:s.default,ChatOptionsDropdown:u.default,AnalysisOptionsDropdown:c.default},props:{avatar:String,canAddFriend:Boolean,canBlockUser:Boolean,canReportUser:Boolean,canCreateChallenge:Boolean,canFollowUser:Boolean,canGiftMembership:Boolean,canRemoveFriend:Boolean,canSendMessage:Boolean,canInviteToChat:Boolean,canSendTrophy:Boolean,canUnblockUser:Boolean,canUnfollowUser:Boolean,canUseGlobalChat:Boolean,isEnabled:Boolean,hasInboundFriendRequest:Boolean,hasOutboundFriendRequest:Boolean,loggedAsAnother:Boolean,username:String,canObserveGame:{type:Boolean,default:!1},isBughousePartner:{type:Boolean,default:!1},challengeUrl:String,canCancelFriendRequest:{type:Boolean,default:!1},canDeclineFriendRequest:{type:Boolean,default:!1},canAcceptFriendRequest:{type:Boolean,default:!1},archiveUrl:String,chatOptions:{type:Array,default:function(){return[]}},position:{type:Object,default:function(){return{}}},canInviteToAnalysis:{type:Boolean,default:!1},analysisOptions:{type:Array,default:function(){return[]}},isConfirmVisible:{type:Boolean,default:!1},showBughousePartner:{type:Boolean,default:!1},membershipUrl:String},data:function(){return{allActions:!1,chatDropdownTarget:null,analysisDropdownTarget:null,buttonsListStyle:null}},computed:{showGlobalChatButton:function(){return this.canUseGlobalChat&&!this.canInviteToChat}},methods:{getIconComponent:function(e){return e?i.default:r.default},getIconLabeledComponent:function(e){return e?s.default:o.default},hidePopover:function(){this.$emit("user-popover-hide")},onClickChallenge:function(e){this.challengeUrl?this.hidePopover():(e.username=this.username,e.avatar=this.avatar,this.$emit("create-challenge",e))},onClickMessage:function(e){e.username=this.username,e.avatar=this.avatar,this.$emit("send-message",e)},onClickChat:function(e){this.chatOptions.length?this.chatDropdownTarget=e.target:this.onClickChatOption(e)},onClickChatOption:function(e){this.hideChatDropdown(),this.$emit("request-chat",e)},onClickAnalysis:function(e){this.analysisDropdownTarget=e.target},onClickAnalysisOption:function(e){this.hideAnalysisDropdown(),this.$emit("invite-analysis",e)},onClickAddFriend:function(){this.$emit("add-friend")},onClickCancelFriendRequest:function(){this.$emit("cancel-friend-request")},onClickDeclineFriendRequest:function(){this.$emit("decline-friend-request")},onClickTrophy:function(e){e.username=this.username,this.$emit("show-trophy",e)},onClickGift:function(){this.$emit("show-gift")},onClickArchive:function(e){this.archiveUrl?this.hidePopover():(e.username=this.username,this.$emit("show-archive",e))},onClickRemoveFriend:function(){this.$emit("remove-friend")},onClickAcceptFriendRequest:function(){this.$emit("accept-friend-request")},onClickFollowUser:function(){this.$emit("follow-user")},onClickUnfollowUser:function(){this.$emit("unfollow-user")},onClickBlockUser:function(){this.$emit("block-user")},onClickUnblockUser:function(){this.$emit("unblock-user")},onClickReport:function(){this.$emit("show-report")},onClickObserve:function(){this.$emit("observe-user")},onClickPartner:function(){this.$emit("bughouse-partner")},onClickUnpartner:function(){this.$emit("bughouse-unpartner")},showAllActions:function(){var e=this;this.allActions=!0,this.$nextTick(function(){var t=document.getElementsByClassName(e.$style.buttonsList)[0];if(t){var n=[].concat((0,a.default)(t.children)),r=Math.max.apply(Math,(0,a.default)(n.map(function(e){return e.offsetHeight})));e.buttonsListStyle={height:r*Math.round(n.length/2)+"px"}}e.$nextTick(function(){e.$emit("all-actions-shown")})})},startDirectChat:function(){this.hidePopover(),this.$emit("start-direct-chat")},hideChatDropdown:function(){this.chatDropdownTarget=null},hideAnalysisDropdown:function(){this.analysisDropdownTarget=null}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(12)),r=_interopRequireDefault(n(36));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"icon-link",components:{IconFont:a.default},directives:{Tooltip:r.default},props:{url:String,iconColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(12),i=(a=r)&&a.__esModule?a:{default:a};t.default={name:"labeled-icon-button",components:{IconFont:i.default},props:{action:Function,btnColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}},methods:{onClick:function(e){this.action?this.action(e):this.$emit("click",e)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(12),i=(a=r)&&a.__esModule?a:{default:a};t.default={name:"labeled-icon-button",components:{IconFont:i.default},props:{url:String,iconColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(373)),i=_interopRequireDefault(n(36));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"chat-options-dropdown",directives:{Tooltip:i.default},mixins:[r.default],props:{target:{type:HTMLElement,required:!0},position:{type:Object,required:!0},chatOptions:{type:Array,default:function(){return[]}}},data:function(){return(0,a.default)({},this.createDropdown(["chat"]))},mounted:function(){var e=this,t={target:this.target};this.showDropdown(t,"chat",function(t){t.left-=e.position.left,t.top-=e.position.top})},methods:{onClickOption:function(e,t){e.roomId=t,this.$emit("option-selected",e)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(90)),i=n(81);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={methods:{hasVisibleDropdown:function(){return(0,r.default)(this.dropdown).some(function(e){return"block"===e.display})},createDropdown:function(e){var t={dropdown:{}};return e.forEach(function(e){t.dropdown[e]={display:"none",transform:"translate(0, 0)"}}),t},hideDropdown:function(){var e=this;(0,a.default)(this.dropdown).forEach(function(t){e.dropdown[t].display="none"})},showDropdown:function(e,t,n){var a=this,r=document.querySelector('ul[data-dropdown="'+t+'"]');r&&("block"===this.dropdown[t].display?this.dropdown[t].display="none":(this.hideDropdown(),this.dropdown[t].display="block",this.$nextTick(function(){var o=e.target.getBoundingClientRect(),s=r.getBoundingClientRect(),l=s.width,u=s.height,c=(0,i.getUserPopoverPosition)(o,u,l);n&&n(c);var d=c.left,f=c.top;a.dropdown[t].transform="translate("+d+"px, "+f+"px)"})))}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(373)),i=_interopRequireDefault(n(36));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"analysis-options-dropdown",directives:{Tooltip:i.default},mixins:[r.default],props:{target:{type:HTMLElement,required:!0},position:{type:Object,required:!0},analysisOptions:{type:Array,default:function(){return[]}}},data:function(){return(0,a.default)({},this.createDropdown(["analysis"]))},mounted:function(){var e=this,t={target:this.target};this.showDropdown(t,"analysis",function(t){t.left-=e.position.left,t.top-=e.position.top})},methods:{onClickOption:function(e,t){e.examineId=t,this.$emit("option-selected",e)}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"user-flair-status",props:{status:{type:String,required:!0}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(12),i=(a=r)&&a.__esModule?a:{default:a};t.default={name:"user-rating",components:{IconFont:i.default},props:{icon:{type:String,required:!0},rating:{type:Number,required:!0}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(392)),r=_interopRequireDefault(n(320)),i=_interopRequireDefault(n(334)),o=_interopRequireDefault(n(346));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"user-tagline",components:{CountryFlag:a.default,UserChessTitle:r.default,UserFlairIcon:i.default,UserUsername:o.default},props:{code:{type:String},country:{type:Object,required:!1},isDarkMode:Boolean,membership:{type:Number,required:!0},rating:{type:Number,required:!1},title:{type:String,required:!1},url:{type:String,required:!1},titleUrl:{type:String,required:!1},username:{type:String,required:!0},openProfileOnNewTab:{type:Boolean,required:!1}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(325),r=n(50),i=_interopRequireDefault(n(29)),o=_interopRequireDefault(n(264)),s=_interopRequireDefault(n(599)),l=_interopRequireDefault(n(292));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"modal-user-report",components:{FormButton:i.default,FormCheckbox:o.default,ModalWithFooter:s.default,SectionTitleDismissible:l.default},props:{username:{required:!0,type:String}},data:function(){return{translations:r.translations,reportReasons:r.reportReasons,picked:0,otherReason:"",blockUser:!1,status:""}},computed:{blockUserLabel:function(){return this.translations.block+" "+this.username+"?"},showError:function(){return 0===this.otherReason.length&&6===this.picked},isDisabled:function(){return 0===this.picked||this.showError},statusText:function(){return"success"===this.status?this.$trans("user.report_abuse_success",{"%1$s%":this.username}):"failed"===this.status?this.$trans("user.report_abuse_failure"):void 0},footerButtonText:function(){return this.status?this.$trans("Close"):this.$trans("Cancel")}},mounted:function(){this.$refs.modal.showModal()},methods:{report:function(e,t,n,r){var i=this,o={username:e,picked:t,otherReason:n,blockUser:r};(0,a.reportUser)(o).then(function(){r&&i.$emit("block-user",{username:i.username}),i.status="success"}).catch(function(){return i.status="failed"})},restoreDefaults:function(){this.picked=0,this.otherReason="",this.blockUser=!1,this.status=""},hide:function(){this.$refs.modal&&this.$refs.modal.hideModal()},modalDidHide:function(){this.$emit("modal-did-hide"),this.restoreDefaults()}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(83),r=_interopRequireDefault(n(12)),i=_interopRequireDefault(n(347)),o=_interopRequireDefault(n(51)),s=_interopRequireDefault(n(181));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"game-over-modal",components:{IconFont:r.default,ModalChessboardContainer:i.default,ModalContainer:o.default,ModalContent:s.default},props:{centerOverParent:{type:Boolean,default:!1},newbie:{type:Boolean,default:!1},component:{type:String,default:"modal-container"}},methods:{modalDidHide:function(){this.$emit(a.events.MODAL_DID_HIDE)},showModal:function(){this.$refs.modalContainer.show()},hideModal:function(){this.$refs.modalContainer&&this.$refs.modalContainer.hide(),this.$emit("hide-modal")}}}},,function(e,t,n){n(382),e.exports=n(92).Object.values},function(e,t,n){var a=n(281),r=n(291)(!1);a(a.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.maxPlayerCount=t.tooltipShowKeys=t.timeouts=t.socialNetworks=t.selectors=t.routes=t.offsets=t.measurements=t.languageSettings=t.events=t.classes=t.attributes=void 0;var a,r=n(8),i=(a=r)&&a.__esModule?a:{default:a};t.attributes={speedChessChampionshipUrl:"data-speed-chess-championship-url",challengeUser:"data-challenge-user",loginAndGoRoute:"data-route-login-and-go",registerRoute:"data-route-register",routes:"data-routes",showChallengeUser:"data-show-challenge-user"},t.classes={CLOSE:"close",COLLAPSED:"collapsed",HOVER:"hover",NO_REDIRECT:"noredirect",OPEN:"open",WIDE:"wide"},t.events={CLOSE_SHAREABLE_URL_MODAL:"CLOSE_SHAREABLE_URL_MODAL",OPEN_SHAREABLE_URL_MODAL:"OPEN_SHAREABLE_URL_MODAL",SEND_NEW_GAME_SEEK:"SEND_NEW_GAME_SEEK",SEND_NEW_GAME_SEEK_SUCCESS:"SEND_NEW_GAME_SEEK_SUCCESS",SHOW_NEW_GAME_MODAL:"SHOW_NEW_GAME_MODAL",START_DIRECT_CHAT:"START_DIRECT_CHAT"},t.languageSettings={ANY:"any",DEFAULT_AND_USER:"default_and_user"},t.measurements={MOBILE_WIDTH:960,TOOLTIP_OFFSET:8},t.offsets={COLLAPSED:50,DEFAULT:145,MOBILE:0,WIDE:180},t.routes={registerRoute:function(e){return i.default.generate("web_security_register",{redirectUrl:e})},loginAndGoRoute:function(e){return i.default.generate("web_security_login_and_go",{redirectUrl:e})}},t.selectors={FRIEND_RESULTS:".svelte-friend-result",LESSONS_CONTAINER:".lessons-container",LOGOUT_FORM:".form.logout",LOGOUT_TRIGGER:"#sb .logout",MAIN_NAV:"#sb",MAIN_NAV_CONNECT_LINK:"#sb .link.connect",MAIN_NAV_HOME_LINK:"#sb .link.home",MAIN_NAV_LINKS:"#sb .menu > .link",MAIN_NAV_LOGIN_LINK:"#sb .login",MAIN_NAV_PLAY_LINK:"#sb .link.play",MAIN_NAV_REGISTER_LINK:".signup.register",MAIN_TOP_NAV:"#sb .menu.top",MAIN_TOP_NAV_LINKS:"#sb .menu.top > .link",TOOLTIP:".svelte-tooltip",TOOLTIP_TRIGGER:"[data-tooltip-content]"},t.socialNetworks={FACEBOOK:"facebook",TWITTER:"twitter"},t.timeouts={HIDE_NOTIFICATION_DELAY:200,NAV_DROPDOWN_SHOW_DELAY:200,TOOLTIP_SHOW_DELAY:400},t.tooltipShowKeys={COLLAPSED_NAV:"collapsed-nav"},t.maxPlayerCount=5},,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.pixelDensity=function(e,t){if(e){var n="@2x";return/\.svg$/.test(e)?e:([1.5,3,4].indexOf(t)>-1&&(n="@"+t+"x"),e.replace(/(\.\w+)$/,function(e){return n+e}))}};t.retinaImageSrcset=function(e){if(!e)return null;var t=e.substring(e.lastIndexOf("/")+1);return e+", "+e.replace(t,"")+n(t)+" 2x"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(299),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(464),s=n(5);var l=function(e){this.$style=n(462)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},,,,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.userMention=t.convertUrls=t.htmlEncode=t.htmlDecode=t.cleanTinyMCE=t.removeHtmlWhiteSpace=t.removeHtmlTags=void 0;var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a};var o=t.removeHtmlTags=function(e){return e.replace(/(<(?!img|\/?iframe)([^>]+)>)/gi,"")},s=t.removeHtmlWhiteSpace=function(e){return e.replace(/&nbsp;/g,"")};t.cleanTinyMCE=function(e){var t=o(e);return s(t).trim()},t.htmlDecode=function(e){return(new DOMParser).parseFromString("<!doctype html><body>"+e,"text/html").body.textContent},t.htmlEncode=function(e){for(var t=[60,62],n=e.length,a=[];n--;){var r=e[n].charCodeAt();t.indexOf(r)>-1?a[n]="&#"+r+";":a[n]=e[n]}return a.join("")},t.convertUrls=function(e,t){var n="\\b((?:https?://)?((?:[a-zA-Z0-9-]+\\.)+(?:chess|chesskid|chesspersonality|twitch|prochessleague|youtube)\\.com(?:/[\\w#!:.?+=&;%@!-/]*)?))\\b",a=function(e,t,n,a,r){return a>0&&("@"===r.substr(a-1,1)||'"'===r.substr(a-1,1)||"="===r.substr(a-1,1)||"</a>"===r.substr(a+e.length,4))?e:'<a href="https://'+n+'" class="auto-converted" target="_blank">'+t+"</a>"};return(0,i.default)({allDomains:!1},t).allDomains&&(n+="|\\b((?:(https?://)|(www\\.))([-A-Z0-9+&@#/%=~_|$?!:,.]*[A-Z0-9+&@#/%=~_|$]))",a=function(e,t,n,a,r,i,o,s,l){return t&&n&&"@"===l.substr(s-1,1)?e:t&&n?'<a href="https://'+n+'" class="auto-converted" target="_blank">'+t+"</a>":'<a href="'+(r||"http://")+(i||"")+(o||"")+'" class="auto-converted" target="_blank">'+a+"</a>"}),String(e).replace(new RegExp(n,"gi"),a)},t.userMention=function(e){return String(e).replace(/(^|[^a-zA-Z0-9_!#$%&*@＠])([@＠]([a-zA-Z0-9_-]{3,20}))/g,function(e,t,n,a){return t+'<span class="v-user-popover" v-user-popover="\''+a+"'\" data-username=\"'"+a+"'\"> "+n+"</span>"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(300),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(465),s=n(5),l=Object(s.a)(r.a,o.a,o.b,!1,null,null,null);t.default=l.exports},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(335),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(495),s=n(5);var l=function(e){this.$style=n(494)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){var a=n(397),r=n(442)(function(e,t,n){a(e,t,n)});e.exports=r},function(e,t,n){var a=n(398),r=n(284),i=n(216),o=n(427),s=n(46),l=n(288),u=n(287);e.exports=function baseMerge(e,t,n,c,d){e!==t&&i(t,function(i,l){if(s(i))d||(d=new a),o(e,t,l,n,baseMerge,c,d);else{var f=c?c(u(e,l),i,l+"",e,t,d):void 0;void 0===f&&(f=i),r(e,l,f)}},l)}},function(e,t,n){var a=n(201),r=n(404),i=n(405),o=n(406),s=n(407),l=n(408);function Stack(e){var t=this.__data__=new a(e);this.size=t.size}Stack.prototype.clear=r,Stack.prototype.delete=i,Stack.prototype.get=o,Stack.prototype.has=s,Stack.prototype.set=l,e.exports=Stack},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var a=n(202),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=a(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},function(e,t,n){var a=n(202);e.exports=function(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var a=n(202);e.exports=function(e){return a(this.__data__,e)>-1}},function(e,t,n){var a=n(202);e.exports=function(e,t){var n=this.__data__,r=a(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var a=n(201);e.exports=function(){this.__data__=new a,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var a=n(201),r=n(283),i=n(414),o=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof a){var s=n.__data__;if(!r||s.length<o-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var a=n(176),r=n(410),i=n(46),o=n(412),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||r(e))&&(a(e)?f:s).test(o(e))}},function(e,t,n){var a,r=n(411),i=(a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var a=n(79)["__core-js_shared__"];e.exports=a},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var a=n(415),r=n(422),i=n(424),o=n(425),s=n(426);function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}MapCache.prototype.clear=a,MapCache.prototype.delete=r,MapCache.prototype.get=i,MapCache.prototype.has=o,MapCache.prototype.set=s,e.exports=MapCache},function(e,t,n){var a=n(416),r=n(201),i=n(283);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(i||r),string:new a}}},function(e,t,n){var a=n(417),r=n(418),i=n(419),o=n(420),s=n(421);function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}Hash.prototype.clear=a,Hash.prototype.delete=r,Hash.prototype.get=i,Hash.prototype.has=o,Hash.prototype.set=s,e.exports=Hash},function(e,t,n){var a=n(204);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var a=n(204),r="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var n=t[e];return n===r?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var a=n(204),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var a=n(204),r="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?r:t,this}},function(e,t,n){var a=n(205);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var a=n(205);e.exports=function(e){return a(this,e).get(e)}},function(e,t,n){var a=n(205);e.exports=function(e){return a(this,e).has(e)}},function(e,t,n){var a=n(205);e.exports=function(e,t){var n=a(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t,n){var a=n(284),r=n(428),i=n(429),o=n(432),s=n(433),l=n(207),u=n(115),c=n(435),d=n(208),f=n(176),p=n(46),m=n(436),h=n(210),g=n(287),b=n(437);e.exports=function(e,t,n,v,_,y,w){var M=g(e,n),E=g(t,n),k=w.get(E);if(k)a(e,n,k);else{var O=y?y(M,E,n+"",e,t,w):void 0,S=void 0===O;if(S){var C=u(E),P=!C&&d(E),R=!C&&!P&&h(E);O=E,C||P||R?u(M)?O=M:c(M)?O=o(M):P?(S=!1,O=r(E,!0)):R?(S=!1,O=i(E,!0)):O=[]:m(E)||l(E)?(O=M,l(M)?O=b(M):(!p(M)||v&&f(M))&&(O=s(E))):S=!1}S&&(w.set(E,O),_(O,E,v,y,w),w.delete(E)),a(e,n,O)}}},function(e,t,n){(function(e){var a=n(79),r="object"==typeof t&&t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===r?a.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,a=s?s(n):new e.constructor(n);return e.copy(a),a}}).call(t,n(88)(e))},function(e,t,n){var a=n(430);e.exports=function(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var a=n(431);e.exports=function(e){var t=new e.constructor(e.byteLength);return new a(t).set(new a(e)),t}},function(e,t,n){var a=n(79).Uint8Array;e.exports=a},function(e,t){e.exports=function(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}},function(e,t,n){var a=n(434),r=n(286),i=n(179);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:a(r(e))}},function(e,t,n){var a=n(46),r=Object.create,i=function(){function object(){}return function(e){if(!a(e))return{};if(r)return r(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}();e.exports=i},function(e,t,n){var a=n(77),r=n(52);e.exports=function(e){return r(e)&&a(e)}},function(e,t,n){var a=n(73),r=n(286),i=n(52),o="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,d=u.call(Object);e.exports=function(e){if(!i(e)||a(e)!=o)return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}},function(e,t,n){var a=n(438),r=n(288);e.exports=function(e){return a(e,r(e))}},function(e,t,n){var a=n(439),r=n(233);e.exports=function(e,t,n,i){var o=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),o?r(n,u,c):a(n,u,c)}return n}},function(e,t,n){var a=n(233),r=n(203),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];i.call(e,t)&&r(o,n)&&(void 0!==n||t in e)||a(e,t,n)}},function(e,t,n){var a=n(46),r=n(179),i=n(441),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return i(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var a=n(443),r=n(450);e.exports=function(e){return a(function(t,n){var a=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&r(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++a<i;){var l=n[a];l&&e(t,l,a,o)}return t})}},function(e,t,n){var a=n(180),r=n(444),i=n(446);e.exports=function(e,t){return i(r(e,t,a),e+"")}},function(e,t,n){var a=n(445),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=r(i.length-t,0),l=Array(s);++o<s;)l[o]=i[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=i[o];return u[t]=n(l),a(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var a=n(447),r=n(449)(a);e.exports=r},function(e,t,n){var a=n(448),r=n(285),i=n(180),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:i;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,a=16,r=Date.now;e.exports=function(e){var t=0,i=0;return function(){var o=r(),s=a-(o-i);if(i=o,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var a=n(203),r=n(77),i=n(209),o=n(46);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&i(t,n.length):"string"==s&&t in n)&&a(n[t],e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.lazyVue=void 0;var a=n(259),r=_interopRequireDefault(n(78)),i=_interopRequireDefault(n(45)),o=_interopRequireDefault(n(32)),s=_interopRequireDefault(n(502)),l=_interopRequireDefault(n(534)),u=_interopRequireDefault(n(538));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(0,a.registerModules)({user:s.default,userPopover:l.default});var c=t.lazyVue=(0,r.default)({userPopover:{component:u.default,el:"#user-popover",store:o.default}}),d=0,f=void 0,p=function documentClickListener(e){var t=document.getElementById("userPopover");if(!t||e.target!==t&&!t.contains(e.target)){document.removeEventListener("click",documentClickListener,!0);var n=!f||e.target!==f&&!f.contains(e.target),a=null===f.getAttribute("href");n?d=0:a&&setTimeout(function(){d=0},0)}},m=function(e){f=e.target,0===d&&(d+=1,c.createInstance("userPopover"),i.default.$emit("userPopover/show",e.currentTarget.dataset.username,e.target),e.preventDefault(),document.addEventListener("click",p,!0))};t.default={bind:function(e,t){e.dataset.username=t.value,e.addEventListener("click",m)},unbind:function(e){e.removeEventListener("click",m)},update:function(e,t){e.dataset.username=t.value}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(468),i=(a=r)&&a.__esModule?a:{default:a};t.default=i.default},,function(e,t){e.exports={component:"section-title-dismissible-component",icon:"section-title-dismissible-icon","main-icon":"section-title-dismissible-main-icon",name:"section-title-dismissible-name"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component},[e.icon?n("icon-font",{class:e.$style["main-icon"],attrs:{family:"chess",name:e.icon}}):e._e(),e._v(" "),n("span",{class:e.$style.name},[e._t("default")],2),e._v(" "),n("icon-font",{class:e.$style.icon,attrs:{family:"chess",theme:"primary",name:"x"},on:{click:e.close}})],1)},r=[]},,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.features={DAILY_SEEK:"data-feature-client-daily-seek",FLAIR:"data-flair",IS_LIVE:"data-is-live",LEAGUES:"data-feature-leagues",MULTI_PGN_VIEWER:"data-feature-multi-pgn-viewer",PUBSUB_CHAT:"data-feature-pubsub-chat",SHAREABLE_URL:"data-feature-shareable-url",WORLD_CHESS_CHAMPIONSHIP:"data-feature-wcc"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hasFeatureAccess=void 0;var a=n(506),r={},i=document.getElementById(a.targets.NAV_ROOT);t.hasFeatureAccess=function(e,t){var n=t||i;return r[e]||(r[e]=Boolean(n&&n.getAttribute(e))),r[e]}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var r=(o=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),i=a.sources.map(function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"});return[n].concat(i).concat([r]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(a[i]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&a[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){"use strict";function listToStyles(e,t){for(var n=[],a={},r=0;r<t.length;r++){var i=t[r],o=i[0],s={id:e+":"+r,css:i[1],media:i[2],sourceMap:i[3]};a[o]?a[o].parts.push(s):n.push(a[o]={id:o,parts:[s]})}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){l=n,c=a||{};var i=listToStyles(e,t);return addStylesToDom(i),function(t){for(var n=[],a=0;a<i.length;a++){var o=i[a];(s=r[o.id]).refs--,n.push(s)}for(t?addStylesToDom(i=listToStyles(e,t)):i=[],a=0;a<n.length;a++){var s;if(0===(s=n[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},i=a&&(document.head||document.getElementsByTagName("head")[0]),o=null,s=0,l=!1,u=function(){},c=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function addStylesToDom(e){for(var t=0;t<e.length;t++){var n=e[t],a=r[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(addStyle(n.parts[i]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var o=[];for(i=0;i<n.parts.length;i++)o.push(addStyle(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:o}}}}function createStyleElement(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function addStyle(e){var t,n,a=document.querySelector("style["+d+'~="'+e.id+'"]');if(a){if(l)return u;a.parentNode.removeChild(a)}if(f){var r=s++;a=o||(o=createStyleElement()),t=applyToSingletonTag.bind(null,a,r,!1),n=applyToSingletonTag.bind(null,a,r,!0)}else a=createStyleElement(),t=function(e,t){var n=t.css,a=t.media,r=t.sourceMap;a&&e.setAttribute("media",a);c.ssrId&&e.setAttribute(d,t.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}var p,m=(p=[],function(e,t){return p[e]=t,p.filter(Boolean).join("\n")});function applyToSingletonTag(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=m(t,r);else{var i=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}},,function(e,t){e.exports={component:"form-textarea-component",darkMode:"form-textarea-darkMode",autosize:"form-textarea-autosize",vertical:"form-textarea-vertical","full-width":"form-textarea-full-width"}},function(e,t,n){var a,r,i,o;
/*!
	autosize 4.0.1
	license: MIT
	http://www.jacklmoore.com/autosize
*/
/*!
	autosize 4.0.1
	license: MIT
	http://www.jacklmoore.com/autosize
*/
o=function(e,t){"use strict";var n,a,r="function"==typeof Map?new Map:(n=[],a=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return a[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),a.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),a.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function assign(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!r.has(e)){var t,n=null,a=null,o=null,s=function(){e.clientWidth!==a&&update()},l=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",update,!1),e.removeEventListener("keyup",update,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",update,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),r.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",update,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",update,!1),e.addEventListener("autosize:update",update,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",r.set(e,{destroy:l,update:update}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),update()}function changeOverflow(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function resize(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+n+"px",a=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),r&&(document.documentElement.scrollTop=r)}}function update(){resize();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),a="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(a!==t?"hidden"===n.overflowY&&(changeOverflow("scroll"),resize(),a="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(changeOverflow("hidden"),resize(),a="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),o!==a){o=a;var r=i("autosize:resized");try{e.dispatchEvent(r)}catch(e){}}}}function destroy(e){var t=r.get(e);t&&t.destroy()}function update(e){var t=r.get(e);t&&t.update()}var o=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((o=function(e){return e}).destroy=function(e){return e},o.update=function(e){return e}):((o=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return assign(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],destroy),e},o.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],update),e}),t.default=o,e.exports=t.default},r=[e,t],void 0===(i="function"==typeof(a=o)?a.apply(t,r):a)||(e.exports=i)},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t=this,n=t.$createElement;return(t._self._c||n)("textarea",{class:[t.componentClasses(),(e={},e[t.$style.autosize]=t.autosize,e)],attrs:{"aria-label":t.ariaLabel,name:t.name,placeholder:t.placeholder},domProps:{value:t.value},on:{blur:function(e){return t.blurEvent(e)},focus:function(e){return t.focusEvent(e)},input:function(e){return t.updateValue(e.target.value)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter(e)}}})},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:this.name,expression:"name"}],class:["country-flags-component","country-"+this.code,(e={},e["country-flags-"+this.size]=this.size,e)]})},r=[]},function(e,t){e.exports={component:"modal-chessboard-container-component","chessboard-mirror":"modal-chessboard-container-chessboard-mirror","no-pointer-events":"modal-chessboard-container-no-pointer-events",bg:"modal-chessboard-container-bg",transition:"modal-chessboard-container-transition",enter:"modal-chessboard-container-enter",leave:"modal-chessboard-container-leave"}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.calculateChessboardStyleTop=function(e){var t=e.boardHeight,n=e.modalHeight;return"calc(50% + "+Math.max(n-t,0)/2+"px)"}},function(e,t,n){var a=n(469),r=n(46),i="Expected a function";e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return r(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),a(e,t,{leading:o,maxWait:t,trailing:s})}},function(e,t,n){e.exports=n(6)(178)},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"chessboard-mirror",class:e.componentClasses},[n("transition",{attrs:{"enter-active-class":e.transition?e.transition.enter:e.$style.enter,"leave-active-class":e.transition?e.transition.leave:e.$style.leave}},[e.visible?n("div",{class:[e.$style.component,e.transition&&e.transition.modal||""],style:{top:e.componentStyleTop}},[n("div",{class:e.$style.bg,on:{click:e.onBackgroundClick}}),e._v(" "),n("div",{ref:"content"},[e._t("default")],2)]):e._e()])],1)},r=[]},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(342),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(508),s=n(5);var l=function(e){this.$style=n(507)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(21)),r=_interopRequireDefault(n(23)),i=_interopRequireDefault(n(45));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=null,s=function(){function VisibilityObserver(){var e=this;return(0,a.default)(this,VisibilityObserver),null==o&&(o=this,this.observer=new IntersectionObserver(function(t){t.forEach(function(t){t.intersectionRatio>0&&(i.default.$emit("visibility-observer-change",t.target),e.observer.unobserve(t.target))})},{rootMargin:"50px 0px",threshold:.01})),o}return(0,r.default)(VisibilityObserver,[{key:"observe",value:function(e){this.observer.observe(e)}},{key:"unobserve",value:function(e){this.observer.unobserve(e)}}]),VisibilityObserver}();t.default=new s},function(e,t){e.exports={component:"form-checkbox-component",checkbox:"form-checkbox-checkbox",label:"form-checkbox-label"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component},[n("input",{class:e.$style.checkbox,attrs:{type:"checkbox",disabled:e.disabled,id:e.id||e.name,name:e.name},domProps:{checked:e.value},on:{change:function(t){return e.setCheckboxStatus(t.target.checked)}}}),e._v(" "),n("label",{class:e.$style.label,attrs:{for:e.name}},[e._v("\n    "+e._s(e.label)+"\n  ")])])},r=[]},function(e,t){e.exports={component:"loader-three-bounce-component",circle:"loader-three-bounce-circle",dot:"loader-three-bounce-dot",animate:"loader-three-bounce-animate",bounce1:"loader-three-bounce-bounce1",bounce2:"loader-three-bounce-bounce2"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t=this,n=t.$createElement,a=t._self._c||n;return a("div",{class:[t.$style.component,(e={},e[t.$style.circle]=t.isCircle,e)],style:{width:t.size+"px"}},[a("div",{class:[t.$style.dot,t.$style.bounce1],style:t.dotCss}),t._v(" "),a("div",{class:[t.$style.dot,t.$style.bounce2],style:t.dotCss}),t._v(" "),a("div",{class:t.$style.dot,style:t.dotCss})])},r=[]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(337),r=_interopRequireDefault(n(15)),i=_interopRequireDefault(n(7)),o=_interopRequireDefault(n(32));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={getTranslatedGameType:function(e){var t=a.gameTypes.find(function(t){return t.value===e});if(t)return t.label},isFenPlayable:function(e){if("string"!=typeof e||!e.length)return!1;var t=r.default.getPositionInfo(e);return t&&!0===t.isValid&&!1===t.gameOver},shouldAnimateLastMove:function(e){return!e.isFinished&&!(!e.lastMove||!e.lastMove.length)},isAnalyzable:function(e){return"chess"===e||"chess960"===e},shareBoardLabels:function(){return{generatingGif:i.default.trans("Generating GIF"),animatedGif:i.default.trans("Animated GIF"),gifReady:i.default.trans("Ready! Download GIF"),image:i.default.trans("Image"),current:i.default.trans("Current"),download:i.default.trans("Download")}},shareMenuBoardParams:function(){return{boardStyle:o.default.state.board.boardOptions.boardStyle,pieceStyle:o.default.state.board.boardOptions.pieceStyle,flipped:o.default.state.board.boardOptions.flipBoard}}}},function(e,t,n){"use strict";t.__esModule=!0;var a=_interopRequireDefault(n(612)),r=_interopRequireDefault(n(219));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,a.default)(Object(e)))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var s,l=(0,r.default)(e);!(a=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(357),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(542),s=n(5);var l=function(e){this.$style=n(540)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(326),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(492),s=n(5),l=Object(s.a)(r.a,o.a,o.b,!1,null,null,null);t.default=l.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(327),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(488),s=n(5);var l=function(e){this.$style=n(483)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"adyen-card-deprecated-component","text-center":"adyen-card-deprecated-text-center",label:"adyen-card-deprecated-label",loader:"adyen-card-deprecated-loader",input:"adyen-card-deprecated-input","input-error":"adyen-card-deprecated-input-error","new-card":"adyen-card-deprecated-new-card",button:"adyen-card-deprecated-button","card-detail-row":"adyen-card-deprecated-card-detail-row","saved-card":"adyen-card-deprecated-saved-card","saved-expiration":"adyen-card-deprecated-saved-expiration","saved-change":"adyen-card-deprecated-saved-change"}},function(e,t){!function(t,n){!function(){try{new Uint8Array(1),new Uint32Array(1),new Int32Array(1);return}catch(e){}function f(e,t){return this.slice(e,t)}function c(e,t){arguments.length<2&&(t=0);for(var n=0,a=e.length;n<a;++n,++t)this[t]=255&e[n]}function d(e){var t;if("number"==typeof e){t=new Array(e);for(var n=0;n<e;++n)t[n]=0}else t=e.slice(0);return t.subarray=f,t.buffer=t,t.byteLength=t.length,t.set=c,"object"==typeof e&&e.buffer&&(t.buffer=e.buffer),t}try{window.Uint8Array=d}catch(e){}try{window.Uint32Array=d}catch(e){}try{window.Int32Array=d}catch(e){}}(),function(){try{if("undefined"==typeof window)return;if("btoa"in window)return;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.btoa=function(t){var n,a,r="";for(n=0,a=t.length;n<a;n+=3){var i=255&t.charCodeAt(n),o=255&t.charCodeAt(n+1),s=255&t.charCodeAt(n+2),l=(3&i)<<4|o>>4,u=n+1<a?(15&o)<<2|s>>6:64,c=n+2<a?63&s:64;r+=e.charAt(i>>2)+e.charAt(l)+e.charAt(u)+e.charAt(c)}return r}}catch(e){}}();var a,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="=";function BigInteger(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function nbi(){return new BigInteger(null)}"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=function(e,t,n,a,r,i){for(var o=32767&t,s=t>>15;--i>=0;){var l=32767&this[e],u=this[e++]>>15,c=s*l+u*o;r=((l=o*l+((32767&c)<<15)+n[a]+(1073741823&r))>>>30)+(c>>>15)+s*u+(r>>>30),n[a++]=1073741823&l}return r},a=30):"Netscape"!=navigator.appName?(BigInteger.prototype.am=function(e,t,n,a,r,i){for(;--i>=0;){var o=t*this[e++]+n[a]+r;r=Math.floor(o/67108864),n[a++]=67108863&o}return r},a=26):(BigInteger.prototype.am=function(e,t,n,a,r,i){for(var o=16383&t,s=t>>14;--i>=0;){var l=16383&this[e],u=this[e++]>>14,c=s*l+u*o;r=((l=o*l+((16383&c)<<14)+n[a]+r)>>28)+(c>>14)+s*u,n[a++]=268435455&l}return r},a=28),BigInteger.prototype.DB=a,BigInteger.prototype.DM=(1<<a)-1,BigInteger.prototype.DV=1<<a;BigInteger.prototype.FV=Math.pow(2,52),BigInteger.prototype.F1=52-a,BigInteger.prototype.F2=2*a-52;var o,s,l="0123456789abcdefghijklmnopqrstuvwxyz",u=new Array;for(o="0".charCodeAt(0),s=0;s<=9;++s)u[o++]=s;for(o="a".charCodeAt(0),s=10;s<36;++s)u[o++]=s;for(o="A".charCodeAt(0),s=10;s<36;++s)u[o++]=s;function int2char(e){return l.charAt(e)}function intAt(e,t){var n=u[e.charCodeAt(t)];return null==n?-1:n}function nbv(e){var t=nbi();return t.fromInt(e),t}function nbits(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function Classic(e){this.m=e}function Montgomery(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Arcfour(){this.i=0,this.j=0,this.S=new Array}Classic.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},Classic.prototype.revert=function(e){return e},Classic.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},Classic.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},Classic.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Montgomery.prototype.convert=function(e){var t=nbi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(BigInteger.ZERO)>0&&this.m.subTo(t,t),t},Montgomery.prototype.revert=function(e){var t=nbi();return e.copyTo(t),this.reduce(t),t},Montgomery.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],a=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,a,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},Montgomery.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},Montgomery.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},BigInteger.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},BigInteger.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},BigInteger.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var a=e.length,r=!1,i=0;--a>=0;){var o=8==n?255&e[a]:intAt(e,a);o<0?"-"==e.charAt(a)&&(r=!0):(r=!1,0==i?this[this.t++]=o:i+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-i)-1)<<i,this[this.t++]=o>>this.DB-i):this[this.t-1]|=o<<i,(i+=n)>=this.DB&&(i-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,i>0&&(this[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),r&&BigInteger.ZERO.subTo(this,this)},BigInteger.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},BigInteger.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},BigInteger.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},BigInteger.prototype.lShiftTo=function(e,t){var n,a=e%this.DB,r=this.DB-a,i=(1<<r)-1,o=Math.floor(e/this.DB),s=this.s<<a&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>r|s,s=(this[n]&i)<<a;for(n=o-1;n>=0;--n)t[n]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()},BigInteger.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var a=e%this.DB,r=this.DB-a,i=(1<<a)-1;t[0]=this[n]>>a;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&i)<<r,t[o-n]=this[o]>>a;a>0&&(t[this.t-n-1]|=(this.s&i)<<r),t.t=this.t-n,t.clamp()}},BigInteger.prototype.subTo=function(e,t){for(var n=0,a=0,r=Math.min(e.t,this.t);n<r;)a+=this[n]-e[n],t[n++]=a&this.DM,a>>=this.DB;if(e.t<this.t){for(a-=e.s;n<this.t;)a+=this[n],t[n++]=a&this.DM,a>>=this.DB;a+=this.s}else{for(a+=this.s;n<e.t;)a-=e[n],t[n++]=a&this.DM,a>>=this.DB;a-=e.s}t.s=a<0?-1:0,a<-1?t[n++]=this.DV+a:a>0&&(t[n++]=a),t.t=n,t.clamp()},BigInteger.prototype.multiplyTo=function(e,t){var n=this.abs(),a=e.abs(),r=n.t;for(t.t=r+a.t;--r>=0;)t[r]=0;for(r=0;r<a.t;++r)t[r+n.t]=n.am(0,a[r],t,r,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&BigInteger.ZERO.subTo(t,t)},BigInteger.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var a=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,a,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},BigInteger.prototype.divRemTo=function(e,t,n){var a=e.abs();if(!(a.t<=0)){var r=this.abs();if(r.t<a.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=nbi());var i=nbi(),o=this.s,s=e.s,l=this.DB-nbits(a[a.t-1]);l>0?(a.lShiftTo(l,i),r.lShiftTo(l,n)):(a.copyTo(i),r.copyTo(n));var u=i.t,c=i[u-1];if(0!=c){var d=c*(1<<this.F1)+(u>1?i[u-2]>>this.F2:0),f=this.FV/d,p=(1<<this.F1)/d,m=1<<this.F2,h=n.t,g=h-u,b=null==t?nbi():t;for(i.dlShiftTo(g,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),BigInteger.ONE.dlShiftTo(u,b),b.subTo(i,i);i.t<u;)i[i.t++]=0;for(;--g>=0;){var v=n[--h]==c?this.DM:Math.floor(n[h]*f+(n[h-1]+m)*p);if((n[h]+=i.am(0,v,n,g,0,u))<v)for(i.dlShiftTo(g,b),n.subTo(b,n);n[h]<--v;)n.subTo(b,n)}null!=t&&(n.drShiftTo(u,t),o!=s&&BigInteger.ZERO.subTo(t,t)),n.t=u,n.clamp(),l>0&&n.rShiftTo(l,n),o<0&&BigInteger.ZERO.subTo(n,n)}}},BigInteger.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},BigInteger.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},BigInteger.prototype.exp=function(e,t){if(e>4294967295||e<1)return BigInteger.ONE;var n=nbi(),a=nbi(),r=t.convert(this),i=nbits(e)-1;for(r.copyTo(n);--i>=0;)if(t.sqrTo(n,a),(e&1<<i)>0)t.mulTo(a,r,n);else{var o=n;n=a,a=o}return t.revert(n)},BigInteger.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,a=(1<<t)-1,r=!1,i="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(n=this[o]>>s)>0&&(r=!0,i=int2char(n));o>=0;)s<t?(n=(this[o]&(1<<s)-1)<<t-s,n|=this[--o]>>(s+=this.DB-t)):(n=this[o]>>(s-=t)&a,s<=0&&(s+=this.DB,--o)),n>0&&(r=!0),r&&(i+=int2char(n));return r?i:"0"},BigInteger.prototype.negate=function(){var e=nbi();return BigInteger.ZERO.subTo(this,e),e},BigInteger.prototype.abs=function(){return this.s<0?this.negate():this},BigInteger.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},BigInteger.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)},BigInteger.prototype.mod=function(e){var t=nbi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(BigInteger.ZERO)>0&&e.subTo(t,t),t},BigInteger.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new Classic(t):new Montgomery(t),this.exp(e,n)},BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),Arcfour.prototype.init=function(e){var t,n,a;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,a=this.S[t],this.S[t]=this.S[n],this.S[n]=a;this.i=0,this.j=0},Arcfour.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var d,f,p,m=256;function rng_seed_time(){var e;e=(new Date).getTime(),f[p++]^=255&e,f[p++]^=e>>8&255,f[p++]^=e>>16&255,f[p++]^=e>>24&255,p>=m&&(p-=m)}if(null==f){f=[],p=0;try{if(window.crypto&&window.crypto.getRandomValues){var h=new Uint8Array(32);for(window.crypto.getRandomValues(h),w=0;w<32;++w)f[p++]=h[w]}else if(window.msCrypto&&window.msCrypto.getRandomValues){h=new Uint8Array(32);for(window.msCrypto.getRandomValues(h),w=0;w<32;++w)f[p++]=h[w]}else if(window.crypto&&window.crypto.random){var g=window.crypto.random(32);for(w=0;w<g.length;++w)f[p++]=255&g.charCodeAt(w)}}catch(e){}for(;p<m;)w=Math.floor(65536*Math.random()),f[p++]=w>>>8,f[p++]=255&w;p=0,rng_seed_time()}function rng_get_byte(){if(null==d){for(rng_seed_time(),(d=new Arcfour).init(f),p=0;p<f.length;++p)f[p]=0;p=0}return d.next()}function SecureRandom(){}function RSAKey(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function q(e){throw e}SecureRandom.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=rng_get_byte()},RSAKey.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},RSAKey.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=function(e,t){return new BigInteger(e,t)}(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")},RSAKey.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;for(var n=new Array,a=e.length-1;a>=0&&t>0;)n[--t]=e[a--];n[--t]=0;for(var r=new SecureRandom,i=new Array;t>2;){for(i[0]=0;0==i[0];)r.nextBytes(i);n[--t]=i[0]}return n[--t]=2,n[--t]=0,new BigInteger(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var a=n.toString(16);return 0==(1&a.length)?a:"0"+a},RSAKey.prototype.encrypt_b64=function(e){var t=this.encrypt(e);return t?function(e){var t,n,a="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),a+=r.charAt(n>>6)+r.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),a+=r.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),a+=r.charAt(n>>2)+r.charAt((3&n)<<4));(3&a.length)>0;)a+=i;return a}(t):null};var b,v,_,w=void 0,M=!1,k={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function y(e,t,n){4!==t.length&&q(new k.exception.invalid("invalid aes block size"));var a=e.b[n],r=t[0]^a[0],i=t[n?3:1]^a[1],o=t[2]^a[2];t=t[n?1:3]^a[3];var s,l,u,c,d=a.length/4-2,f=4,p=[0,0,0,0];e=(s=e.k[n])[0];var m=s[1],h=s[2],g=s[3],b=s[4];for(c=0;c<d;c++)s=e[r>>>24]^m[i>>16&255]^h[o>>8&255]^g[255&t]^a[f],l=e[i>>>24]^m[o>>16&255]^h[t>>8&255]^g[255&r]^a[f+1],u=e[o>>>24]^m[t>>16&255]^h[r>>8&255]^g[255&i]^a[f+2],t=e[t>>>24]^m[r>>16&255]^h[i>>8&255]^g[255&o]^a[f+3],f+=4,r=s,i=l,o=u;for(c=0;4>c;c++)p[n?3&-c:c]=b[r>>>24]<<24^b[i>>16&255]<<16^b[o>>8&255]<<8^b[255&t]^a[f++],s=r,r=i,i=o,o=t,t=s;return p}function g(e,t){var n,a,r,i=t.slice(0),o=e.r,s=e.b,l=o[0],u=o[1],c=o[2],d=o[3],f=o[4],p=o[5],m=o[6],h=o[7];for(n=0;64>n;n++)16>n?a=i[n]:(a=i[n+1&15],r=i[n+14&15],a=i[15&n]=(a>>>7^a>>>18^a>>>3^a<<25^a<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+i[15&n]+i[n+9&15]|0),a=a+h+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(m^f&(p^m))+s[n],h=m,m=p,p=f,f=d+a|0,d=c,c=u,l=a+((u=l)&c^d&(u^c))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;o[0]=o[0]+l|0,o[1]=o[1]+u|0,o[2]=o[2]+c|0,o[3]=o[3]+d|0,o[4]=o[4]+f|0,o[5]=o[5]+p|0,o[6]=o[6]+m|0,o[7]=o[7]+h|0}function C(e,t){var n,a=k.random.w[e],r=[];for(n in a)a.hasOwnProperty(n)&&r.push(a[n]);for(n=0;n<r.length;n++)r[n](t)}function E(e){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?k.random.addEntropy(window.performance.now(),e,"loadtime"):k.random.addEntropy((new Date).valueOf(),e,"loadtime")}function A(e){e.b=B(e).concat(B(e)),e.A=new k.cipher.aes(e.b)}function B(e){for(var t=0;4>t&&(e.f[t]=e.f[t]+1|0,!e.f[t]);t++);return e.A.encrypt(e.f)}function D(e,t){return function(){t.apply(e,arguments)}}void 0!==e&&e.exports&&(e.exports=k),k.cipher.aes=function(e){this.k[0][0][0]||this.D();var t,n,a,r,i=this.k[0][4],o=this.k[1],s=1;for(4!==(t=e.length)&&6!==t&&8!==t&&q(new k.exception.invalid("invalid aes key size")),this.b=[a=e.slice(0),r=[]],e=t;e<4*t+28;e++)n=a[e-1],(0==e%t||8===t&&4==e%t)&&(n=i[n>>>24]<<24^i[n>>16&255]<<16^i[n>>8&255]<<8^i[255&n],0==e%t&&(n=n<<8^n>>>24^s<<24,s=s<<1^283*(s>>7))),a[e]=a[e-t]^n;for(t=0;e;t++,e--)n=a[3&t?e:e-4],r[t]=4>=e||4>t?n:o[0][i[n>>>24]]^o[1][i[n>>16&255]]^o[2][i[n>>8&255]]^o[3][i[255&n]]},k.cipher.aes.prototype={encrypt:function(e){return y(this,e,0)},decrypt:function(e){return y(this,e,1)},k:[[[],[],[],[],[]],[[],[],[],[],[]]],D:function(){var e,t,n,a,r,i,o,s=this.k[0],l=this.k[1],u=s[4],c=l[4],d=[],f=[];for(e=0;256>e;e++)f[(d[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!u[t];t^=a||1,n=f[n]||1)for(i=(i=n^n<<1^n<<2^n<<3^n<<4)>>8^255&i^99,u[t]=i,c[i]=t,o=16843009*(r=d[e=d[a=d[t]]])^65537*e^257*a^16843008*t,r=257*d[i]^16843008*i,e=0;4>e;e++)s[e][t]=r=r<<24^r>>>8,l[e][i]=o=o<<24^o>>>8;for(e=0;5>e;e++)s[e]=s[e].slice(0),l[e]=l[e].slice(0)}},k.bitArray={bitSlice:function(e,t,n){return e=k.bitArray.P(e.slice(t/32),32-(31&t)).slice(1),n===w?e:k.bitArray.clamp(e,n-t)},extract:function(e,t,n){var a=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-a^e[t/32+1|0]>>>a:e[t/32|0]>>>a)&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],a=k.bitArray.getPartial(n);return 32===a?e.concat(t):k.bitArray.P(t,a,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+k.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var n=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,0<n&&t&&(e[n-1]=k.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(k.bitArray.bitLength(e)!==k.bitArray.bitLength(t))return M;var n,a=0;for(n=0;n<e.length;n++)a|=e[n]^t[n];return 0===a},P:function(e,t,n,a){var r;for(r=0,a===w&&(a=[]);32<=t;t-=32)a.push(n),n=0;if(0===t)return a.concat(e);for(r=0;r<e.length;r++)a.push(n|e[r]>>>t),n=e[r]<<32-t;return r=e.length?e[e.length-1]:0,e=k.bitArray.getPartial(r),a.push(k.bitArray.partial(t+e&31,32<t+e?n:a.pop(),1)),a},l:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,n;for(t=0;t<e.length;++t)n=e[t],e[t]=n>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return e}},k.codec.utf8String={fromBits:function(e){var t,n,a="",r=k.bitArray.bitLength(e);for(t=0;t<r/8;t++)0==(3&t)&&(n=e[t/4]),a+=String.fromCharCode(n>>>24),n<<=8;return decodeURIComponent(escape(a))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],a=0;for(t=0;t<e.length;t++)a=a<<8|e.charCodeAt(t),3==(3&t)&&(n.push(a),a=0);return 3&t&&n.push(k.bitArray.partial(8*(3&t),a)),n}},k.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return n.substr(0,k.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,a=[];for(n=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)a.push(0^parseInt(e.substr(t,8),16));return k.bitArray.clamp(a,4*n)}},k.codec.base64={J:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,n){var a="",r=0,i=k.codec.base64.J,o=0,s=k.bitArray.bitLength(e);for(n&&(i=i.substr(0,62)+"-_"),n=0;6*a.length<s;)a+=i.charAt((o^e[n]>>>r)>>>26),6>r?(o=e[n]<<6-r,r+=26,n++):(o<<=6,r-=6);for(;3&a.length&&!t;)a+="=";return a},toBits:function(e,t){e=e.replace(/\s|=/g,"");var n,a,r=[],i=0,o=k.codec.base64.J,s=0;for(t&&(o=o.substr(0,62)+"-_"),n=0;n<e.length;n++)0>(a=o.indexOf(e.charAt(n)))&&q(new k.exception.invalid("this isn't base64!")),26<i?(i-=26,r.push(s^a>>>i),s=a<<32-i):s^=a<<32-(i+=6);return 56&i&&r.push(k.bitArray.partial(56&i,s,1)),r}},k.codec.base64url={fromBits:function(e){return k.codec.base64.fromBits(e,1,1)},toBits:function(e){return k.codec.base64.toBits(e,1)}},k.hash.sha256=function(e){this.b[0]||this.D(),e?(this.r=e.r.slice(0),this.o=e.o.slice(0),this.h=e.h):this.reset()},k.hash.sha256.hash=function(e){return(new k.hash.sha256).update(e).finalize()},k.hash.sha256.prototype={blockSize:512,reset:function(){return this.r=this.N.slice(0),this.o=[],this.h=0,this},update:function(e){"string"==typeof e&&(e=k.codec.utf8String.toBits(e));var t,n=this.o=k.bitArray.concat(this.o,e);for(t=this.h,e=this.h=t+k.bitArray.bitLength(e),t=512+t&-512;t<=e;t+=512)g(this,n.splice(0,16));return this},finalize:function(){var e,t=this.o,n=this.r;for(e=(t=k.bitArray.concat(t,[k.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.h/4294967296)),t.push(0|this.h);t.length;)g(this,t.splice(0,16));return this.reset(),n},N:[],b:[],D:function(){function f(e){return 4294967296*(e-Math.floor(e))|0}var e,t=0,n=2;e:for(;64>t;n++){for(e=2;e*e<=n;e++)if(0==n%e)continue e;8>t&&(this.N[t]=f(Math.pow(n,.5))),this.b[t]=f(Math.pow(n,1/3)),t++}}},k.mode.ccm={name:"ccm",encrypt:function(e,t,n,a,r){var i,o=t.slice(0),s=k.bitArray,l=s.bitLength(n)/8,u=s.bitLength(o)/8;for(r=r||64,a=a||[],7>l&&q(new k.exception.invalid("ccm: iv must be at least 7 bytes")),i=2;4>i&&u>>>8*i;i++);return i<15-l&&(i=15-l),n=s.clamp(n,8*(15-i)),t=k.mode.ccm.L(e,t,n,a,r,i),o=k.mode.ccm.p(e,o,n,t,r,i),s.concat(o.data,o.tag)},decrypt:function(e,t,n,a,r){r=r||64,a=a||[];var i=k.bitArray,o=i.bitLength(n)/8,s=i.bitLength(t),l=i.clamp(t,s-r),u=i.bitSlice(t,s-r);s=(s-r)/8;for(7>o&&q(new k.exception.invalid("ccm: iv must be at least 7 bytes")),t=2;4>t&&s>>>8*t;t++);return t<15-o&&(t=15-o),n=i.clamp(n,8*(15-t)),l=k.mode.ccm.p(e,l,n,u,r,t),e=k.mode.ccm.L(e,l.data,n,a,r,t),i.equal(l.tag,e)||q(new k.exception.corrupt("ccm: tag doesn't match")),l.data},L:function(e,t,n,a,r,i){var o=[],s=k.bitArray,l=s.l;if(((r/=8)%2||4>r||16<r)&&q(new k.exception.invalid("ccm: invalid tag length")),(4294967295<a.length||4294967295<t.length)&&q(new k.exception.bug("ccm: can't deal with 4GiB or more data")),i=[s.partial(8,(a.length?64:0)|r-2<<2|i-1)],(i=s.concat(i,n))[3]|=s.bitLength(t)/8,i=e.encrypt(i),a.length)for(65279>=(n=s.bitLength(a)/8)?o=[s.partial(16,n)]:4294967295>=n&&(o=s.concat([s.partial(16,65534)],[n])),o=s.concat(o,a),a=0;a<o.length;a+=4)i=e.encrypt(l(i,o.slice(a,a+4).concat([0,0,0])));for(a=0;a<t.length;a+=4)i=e.encrypt(l(i,t.slice(a,a+4).concat([0,0,0])));return s.clamp(i,8*r)},p:function(e,t,n,a,r,i){var o,s=k.bitArray;o=s.l;var l=t.length,u=s.bitLength(t);if(n=s.concat([s.partial(8,i-1)],n).concat([0,0,0]).slice(0,4),a=s.bitSlice(o(a,e.encrypt(n)),0,r),!l)return{tag:a,data:[]};for(o=0;o<l;o+=4)n[3]++,r=e.encrypt(n),t[o]^=r[0],t[o+1]^=r[1],t[o+2]^=r[2],t[o+3]^=r[3];return{tag:a,data:s.clamp(t,u)}}},k.mode.ocb2={name:"ocb2",encrypt:function(e,t,n,a,r,i){128!==k.bitArray.bitLength(n)&&q(new k.exception.invalid("ocb iv must be 128 bits"));var o,s=k.mode.ocb2.H,l=k.bitArray,u=l.l,c=[0,0,0,0];n=s(e.encrypt(n));var d,f=[];for(a=a||[],r=r||64,o=0;o+4<t.length;o+=4)c=u(c,d=t.slice(o,o+4)),f=f.concat(u(n,e.encrypt(u(n,d)))),n=s(n);return d=t.slice(o),t=l.bitLength(d),o=e.encrypt(u(n,[0,0,0,t])),c=u(c,u((d=l.clamp(u(d.concat([0,0,0]),o),t)).concat([0,0,0]),o)),c=e.encrypt(u(c,u(n,s(n)))),a.length&&(c=u(c,i?a:k.mode.ocb2.pmac(e,a))),f.concat(l.concat(d,l.clamp(c,r)))},decrypt:function(e,t,n,a,r,i){128!==k.bitArray.bitLength(n)&&q(new k.exception.invalid("ocb iv must be 128 bits")),r=r||64;var o,s,l=k.mode.ocb2.H,u=k.bitArray,c=u.l,d=[0,0,0,0],f=l(e.encrypt(n)),p=k.bitArray.bitLength(t)-r,m=[];for(a=a||[],n=0;n+4<p/32;n+=4)d=c(d,o=c(f,e.decrypt(c(f,t.slice(n,n+4))))),m=m.concat(o),f=l(f);return s=p-32*n,d=c(d,o=c(o=e.encrypt(c(f,[0,0,0,s])),u.clamp(t.slice(n),s).concat([0,0,0]))),d=e.encrypt(c(d,c(f,l(f)))),a.length&&(d=c(d,i?a:k.mode.ocb2.pmac(e,a))),u.equal(u.clamp(d,r),u.bitSlice(t,p))||q(new k.exception.corrupt("ocb: tag doesn't match")),m.concat(u.clamp(o,s))},pmac:function(e,t){var n,a=k.mode.ocb2.H,r=k.bitArray,i=r.l,o=[0,0,0,0],s=i(s=e.encrypt([0,0,0,0]),a(a(s)));for(n=0;n+4<t.length;n+=4)s=a(s),o=i(o,e.encrypt(i(s,t.slice(n,n+4))));return n=t.slice(n),128>r.bitLength(n)&&(s=i(s,a(s)),n=r.concat(n,[-2147483648,0,0,0])),o=i(o,n),e.encrypt(i(a(i(s,a(s))),o))},H:function(e){return[e[0]<<1^e[1]>>>31,e[1]<<1^e[2]>>>31,e[2]<<1^e[3]>>>31,e[3]<<1^135*(e[0]>>>31)]}},k.mode.gcm={name:"gcm",encrypt:function(e,t,n,a,r){var i=t.slice(0);return t=k.bitArray,a=a||[],e=k.mode.gcm.p(!0,e,i,a,n,r||128),t.concat(e.data,e.tag)},decrypt:function(e,t,n,a,r){var i=t.slice(0),o=k.bitArray,s=o.bitLength(i);return r=r||128,a=a||[],r<=s?(t=o.bitSlice(i,s-r),i=o.bitSlice(i,0,s-r)):(t=i,i=[]),e=k.mode.gcm.p(M,e,i,a,n,r),o.equal(e.tag,t)||q(new k.exception.corrupt("gcm: tag doesn't match")),e.data},Z:function(e,t){var n,a,r,i,o,s=k.bitArray.l;for(r=[0,0,0,0],i=t.slice(0),n=0;128>n;n++){for((a=0!=(e[Math.floor(n/32)]&1<<31-n%32))&&(r=s(r,i)),o=0!=(1&i[3]),a=3;0<a;a--)i[a]=i[a]>>>1|(1&i[a-1])<<31;i[0]>>>=1,o&&(i[0]^=-520093696)}return r},g:function(e,t,n){var a,r=n.length;for(t=t.slice(0),a=0;a<r;a+=4)t[0]^=4294967295&n[a],t[1]^=4294967295&n[a+1],t[2]^=4294967295&n[a+2],t[3]^=4294967295&n[a+3],t=k.mode.gcm.Z(t,e);return t},p:function(e,t,n,a,r,i){var o,s,l,u,c,d,f,p,m=k.bitArray;for(d=n.length,f=m.bitLength(n),p=m.bitLength(a),s=m.bitLength(r),o=t.encrypt([0,0,0,0]),96===s?(r=r.slice(0),r=m.concat(r,[1])):(r=k.mode.gcm.g(o,[0,0,0,0],r),r=k.mode.gcm.g(o,r,[0,0,Math.floor(s/4294967296),4294967295&s])),s=k.mode.gcm.g(o,[0,0,0,0],a),c=r.slice(0),a=s.slice(0),e||(a=k.mode.gcm.g(o,s,n)),u=0;u<d;u+=4)c[3]++,l=t.encrypt(c),n[u]^=l[0],n[u+1]^=l[1],n[u+2]^=l[2],n[u+3]^=l[3];return n=m.clamp(n,f),e&&(a=k.mode.gcm.g(o,s,n)),e=[Math.floor(p/4294967296),4294967295&p,Math.floor(f/4294967296),4294967295&f],a=k.mode.gcm.g(o,a,e),l=t.encrypt(r),a[0]^=l[0],a[1]^=l[1],a[2]^=l[2],a[3]^=l[3],{tag:m.bitSlice(a,0,i),data:n}}},k.misc.hmac=function(e,t){this.M=t=t||k.hash.sha256;var n,a=[[],[]],r=t.prototype.blockSize/32;for(this.n=[new t,new t],e.length>r&&(e=t.hash(e)),n=0;n<r;n++)a[0][n]=909522486^e[n],a[1][n]=1549556828^e[n];this.n[0].update(a[0]),this.n[1].update(a[1]),this.G=new t(this.n[0])},k.misc.hmac.prototype.encrypt=k.misc.hmac.prototype.mac=function(e){return this.Q&&q(new k.exception.invalid("encrypt on already updated hmac called!")),this.update(e),this.digest(e)},k.misc.hmac.prototype.reset=function(){this.G=new this.M(this.n[0]),this.Q=M},k.misc.hmac.prototype.update=function(e){this.Q=!0,this.G.update(e)},k.misc.hmac.prototype.digest=function(){var e=this.G.finalize();e=new this.M(this.n[1]).update(e).finalize();return this.reset(),e},k.misc.pbkdf2=function(e,t,n,a,r){n=n||1e3,(0>a||0>n)&&q(k.exception.invalid("invalid params to pbkdf2")),"string"==typeof e&&(e=k.codec.utf8String.toBits(e)),"string"==typeof t&&(t=k.codec.utf8String.toBits(t)),e=new(r=r||k.misc.hmac)(e);var i,o,s,l,u=[],c=k.bitArray;for(l=1;32*u.length<(a||1);l++){for(r=i=e.encrypt(c.concat(t,[l])),o=1;o<n;o++)for(i=e.encrypt(i),s=0;s<i.length;s++)r[s]^=i[s];u=u.concat(r)}return a&&(u=c.clamp(u,a)),u},k.prng=function(e){this.c=[new k.hash.sha256],this.i=[0],this.F=0,this.s={},this.C=0,this.K={},this.O=this.d=this.j=this.W=0,this.b=[0,0,0,0,0,0,0,0],this.f=[0,0,0,0],this.A=w,this.B=e,this.q=M,this.w={progress:{},seeded:{}},this.m=this.V=0,this.t=1,this.u=2,this.S=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.T=3e4,this.R=80},k.prng.prototype={randomWords:function(e,t){var n,a,r=[];if((n=this.isReady(t))===this.m&&q(new k.exception.notReady("generator isn't seeded")),n&this.u){n=!(n&this.t),a=[];var i,o=0;for(this.O=a[0]=(new Date).valueOf()+this.T,i=0;16>i;i++)a.push(4294967296*Math.random()|0);for(i=0;i<this.c.length&&(a=a.concat(this.c[i].finalize()),o+=this.i[i],this.i[i]=0,n||!(this.F&1<<i));i++);for(this.F>=1<<this.c.length&&(this.c.push(new k.hash.sha256),this.i.push(0)),this.d-=o,o>this.j&&(this.j=o),this.F++,this.b=k.hash.sha256.hash(this.b.concat(a)),this.A=new k.cipher.aes(this.b),n=0;4>n&&(this.f[n]=this.f[n]+1|0,!this.f[n]);n++);}for(n=0;n<e;n+=4)0==(n+1)%this.S&&A(this),a=B(this),r.push(a[0],a[1],a[2],a[3]);return A(this),r.slice(0,e)},setDefaultParanoia:function(e,t){0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t&&q("Setting paranoia=0 will ruin your security; use it only for testing"),this.B=e},addEntropy:function(e,t,n){n=n||"user";var a,r,i=(new Date).valueOf(),o=this.s[n],s=this.isReady(),l=0;switch((a=this.K[n])===w&&(a=this.K[n]=this.W++),o===w&&(o=this.s[n]=0),this.s[n]=(this.s[n]+1)%this.c.length,typeof e){case"number":t===w&&(t=1),this.c[o].update([a,this.C++,1,t,i,1,0|e]);break;case"object":if("[object Uint32Array]"===(n=Object.prototype.toString.call(e))){for(r=[],n=0;n<e.length;n++)r.push(e[n]);e=r}else for("[object Array]"!==n&&(l=1),n=0;n<e.length&&!l;n++)"number"!=typeof e[n]&&(l=1);if(!l){if(t===w)for(n=t=0;n<e.length;n++)for(r=e[n];0<r;)t++,r>>>=1;this.c[o].update([a,this.C++,2,t,i,e.length].concat(e))}break;case"string":t===w&&(t=e.length),this.c[o].update([a,this.C++,3,t,i,e.length]),this.c[o].update(e);break;default:l=1}l&&q(new k.exception.bug("random: addEntropy only supports number, array of numbers or string")),this.i[o]+=t,this.d+=t,s===this.m&&(this.isReady()!==this.m&&C("seeded",Math.max(this.j,this.d)),C("progress",this.getProgress()))},isReady:function(e){return e=this.I[e!==w?e:this.B],this.j&&this.j>=e?this.i[0]>this.R&&(new Date).valueOf()>this.O?this.u|this.t:this.t:this.d>=e?this.u|this.m:this.m},getProgress:function(e){return e=this.I[e||this.B],this.j>=e?1:this.d>e?1:this.d/e},startCollectors:function(){this.q||(this.a={loadTimeCollector:D(this,this.aa),mouseCollector:D(this,this.ba),keyboardCollector:D(this,this.$),accelerometerCollector:D(this,this.U)},window.addEventListener?(window.addEventListener("load",this.a.loadTimeCollector,M),window.addEventListener("mousemove",this.a.mouseCollector,M),window.addEventListener("keypress",this.a.keyboardCollector,M),window.addEventListener("devicemotion",this.a.accelerometerCollector,M)):document.attachEvent?(document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)):q(new k.exception.bug("can't attach event")),this.q=!0)},stopCollectors:function(){this.q&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,M),window.removeEventListener("mousemove",this.a.mouseCollector,M),window.removeEventListener("keypress",this.a.keyboardCollector,M),window.removeEventListener("devicemotion",this.a.accelerometerCollector,M)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.q=M)},addEventListener:function(e,t){this.w[e][this.V++]=t},removeEventListener:function(e,t){var n,a,r=this.w[e],i=[];for(a in r)r.hasOwnProperty(a)&&r[a]===t&&i.push(a);for(n=0;n<i.length;n++)delete r[a=i[n]]},$:function(){E(1)},ba:function(e){var t,n;try{t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0}catch(e){n=t=0}0!=t&&0!=n&&k.random.addEntropy([t,n],2,"mouse"),E(0)},aa:function(){E(2)},U:function(e){if(e=(e.accelerationIncludingGravity||{}).x||(e.accelerationIncludingGravity||{}).y||(e.accelerationIncludingGravity||{}).z,window.orientation){var t=window.orientation;"number"==typeof t&&k.random.addEntropy(t,1,"accelerometer")}e&&k.random.addEntropy(e,2,"accelerometer"),E(0)}},k.random=new k.prng(6);e:try{var O,S,P,R;if(R=void 0!==e){var T;if(T=e.exports){var x;try{x=require("crypto")}catch(e){x=null}T=(S=x)&&S.randomBytes}R=T}if(R)O=S.randomBytes(128),O=new Uint32Array(new Uint8Array(O).buffer),k.random.addEntropy(O,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(P=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(P);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(P)}k.random.addEntropy(P,1024,"crypto['getRandomValues']")}}catch(e){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}k.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},Y:function(e,t,n,a){n=n||{},a=a||{};var r,i=k.json,o=i.e({iv:k.random.randomWords(4,0)},i.defaults);return i.e(o,n),n=o.adata,"string"==typeof o.salt&&(o.salt=k.codec.base64.toBits(o.salt)),"string"==typeof o.iv&&(o.iv=k.codec.base64.toBits(o.iv)),(!k.mode[o.mode]||!k.cipher[o.cipher]||"string"==typeof e&&100>=o.iter||64!==o.ts&&96!==o.ts&&128!==o.ts||128!==o.ks&&192!==o.ks&&256!==o.ks||2>o.iv.length||4<o.iv.length)&&q(new k.exception.invalid("json encrypt: invalid parameters")),"string"==typeof e?(e=(r=k.misc.cachedPbkdf2(e,o)).key.slice(0,o.ks/32),o.salt=r.salt):k.ecc&&e instanceof k.ecc.elGamal.publicKey&&(r=e.kem(),o.kemtag=r.tag,e=r.key.slice(0,o.ks/32)),"string"==typeof t&&(t=k.codec.utf8String.toBits(t)),"string"==typeof n&&(n=k.codec.utf8String.toBits(n)),r=new k.cipher[o.cipher](e),i.e(a,o),a.key=e,o.ct=k.mode[o.mode].encrypt(r,t,o.iv,n,o.ts),o},encrypt:function(e,t,n,a){var r=k.json,i=r.Y.apply(r,arguments);return r.encode(i)},X:function(e,t,n,a){n=n||{},a=a||{};var r,i,o=k.json;return r=(t=o.e(o.e(o.e({},o.defaults),t),n,!0)).adata,"string"==typeof t.salt&&(t.salt=k.codec.base64.toBits(t.salt)),"string"==typeof t.iv&&(t.iv=k.codec.base64.toBits(t.iv)),(!k.mode[t.mode]||!k.cipher[t.cipher]||"string"==typeof e&&100>=t.iter||64!==t.ts&&96!==t.ts&&128!==t.ts||128!==t.ks&&192!==t.ks&&256!==t.ks||!t.iv||2>t.iv.length||4<t.iv.length)&&q(new k.exception.invalid("json decrypt: invalid parameters")),"string"==typeof e?(e=(i=k.misc.cachedPbkdf2(e,t)).key.slice(0,t.ks/32),t.salt=i.salt):k.ecc&&e instanceof k.ecc.elGamal.secretKey&&(e=e.unkem(k.codec.base64.toBits(t.kemtag)).slice(0,t.ks/32)),"string"==typeof r&&(r=k.codec.utf8String.toBits(r)),i=new k.cipher[t.cipher](e),r=k.mode[t.mode].decrypt(i,t.ct,t.iv,r,t.ts),o.e(a,t),a.key=e,1===n.raw?r:k.codec.utf8String.fromBits(r)},decrypt:function(e,t,n,a){var r=k.json;return r.X(e,r.decode(t),n,a)},encode:function(e){var t,n="{",a="";for(t in e)if(e.hasOwnProperty(t))switch(t.match(/^[a-z0-9]+$/i)||q(new k.exception.invalid("json encode: invalid property name")),n+=a+'"'+t+'":',a=",",typeof e[t]){case"number":case"boolean":n+=e[t];break;case"string":n+='"'+escape(e[t])+'"';break;case"object":n+='"'+k.codec.base64.fromBits(e[t],0)+'"';break;default:q(new k.exception.bug("json encode: unsupported type"))}return n+"}"},decode:function(e){(e=e.replace(/\s/g,"")).match(/^\{.*\}$/)||q(new k.exception.invalid("json decode: this isn't json!")),e=e.replace(/^\{|\}$/g,"").split(/,/);var t,n,a={};for(t=0;t<e.length;t++)(n=e[t].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i))||q(new k.exception.invalid("json decode: this isn't json!")),a[n[2]]=n[3]?parseInt(n[3],10):n[2].match(/^(ct|salt|iv)$/)?k.codec.base64.toBits(n[4]):unescape(n[4]);return a},e:function(e,t,n){if(e===w&&(e={}),t===w)return e;for(var a in t)t.hasOwnProperty(a)&&(n&&e[a]!==w&&e[a]!==t[a]&&q(new k.exception.invalid("required parameter overridden")),e[a]=t[a]);return e},ea:function(e,t){var n,a={};for(n in e)e.hasOwnProperty(n)&&e[n]!==t[n]&&(a[n]=e[n]);return a},da:function(e,t){var n,a={};for(n=0;n<t.length;n++)e[t[n]]!==w&&(a[t[n]]=e[t[n]]);return a}},k.encrypt=k.json.encrypt,k.decrypt=k.json.decrypt,k.misc.ca={},k.misc.cachedPbkdf2=function(e,t){var n,a=k.misc.ca;return n=(t=t||{}).iter||1e3,(n=(a=a[e]=a[e]||{})[n]=a[n]||{firstSalt:t.salt&&t.salt.length?t.salt.slice(0):k.random.randomWords(2,0)})[a=t.salt===w?n.firstSalt:t.salt]=n[a]||k.misc.pbkdf2(e,a,t.iter),{key:n[a].slice(0),salt:a.slice(0)}},(v=(b=k).codec.bytes=b.codec.bytes||{}).fromBits=v.fromBits||function(e){var t,n,a=[],r=b.bitArray.bitLength(e);for(t=0;t<r/8;t++)0==(3&t)&&(n=e[t/4]),a.push(n>>>24),n<<=8;return a},v.toBits=v.toBits||function(e){var t,n=[],a=0;for(t=0;t<e.length;t++)a=a<<8|e[t],3==(3&t)&&(n.push(a),a=0);return 3&t&&n.push(b.bitArray.partial(8*(3&t),a)),n},function(){var e,t=(new Date).getTime();function c(e,t,n,a){if("function"==typeof e.addEventListener)e.addEventListener(t,n,a);else{if(!e.attachEvent)throw new Error(L.errors.UNABLETOBIND+": Unable to bind "+t+"-event");e.attachEvent("on"+t,n)}}_=_||(e={},function(n,a,r){if("bind"===n)return _(r+"Bind"),c(a,"change",function(e){_(r+"FieldChangeCount"),_("log",r,"ch");try{_("set",r+"FieldEvHa",function(e){var t=function(){return{}};window.jQuery&&"function"==typeof window.jQuery._data&&(t=function(e){return window.jQuery._data(e,"events")});for(var n=e,a=0,r=[],i=["onmousedown","onmouseup","onmouseover","onmouseout","onclick","onmousemove","ondblclick","onerror","onresize","onscroll","onkeydown","onkeyup","onkeypress","onchange","onsubmit"],o=i.length;n&&n!==n.documentElement;){for(var s,l=o,u=(n.nodeName||n.tagName||"").toUpperCase().substring(0,3);l--;)d=i[l],n[name]&&(a++,r[d=d+(n===e?"Own":"Par")+u]=r[d]||0,r[d]++);var c=t(n);if("object"==typeof c)for(var d in c)c.hasOwnProperty(d)&&(s=c[d].length,r[d=d+(n===e?"Own":"Par")+u]=r[d]||0,r[d]+=s,a+=s);if(!n.parentNode)break;n=n.parentNode}var f=["total="+a];for(var p in r)r.hasOwnProperty(p)&&r[p]>0&&f.push(p+"="+r[p]);return f.join("&")}(a))}catch(e){_("set",r+"FieldEvHa","Err")}},!0),c(a,"click",function(){_(r+"FieldClickCount"),_("log",r,"cl")},!0),c(a,"focus",function(){_(r+"FieldFocusCount"),_("log",r,"fo")},!0),c(a,"blur",function(){_(r+"FieldBlurCount"),_("log",r,"bl")},!0),c(a,"touchstart",function(){_(r+"FieldTouchStartCount"),_("log",r,"Ts")},!0),c(a,"touchend",function(){_(r+"FieldTouchEndCount"),_("log",r,"Te")},!0),c(a,"touchcancel",function(){_(r+"FieldTouchCancelCount"),_("log",r,"Tc")},!0),c(a,"keyup",function(e){16==e.keyCode?_("log",r,"Su"):17==e.keyCode?_("log",r,"Cu"):18==e.keyCode&&_("log",r,"Au")}),void c(a,"keydown",function(e){switch(_(r+"FieldKeyCount"),e&&e.keyCode){case 8:_("log",r,"Kb");break;case 16:_("log",r,"Sd");break;case 17:_("log",r,"Cd");break;case 18:_("log",r,"Ad");break;case 37:_("log",r,"Kl");break;case 39:_("log",r,"Kr");break;case 46:_("log",r,"Kd");break;case 32:_("log",r,"Ks");break;default:e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105?_("log",r,"KN"):e.keyCode>=65&&e.keyCode<=90?_("log",r,"KL"):(_("log",r,"KU"),_("log",r+"UnkKeys",e.keyCode))}},!0);if("set"!==n){if("log"===n){var i=a+"FieldLog",o=(new Date).getTime()-t;return o=Math.round(o/100),e.hasOwnProperty(i)?e[i]+=","+r+"@"+o:e[i]=r+"@"+o,void(e[i].length>1500&&(e[i]=e[i].substring(e[i].length-1500),e[i]=e[i].substring(e[i].indexOf(",")+1)))}if("extend"!==n)e.hasOwnProperty(n)?e[n]++:e[n]=1;else for(var s in e)"number"!==s&&"expiryMonth"!==s&&"expiryYear"!==s&&"generationtime"!==s&&"holderName"!==s&&"cvc"!==s&&e.hasOwnProperty(s)&&(a[s]=""+e[s])}else e[a]=r}),window&&(window.attachEvent||window.addEventListener)&&(c(window,"focus",function(){_("activate"),window.location&&"string"==typeof window.location.href&&_("set","referrer",window.location.href)}),c(window,"blur",function(){_("deactivate")}))}();var N=t.adyen=t.adyen||{},L=N.encrypt=N.encrypt||{createEncryption:function(e,t){return new $(e,t)}};"function"==typeof n&&n.amd?n("adyen/encrypt",[],function(){return L}):void 0!==e&&e.exports&&(e.exports=L),L.errors=L.errors||{},L.version="0_1_20_1";var I,j={};j.luhnCheck=(I={},function(){var e=arguments,t=arguments.length>0?e[0]:this.cardnumber;if(isNaN(parseInt(t,10)))return!1;var n=t.length,a=1&n,r=0;if(void 0===I[t]){n>=14&&_("luhnCount");for(var i=0;i<n;i++){var o=parseInt(t.charAt(i),10);1&i^a||(o*=2)>9&&(o-=9),r+=o}r%10==0?(_("luhnOkCount"),I[t]=!0):(_("luhnFailCount"),I[t]=!1)}var s=0;for(var l in I)I.hasOwnProperty(l)&&l.length===n&&s++;return _("set","luhnSameLengthCount",s),I[t]}),j.numberCheck=function(e){return!(!(e||"").replace(/[^\d]/g,"").match(/^\d{10,20}$/)||!j.luhnCheck(e))},j.cvcCheck=function(e){return!!(e&&e.match&&e.match(/^\d{3,4}$/))},j.yearCheck=function(e){if(!e||!e.match||!e.match(/^2\d{3}$/))return!1;var t=parseInt(e,10),n=(new Date).getFullYear();return t>=n-2&&t<=n+15},j.monthCheck=function(e){var t=(e||"").replace(/^0(\d)$/,"$1");return!!(t.match(/^([1-9]|10|11|12)$/)&&parseInt(t,10)>=1&&parseInt(t,10)<=12)},j.holderNameCheck=function(e){return!!(e&&e.match&&e.match(/\S/))},j.generationTimeValidDate=function(e){if("string"!=typeof e)return!1;var t=e.match(/^(\d{4})-?(\d{2})-?(\d{2})$/);return!!(t&&(""+t[1]).match(/^20[1-9][0-9]$/)&&(""+t[2]).match(/^(12|11|10|0[1-9])$/)&&(""+t[3]).match(/^(31|30|20|10|[012][1-9])$/))},j.generationTimeValidTime=function(e){if("string"!=typeof e)return!1;var t=/(Z|[\+\-][012345][0-9]:?[012345][0-9])$/;return!!e.match(t)&&e.replace(t,"").replace(/\.\d{3}$/,"").match(/^[012345][0-9]:?[012345][0-9]:?[012345][0-9]$/)},j.generationTimeCheck=function(e){if("string"!=typeof e)return!1;var t=e.split("T");return!(2!==t.length||!j.generationTimeValidDate(t[0])||!j.generationTimeValidTime(t[1]))};var $=function(e,t){try{k.random.startCollectors()}catch(e){}if(this.key=e,this.options=t||{},void 0===this.options.numberIgnoreNonNumeric&&(this.options.numberIgnoreNonNumeric=!0),void 0!==this.options.cvcIgnoreFornumber&&delete this.options.cvcIgnoreFornumber,void 0===this.options.fourDigitCvcForBins&&(this.options.fourDigitCvcForBins="34,37"),void 0!==this.options.cvcLengthFornumber&&delete this.options.cvcLengthFornumber,"string"==typeof this.options.cvcIgnoreBins){var n=[];this.options.cvcIgnoreBins.replace(/\d+/g,function(e){return e.length>0&&!isNaN(parseInt(e,10))&&n.push(e),e}),n.length>0&&(this.options.cvcIgnoreFornumber=new RegExp("^\\s*("+n.join("|")+")"))}else void 0!==this.options.cvcIgnoreBins&&delete this.options.cvcIgnoreBins;if("string"==typeof this.options.fourDigitCvcForBins){var a=[];this.options.fourDigitCvcForBins.replace(/\d+/g,function(e){return e.length>0&&!isNaN(parseInt(e,10))&&a.push(e),e}),a.length>0&&(this.options.cvcLengthFornumber={matcher:new RegExp("^\\s*("+a.join("|")+")"),requiredLength:4})}delete this.options.fourDigitCvcForBins,_("initializeCount")};$.prototype.createRSAKey=function(){var e=this.key.split("|");if(2!==e.length)throw"Malformed public key";var t=e[0],n=e[1],a=new RSAKey;return a.setPublic(n,t),a},$.prototype.createAESKey=function(){return new F},$.prototype.encrypt=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);var a,r,i,o,s,l={};if(void 0!==t.number&&(l.number=t.number),void 0!==t.cvc&&(l.cvc=t.cvc),void 0!==t.expiryMonth&&(l.month=t.expiryMonth),void 0!==t.expiryYear&&(l.year=t.expiryYear),void 0!==t.holderName&&(l.holderName=t.holderName),void 0!==t.generationtime&&(l.generationtime=t.generationtime),!1!==this.options.enableValidations&&!1===this.validate(l).valid)return!1;for(var u=0;u<11&&(k.random&&k.random.isReady(u));u++)_("set","sjclStrength",u);_("extend",t);try{t.dfValue=""}catch(e){}return a=this.createRSAKey(),i=(r=this.createAESKey()).encrypt(JSON.stringify(t)),o=k.codec.bytes.fromBits(r.key()),s=a.encrypt_b64(o),["adyenjs_"+L.version+"$",s,"$",i].join("")},$.prototype.validate=function(e){var t={valid:!0};if("object"!=typeof e)return t.valid=!1,t;for(var n in e)if(e.hasOwnProperty(n)&&void 0!==e[n]){var a=e[n];if(this.options[n+"IgnoreNonNumeric"]&&(a=a.replace(/\D/g,"")),!this.options[n+"SkipValidation"]){for(var r in e)if(e.hasOwnProperty(r)){var i=this.options[n+"IgnoreFor"+r],o=this.options[n+"LengthFor"+r];if(i&&e[r].match(i)){t[n]=!0;continue}if(o&&o.matcher&&o.requiredLength&&e[r].match(o.matcher)&&a.length!==o.requiredLength){t[n]=!1;continue}}if(t.hasOwnProperty(n))t.valid=t.valid&&t[n];else switch(n){case"number":t.number=j.numberCheck(a),t.luhn=t.number,t.valid=t.valid&&t.number;break;case"expiryYear":case"year":t.year=j.yearCheck(a),t.expiryYear=t.year,t.valid=t.valid&&t.year;break;case"cvc":t.cvc=j.cvcCheck(a),t.valid=t.valid&&t.cvc;break;case"expiryMonth":case"month":t.month=j.monthCheck(a),t.expiryMonth=t.month,t.valid=t.valid&&t.month;break;case"holderName":t.holderName=j.holderNameCheck(a),t.valid=t.valid&&t.holderName;break;case"generationtime":t.generationtime=j.generationTimeCheck(a),t.valid=t.valid&&t.generationtime;break;default:t.unknown=t.unknown||[],t.unknown.push(n),t.valid=!1}}}return t},$.prototype.monitor=function(e,t){if("string"!=typeof e||"number"!==e&&"cvc"!==e&&"holderName"!==e)throw new Error("invalid fieldname. Expected 'number', 'cvc' or 'holderName', but received '"+e+"'");_("bind",t,e)};var F=function(){};F.prototype={constructor:F,key:function(){return this._key=this._key||k.random.randomWords(8,6),this._key},encrypt:function(e){return this.encryptWithIv(e,k.random.randomWords(3,6))},encryptWithIv:function(e,t){var n,a,r,i;return n=new k.cipher.aes(this.key()),a=k.codec.utf8String.toBits(e),r=k.mode.ccm.encrypt(n,a,t),i=k.bitArray.concat(t,r),k.codec.base64.fromBits(i)}}}(this,"function"==typeof define?define:null)},function(e,t,n){"use strict";var a,r={},i={},o=["visa","master-card","american-express","diners-club","discover","jcb","unionpay","maestro","mir"];function clone(e){var t;return e?(delete(t=JSON.parse(JSON.stringify(e))).prefixPattern,delete t.exactPattern,t):null}function findType(e){return i[e]||r[e]}function creditCardType(e){var t,n,r=[],i=[];if(!("string"==typeof e||e instanceof String))return[];for(n=0;n<a.length;n++)t=findType(a[n]),0!==e.length?t.exactPattern.test(e)?i.push(clone(t)):t.prefixPattern.test(e)&&r.push(clone(t)):r.push(clone(t));return i.length?i:r}function getCardPosition(e,t){var n=a.indexOf(e);if(!t&&-1===n)throw new Error('"'+e+'" is not a supported card type.');return n}a=clone(o),r.visa={niceType:"Visa",type:"visa",prefixPattern:/^4$/,exactPattern:/^4\d*$/,gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},r["master-card"]={niceType:"Mastercard",type:"master-card",prefixPattern:/^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27|27[0-2]|2720)$/,exactPattern:/^(5[1-5]|222[1-9]|22[3-9]|2[3-6]|27[0-1]|2720)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},r["american-express"]={niceType:"American Express",type:"american-express",prefixPattern:/^(3|34|37)$/,exactPattern:/^3[47]\d*$/,isAmex:!0,gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},r["diners-club"]={niceType:"Diners Club",type:"diners-club",prefixPattern:/^(3|3[0689]|30[0-5])$/,exactPattern:/^3(0[0-5]|[689])\d*$/,gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},r.discover={niceType:"Discover",type:"discover",prefixPattern:/^(6|60|601|6011|65|64|64[4-9])$/,exactPattern:/^(6011|65|64[4-9])\d*$/,gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},r.jcb={niceType:"JCB",type:"jcb",prefixPattern:/^(2|21|213|2131|1|18|180|1800|3|35)$/,exactPattern:/^(2131|1800|35)\d*$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},r.unionpay={niceType:"UnionPay",type:"unionpay",prefixPattern:/^((6|62|62\d|(621(?!83|88|98|99))|622(?!06)|627[02,06,07]|628(?!0|1)|629[1,2])|622018)$/,exactPattern:/^(((620|(621(?!83|88|98|99))|622(?!06|018)|62[3-6]|627[02,06,07]|628(?!0|1)|629[1,2]))\d*|622018\d{12})$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVN",size:3}},r.maestro={niceType:"Maestro",type:"maestro",prefixPattern:/^(5|5[06-9]|6\d*)$/,exactPattern:/^(5[06-9]|6[37])\d*$/,gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},r.mir={niceType:"Mir",type:"mir",prefixPattern:/^(2|22|220|220[0-4])$/,exactPattern:/^(220[0-4])\d*$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},creditCardType.getTypeInfo=function(e){return clone(findType(e))},creditCardType.removeCard=function(e){var t=getCardPosition(e);a.splice(t,1)},creditCardType.addCard=function(e){var t=getCardPosition(e.type,!0);i[e.type]=e,-1===t&&a.push(e.type)},creditCardType.changeOrder=function(e,t){var n=getCardPosition(e);a.splice(n,1),a.splice(t,0,e)},creditCardType.resetModifications=function(){a=clone(o),i={}},creditCardType.types={VISA:"visa",MASTERCARD:"master-card",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",MIR:"mir"},e.exports=creditCardType},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getEncryptedCardData=void 0;var a=n(173);t.getEncryptedCardData=function(){return a.encryptedFields.reduce(function(e,t){var n=document.querySelector("input[name="+t+"]");return e&&n?(e[t]=n.value,e):null},{})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMessage=void 0;var a=n(173);t.getErrorMessage=function(e){return a.adyenErrorMessages[e]?a.adyenErrorMessages[e]:a.adyenErrorMessages.Unknown}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.component]},[e.isFetchingSavedPaymentDetails?n("loader-three-bounce",{class:e.$style.loader,attrs:{size:60}}):e.hasSavedCreditCard?[n("form-checkbox",{class:e.$style["saved-card"],attrs:{name:"saved-card",label:e.displaySavedCard,value:e.hasSavedCreditCard},on:{input:e.enableNewPaymentMethod}}),e._v(" "),e.showRenewsAutomaticallyMessage?n("p",{class:e.$style["text-center"],domProps:{textContent:e._s(e.$trans("Subscription renews automatically. Cancel at any time."))}}):e._e()]:e._e(),e._v(" "),e.showNewCardForm?[e.emailFromContext?e._e():n("label",{class:e.$style.label},[e._v(e._s(e.$trans("Email Address"))+"\n      "),n("form-input",{attrs:{type:"email"},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}}),e._v(" "),n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("Please add an email address"))}})],1),e._v(" "),n("label",{class:e.$style.label},[e._v(e._s(e.$trans("Card Number"))+"\n      "),n("form-input",{attrs:{"data-test-name":"card-number",type:"tel",maxlength:e.maxCardNumberLength,placeholder:e.cardPlaceholder,value:e.prettyCardNumber},on:{input:e.updateCardNumber}}),e._v(" "),e.showCardNumberError?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("The card number is incorrect"))}}):e._e()],1),e._v(" "),n("label",{class:e.$style.label},[e._v(e._s(e.$trans("Holder Name"))+"\n      "),n("form-input",{attrs:{"data-test-name":"card-holder-name",type:"text"},model:{value:e.cardData.holderName,callback:function(t){e.$set(e.cardData,"holderName",t)},expression:"cardData.holderName"}}),e._v(" "),e.hasValidationError("holderName")?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("Please make sure you have entered your credit card information correctly"))}}):e._e()],1),e._v(" "),n("div",{class:e.$style["card-detail-row"]},[n("label",{class:e.$style.label},[e._v(e._s(e.$trans("Month"))+"\n        "),n("form-select",{attrs:{"data-test-name":"card-expiry-month","placeholder-text":"MM",options:e.expiryMonthOptions},model:{value:e.cardData.expiryMonth,callback:function(t){e.$set(e.cardData,"expiryMonth",t)},expression:"cardData.expiryMonth"}}),e._v(" "),e.hasValidationError("expiryMonth")?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("The card's expiration month is invalid"))}}):e._e()],1),e._v(" "),n("label",{class:e.$style.label},[e._v(e._s(e.$trans("Year"))+"\n        "),n("form-select",{attrs:{"data-test-name":"card-expiry-year","placeholder-text":"YYYY",options:e.expiryYearOptions},model:{value:e.cardData.expiryYear,callback:function(t){e.$set(e.cardData,"expiryYear",t)},expression:"cardData.expiryYear"}}),e._v(" "),e.hasValidationError("expiryYear")?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("The card's expiration year is invalid"))}}):e._e()],1),e._v(" "),n("label",{class:e.$style.label},[e._v(e._s(e.cardTypeDetails.code.name)+"\n        "),n("form-input",{attrs:{"data-test-name":"card-cvc",type:"tel",maxlength:e.cardTypeDetails.code.size,placeholder:e.cvcPlaceholder},model:{value:e.cardData.cvc,callback:function(t){e.$set(e.cardData,"cvc",t)},expression:"cardData.cvc"}}),e._v(" "),e.hasValidationError("cvc")?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("The card's security code is invalid"))}}):e._e()],1)]),e._v(" "),e.showRenewsAutomaticallyMessage?n("p",{class:e.$style["text-center"],domProps:{textContent:e._s(e.$trans("Subscription renews automatically. Cancel at any time."))}}):e._e(),e._v(" "),e.hasValidationError("encryption")?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("There was an error processing the request."))}}):e._e(),e._v(" "),e.isMaestro?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("Unfortunately Maestro Cards are not supported for recurring payments. Please use another credit card."))}}):e._e()]:e._e(),e._v(" "),e.generalValidationError?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("There was an error processing the request. Please try again."))}}):e._e(),e._v(" "),e.adyenErrorResponse?n("div",{class:[e.$style["input-error"],e.$style["text-center"]],domProps:{innerHTML:e._s(e.adyenErrorResponse)}}):e._e(),e._v(" "),e.showSubmitButton?e._e():n("div",{class:e.$style["saved-change"],domProps:{textContent:e._s(e.$trans("Change"))},on:{click:function(t){return e.enableNewPaymentMethod()}}}),e._v(" "),n("form-button",{directives:[{name:"show",rawName:"v-show",value:e.showSubmitButton,expression:"showSubmitButton"}],attrs:{"data-test-name":"card-submit",size:"large",theme:"primary",disabled:!e.formCanSubmit,"full-width":!0},on:{click:e.handleFormSubmit}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])],2)},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(329),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(491),s=n(5);var l=function(e){this.$style=n(490)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"adyen-card-new-component","text-center":"adyen-card-new-text-center",label:"adyen-card-new-label",loader:"adyen-card-new-loader",input:"adyen-card-new-input","input-error":"adyen-card-new-input-error","new-card":"adyen-card-new-new-card",button:"adyen-card-new-button","card-detail-row":"adyen-card-new-card-detail-row","saved-card":"adyen-card-new-saved-card","saved-expiration":"adyen-card-new-saved-expiration","saved-change":"adyen-card-new-saved-change"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cards-div",class:[e.$style.component]},[n("div",{staticClass:"js-chckt-pm__pm-holder"},[n("input",{attrs:{type:"hidden",name:"txvariant",value:"card"}}),e._v(" "),e.isFetchingSavedPaymentDetails?n("loader-three-bounce",{class:e.$style.loader,attrs:{size:60}}):e.hasSavedCreditCard?[n("form-checkbox",{class:e.$style["saved-card"],attrs:{name:"saved-card",label:e.displaySavedCard,value:e.hasSavedCreditCard},on:{input:e.enableNewPaymentMethod}}),e._v(" "),e.showRenewsAutomaticallyMessage?n("p",{class:e.$style["text-center"],domProps:{textContent:e._s(e.$trans("Subscription renews automatically. Cancel at any time."))}}):e._e()]:e._e(),e._v(" "),e.showNewCardForm?[e.emailFromContext?e._e():n("label",{class:e.$style.label},[e._v(e._s(e.$trans("Email Address"))+"\n        "),n("form-input",{attrs:{type:"email"},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}}),e._v(" "),n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("Please add an email address"))}})],1),e._v(" "),n("label",{class:e.$style.label},[e._v(e._s(e.$trans("Card Number"))+"\n        "),n("span",{class:e.$style.input,attrs:{"data-cse":"encryptedCardNumber"}}),e._v(" "),e.errors.encryptedCardNumber?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("The card number is incorrect"))}}):e._e()]),e._v(" "),n("div",{class:e.$style["card-detail-row"]},[n("label",{class:e.$style.label},[e._v(e._s(e.$trans("Month"))+"\n          "),n("span",{class:e.$style.input,attrs:{"data-cse":"encryptedExpiryMonth"}}),e._v(" "),e.errors.encryptedExpiryMonth?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("The card's expiration month is invalid"))}}):e._e()]),e._v(" "),n("label",{class:e.$style.label},[e._v(e._s(e.$trans("Year"))+"\n          "),n("span",{class:e.$style.input,attrs:{"data-cse":"encryptedExpiryYear"}}),e._v(" "),e.errors.encryptedExpiryYear?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("The card's expiration year is invalid"))}}):e._e()]),e._v(" "),n("label",{class:e.$style.label},[e._v(e._s(e.$trans("Code (CVC)"))+"\n          "),n("span",{class:e.$style.input,attrs:{"data-cse":"encryptedSecurityCode"}}),e._v(" "),e.errors.encryptedSecurityCode?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("The card's security code is invalid"))}}):e._e()])]),e._v(" "),e.showRenewsAutomaticallyMessage?n("p",{class:e.$style["text-center"],domProps:{textContent:e._s(e.$trans("Subscription renews automatically. Cancel at any time."))}}):e._e(),e._v(" "),e.isMaestro?n("div",{class:e.$style["input-error"],domProps:{textContent:e._s(e.$trans("Unfortunately Maestro Cards are not supported for recurring payments. Please use another credit card."))}}):e._e()]:e._e(),e._v(" "),e.adyenErrorResponse?n("div",{class:[e.$style["input-error"],e.$style["text-center"]],domProps:{innerHTML:e._s(e.adyenErrorResponse)}}):e._e(),e._v(" "),e.showSubmitButton?e._e():n("div",{class:e.$style["saved-change"],domProps:{textContent:e._s(e.$trans("Change"))},on:{click:function(t){return e.enableNewPaymentMethod()}}}),e._v(" "),n("form-button",{directives:[{name:"show",rawName:"v-show",value:e.showSubmitButton,expression:"showSubmitButton"}],attrs:{"data-test-name":"card-submit",size:"large",theme:"primary",disabled:!e.formCanSubmit,"full-width":!0},on:{click:e.handleFormSubmit}},[e._v("\n      "+e._s(e.buttonText)+"\n    ")])],2)])},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.useNewPaymentMethod?n("adyen-card-new",e._g(e._b({},"adyen-card-new",e.$props,!1),e.$listeners)):n("adyen-card-deprecated",e._g(e._b({},"adyen-card-deprecated",e.$props,!1),e.$listeners))},r=[]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(171)),r=_interopRequireDefault(n(220));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"click-outside",bind:function(e,t){var n=void 0,i=void 0,o=1;if(a.default.isFunction(t.value)?n=t.value:a.default.isObject(t.value)&&(n=t.value.handler,o=t.value.delay),!a.default.isFunction(n))throw new Error("must pass function to click-outside");var s=function(e){return e.stopPropagation()},l=function(t){return e!==t.target&&n(e,t)};e.$unbindClickOutside&&e.$unbindClickOutside(),e.$unbindClickOutside=function(){r.default.clearTimeout(i),e.removeEventListener("click",s),document.removeEventListener("click",l),delete e.$unbindClickOutside},i=r.default.setTimeout(function(){e.addEventListener("click",s),document.addEventListener("click",l)},o)},unbind:function(e){e.$unbindClickOutside&&e.$unbindClickOutside()}}},function(e,t){e.exports={component:"user-avatar-component",link:"user-avatar-link",status:"user-avatar-status",online:"user-avatar-online",live:"user-avatar-live",image:"user-avatar-image"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t,n,a=this,r=a.$createElement,i=a._self._c||r;return i("a",{class:[a.$style.component,(e={},e[a.$style.link]=a.isLink,e)],attrs:{href:a.url}},[i("img",{directives:[{name:"image-defer",rawName:"v-image-defer",value:{src:a.image,srcset:!0},expression:"{src: image, srcset: true}"}],class:a.$style.image,attrs:{src:a.blankImage}}),a._v(" "),a.isOnline||a.isLive?i("span",{class:[a.$style.status,(t={},t[a.$style.online]=a.isOnline,t),(n={},n[a.$style.live]=a.isLive,n)]}):a._e()])},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(377),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(596),s=n(5);var l=function(e){this.$style=n(595)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(50),r=n(319);t.default={props:{membership:{type:Number}},computed:{membershipName:function(){return a.membershipNames[this.membership]}},methods:{openFlairSettingsModal:function(){window.location=""+r.routes.settings()+r.flairModalHash}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(343),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(510),s=n(5);var l=function(e){this.$style=n(509)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(525)),r=_interopRequireDefault(n(527)),i=_interopRequireDefault(n(528)),o=_interopRequireDefault(n(529));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={namespaced:!0,actions:a.default,getters:r.default,mutations:i.default,state:o.default}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.priorities={LOW_PRIORITY:1,MEDIUM_PRIORITY:2,HIGH_PRIORITY:3}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(530)),r=_interopRequireDefault(n(531)),i=_interopRequireDefault(n(532)),o=_interopRequireDefault(n(533));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={namespaced:!0,mutations:a.default,actions:r.default,state:i.default,getters:o.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(341),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(505),s=n(5);var l=function(e){this.$style=n(504)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"paypal-component","text-center":"paypal-text-center",button:"paypal-button"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component},[e.isGift?e._e():n("p",{class:e.$style["text-center"]},[e._v("\n    "+e._s(e.$trans("Subscription renews automatically. Cancel at any time."))+"\n  ")]),e._v(" "),n("form",{attrs:{method:"post",action:e.actionLink}},[n("input",{attrs:{name:"cur",type:"hidden"},domProps:{value:e.currencyCode}}),e._v(" "),n("input",{attrs:{name:"generationTime",type:"hidden"},domProps:{value:e.generationTime}}),e._v(" "),e.isGift?[n("input",{attrs:{name:"giftMessage",type:"hidden"},domProps:{value:e.giftData.giftMessage}}),e._v(" "),e.giftData.giftReceiverId?n("input",{attrs:{name:"giftReceiverId",type:"hidden"},domProps:{value:e.giftData.giftReceiverId}}):e._e(),e._v(" "),e.giftData.giftReceiverEmail?n("input",{attrs:{name:"giftReceiverEmail",type:"hidden"},domProps:{value:e.giftData.giftReceiverEmail}}):e._e()]:e._e(),e._v(" "),n("form-button",{class:e.$style.button,attrs:{"full-width":!0,size:"large",theme:"primary",type:"submit"}},[e._v("\n      "+e._s(e.buttonText)+"\n    ")])],2)])},r=[]},function(e,t,n){e.exports=n(6)(141)},function(e,t){e.exports={component:"flair-component","icon-lock-container":"flair-icon-lock-container","icon-lock":"flair-icon-lock",large:"flair-large",diamond_traditional:"flair-diamond_traditional",diamond_blue:"flair-diamond_blue",diamond_purple:"flair-diamond_purple",diamond_red:"flair-diamond_red",diamond_orange:"flair-diamond_orange",diamond_gold:"flair-diamond_gold",diamond_pink:"flair-diamond_pink",diamond_rainbow:"flair-diamond_rainbow",diamond_white:"flair-diamond_white",diamond_black:"flair-diamond_black",crown_traditional:"flair-crown_traditional",crown_blue:"flair-crown_blue",crown_purple:"flair-crown_purple",crown_red:"flair-crown_red",crown_orange:"flair-crown_orange",crown_gold:"flair-crown_gold",crown_pink:"flair-crown_pink",crown_rainbow:"flair-crown_rainbow",crown_white:"flair-crown_white",crown_black:"flair-crown_black",star_traditional:"flair-star_traditional",star_blue:"flair-star_blue",star_purple:"flair-star_purple",star_red:"flair-star_red",star_orange:"flair-star_orange",star_gold:"flair-star_gold",star_pink:"flair-star_pink",star_rainbow:"flair-star_rainbow",star_white:"flair-star_white",star_black:"flair-star_black",smile:"flair-smile",sad:"flair-sad",angry:"flair-angry",ohno:"flair-ohno",worry:"flair-worry",wink:"flair-wink",cry:"flair-cry",sob:"flair-sob",delicious:"flair-delicious",hm:"flair-hm",happy:"flair-happy",eek:"flair-eek",grimace:"flair-grimace",gloat:"flair-gloat",nervous:"flair-nervous",fury:"flair-fury",blush:"flair-blush",shock:"flair-shock",dead:"flair-dead",zzz:"flair-zzz",tongue:"flair-tongue",laugh:"flair-laugh",river:"flair-river",horror:"flair-horror",peaceful:"flair-peaceful",love:"flair-love",smart:"flair-smart",cool:"flair-cool",mustache:"flair-mustache",ghost:"flair-ghost",scream:"flair-scream",devil:"flair-devil",sick:"flair-sick",kiss:"flair-kiss",clap:"flair-clap",thumbs_up:"flair-thumbs_up",thumbs_down:"flair-thumbs_down",pound:"flair-pound",praise:"flair-praise",flex:"flair-flex",hand_waving:"flair-hand_waving",troll:"flair-troll",rainbow:"flair-rainbow",unicorn:"flair-unicorn",coffee_cup:"flair-coffee_cup",donut:"flair-donut",earth:"flair-earth",sad_panda:"flair-sad_panda",skull:"flair-skull",bitcoin:"flair-bitcoin",play:"flair-play",draw:"flair-draw",resign:"flair-resign",board:"flair-board",white_pawn:"flair-white_pawn",white_knight:"flair-white_knight",white_bishop:"flair-white_bishop",white_rook:"flair-white_rook",white_queen:"flair-white_queen",white_king:"flair-white_king",medal:"flair-medal",mate:"flair-mate",sharp:"flair-sharp",clock:"flair-clock",black_pawn:"flair-black_pawn",black_knight:"flair-black_knight",black_bishop:"flair-black_bishop",black_rook:"flair-black_rook",black_queen:"flair-black_queen",black_king:"flair-black_king",bullet:"flair-bullet",blitz:"flair-blitz",live:"flair-live",castle:"flair-castle",skewer:"flair-skewer",fork:"flair-fork",pin:"flair-pin",fish:"flair-fish",trophy:"flair-trophy",battle:"flair-battle",rush:"flair-rush",doubles:"flair-doubles",daily:"flair-daily",chess_tv:"flair-chess_tv",fourp_chess:"flair-fourp_chess",chess_kid:"flair-chess_kid",friend:"flair-friend",club:"flair-club",leaderboard:"flair-leaderboard",computer:"flair-computer",settings:"flair-settings",messages:"flair-messages",arena_kings:"flair-arena_kings",speed_chess_champ:"flair-speed_chess_champ",titled_tuesday:"flair-titled_tuesday",birthday_cake:"flair-birthday_cake",celebration_cap:"flair-celebration_cap",celebration_glasses:"flair-celebration_glasses",valentine_bear:"flair-valentine_bear",valentine_heart:"flair-valentine_heart",valentine_envelope:"flair-valentine_envelope",clover:"flair-clover",gold:"flair-gold",palm_tree:"flair-palm_tree",fireworks:"flair-fireworks",halloween_ghost:"flair-halloween_ghost",halloween_pumpkin:"flair-halloween_pumpkin",halloween_grave:"flair-halloween_grave",leaf:"flair-leaf",thanksgiving:"flair-thanksgiving",gift:"flair-gift",hannukah:"flair-hannukah",christmas_tree:"flair-christmas_tree",christmas_santa:"flair-christmas_santa",christmas_wreath:"flair-christmas_wreath",danny_smile:"flair-danny_smile",danny_omg:"flair-danny_omg",hess:"flair-hess",luis:"flair-luis",hikaru:"flair-hikaru",anna:"flair-anna",alexandra:"flair-alexandra",levy:"flair-levy",eric:"flair-eric",aman:"flair-aman",computer_chess_champs:"flair-computer_chess_champs",stockfish:"flair-stockfish",lc0:"flair-lc0",komodo:"flair-komodo",houdini:"flair-houdini",etheral:"flair-etheral",fire:"flair-fire",leelenstein:"flair-leelenstein",allie:"flair-allie",boom:"flair-boom",pro_chess_league:"flair-pro_chess_league",mosquito:"flair-mosquito",eagle:"flair-eagle",kangaroo:"flair-kangaroo",snowball:"flair-snowball",raptor:"flair-raptor",bear:"flair-bear",blitzstream:"flair-blitzstream",panda:"flair-panda",dallas:"flair-dallas",dynamite:"flair-dynamite",horse:"flair-horse",turtle:"flair-turtle",lion:"flair-lion",migraines:"flair-migraines",champion:"flair-champion",soprano:"flair-soprano",chessbrah:"flair-chessbrah",phoenix:"flair-phoenix",wizard:"flair-wizard",mumbai:"flair-mumbai",marshall:"flair-marshall",gnome:"flair-gnome",surfer:"flair-surfer",mechanic:"flair-mechanic",hacker:"flair-hacker",slugger:"flair-slugger",bishops:"flair-bishops",windmills:"flair-windmills",gentlemen:"flair-gentlemen",pawngrabber:"flair-pawngrabber",blizzard:"flair-blizzard",strombringer:"flair-strombringer",pawn_traditional:"flair-pawn_traditional",pawn_white:"flair-pawn_white",pawn_black:"flair-pawn_black",pawn_blue:"flair-pawn_blue",blocked:"flair-blocked",clear:"flair-clear",clear_light:"flair-clear_light",nothing:"flair-nothing"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.code?n("div",{class:[e.$style.component,e.$style[e.code],e.$style[e.size]],on:{click:e.setFlairCode}},[e.available?e._e():n("div",{class:e.$style["icon-lock-container"]},[n("icon-font",{class:e.$style["icon-lock"],attrs:{family:"chess",name:"lock"}})],1)]):e._e()},r=[]},function(e,t){e.exports={component:"user-membership-icon-component","level-30":"user-membership-icon-level-30",gold:"user-membership-icon-gold","level-40":"user-membership-icon-level-40",platinum:"user-membership-icon-platinum","level-50":"user-membership-icon-level-50",diamond:"user-membership-icon-diamond","level-90":"user-membership-icon-level-90",staff:"user-membership-icon-staff","level-80":"user-membership-icon-level-80",mod:"user-membership-icon-mod",moderator:"user-membership-icon-moderator","level-5":"user-membership-icon-level-5","level-8":"user-membership-icon-level-8",cheater:"user-membership-icon-cheater",unspecifiedClosed:"user-membership-icon-unspecifiedClosed","level-6":"user-membership-icon-level-6",abuser:"user-membership-icon-abuser","level-7":"user-membership-icon-level-7",voluntarilyClosed:"user-membership-icon-voluntarilyClosed",level:"user-membership-icon-level",middle:"user-membership-icon-middle",large:"user-membership-icon-large",responsive:"user-membership-icon-responsive","x-large":"user-membership-icon-x-large"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.membershipIcon&&e.membership>10?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.membershipName,expression:"membershipName"}],class:[e.$style["level-"+e.membership],e.$style[""+e.size],e.$style.component],attrs:{href:e.membershipLink}}):e.membershipIcon&&e.membership<10?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.membershipName,expression:"membershipName"}],class:[e.$style["level-"+e.membership],e.$style.component]}):e._e()},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(344),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(514),s=n(5);var l=function(e){this.$style=n(512)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){var a=n(513);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(460).default)("1e4d66ee",a,!0,{})},function(e,t,n){(t=e.exports=n(459)(!1)).push([e.i,".form-error-component{color:#b33430;font-size:1.2rem;font-weight:600}",""]),t.locals={component:"form-error-component"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.$style.component},[this._t("default")],2)},r=[]},function(e,t){e.exports={component:"user-chess-title-component"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLink?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.fullTitle,expression:"fullTitle"}],class:e.$style.component,attrs:{href:e.url},domProps:{textContent:e._s(e.title)}}):n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.fullTitle,expression:"fullTitle"}],class:e.$style.component,domProps:{textContent:e._s(e.title)}})},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(370),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(578),s=n(5);var l=function(e){this.$style=n(577)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(378),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(602),s=n(5);var l=function(e){this.$style=n(598)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},,,,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(546)),r=_interopRequireDefault(n(547)),i=_interopRequireDefault(n(548));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={namespaced:!0,actions:a.default,mutations:r.default,state:i.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(359),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(564),s=n(5);var l=function(e){this.$style=n(549)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=n(526),i=n(84),o=_interopRequireDefault(n(279)),s=_interopRequireDefault(n(27)),l=_interopRequireDefault(n(8)),u=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={resetGame:function(e){var t=e.commit,n=e.dispatch,r=e.state;n("clearPreviousVariant"),t("updateNewGameSettings",(0,a.default)({},o.default.getDefaultNewGame(),{rating:r.newGameSettings.rating}))},clearPreviousVariant:function(e){(0,e.commit)("clearPreviousVariant")},setGameType:function(e,t){var n=e.commit;n("updateNewGameSettings",{gameType:t}),!0!==t.daily&&n("updateNewGameSettings",{timeVariant:o.default.liveTimeOptions.find(function(e){return!0===e.defaultVariant})})},setGameTime:function(e,t){var n=e.commit,a=e.state,r=null!=t.days;n("updateNewGameSettings",{timeVariant:t}),!0===r&&!0!==a.newGameSettings.gameType.daily&&n("updateNewGameSettings",{gameType:o.default.gameTypes.find(function(e){return!0===e.defaultType})})},setCustomTime:function(e,t){var n=e.commit,a=t.minutes,r=t.seconds,i={minutes:a,seconds:r,customTime:!0};null!=a&&a.toString().length>0&&(null==r||0===r.toString().length)?i.label=u.default.transChoice(o.default.minKey,a,{"%1$s%":a}):null!=a&&a.toString().length>0?i.label=a+" | "+r:i.label=o.default.customTimeOption.label,n("updateNewGameSettings",{timeVariant:i})},toggleCustomTime:function(e){var t=e.commit,n=e.state;t("setPreviousVariant",{gameType:n.newGameSettings.gameType,timeVariant:n.newGameSettings.timeVariant}),t("updateNewGameSettings",{timeVariant:o.default.customTimeOption})},resetCustomTimeIfNecessary:function(e){var t=e.commit,n=e.dispatch,a=e.state;if(!0===a.newGameSettings.timeVariant.customTime&&(null==a.newGameSettings.timeVariant.minutes||0===a.newGameSettings.timeVariant.minutes.length))if(null==a.previousVariant||null==a.previousVariant.gameType||null==a.previousVariant.gameTime){var r=o.default.getDefaultNewGame();t("updateNewGameSettings",{timeVariant:r.timeVariant,gameType:r.gameType})}else t("updateNewGameSettings",{timeVariant:a.previousVariant.gameTime,gameType:a.previousVariant.gameType});n("clearPreviousVariant")},addSeek:function(e,t){(0,e.commit)("addSeek",t)},removeSeek:function(e,t){(0,e.commit)("removeSeek",t)},generateSeek:function(e){var t=e.commit,n=e.dispatch,o=e.state,u=(0,a.default)({},o.newGameSettings),c=void 0,d=u.rating;if(!0!==o.creatingSeek){t("setCreatingSeek",!0),(0,r.persistUserSettings)(u),null===(u=(0,r.formatGameData)(u)).opponent?(c=l.default.generate("web_game_callback_random_daily_chess_challenge"),null!==d&&(u.rating=d,u=(0,r.formatGameRatingData)(u))):c=l.default.generate("web_game_callback_daily_chess_challenge",{opponent:u.opponent.username}),n("addSeek",u);var f=(0,a.default)(u,{_token:window.context.csrf.token});s.default.post(c,f).then(function(e){n("resetGame"),t("setCreatingSeek",!1),n("alerts/create",{type:i.types.success,message:function(e){return e.data&&e.data.message||i.errors.badRequest}(e)},{root:!0})}).catch(function(e){var a=i.errors.badRequest;e.response&&e.response.data&&e.response.data.message&&(a=e.response.data.message),Array.isArray(a)&&(a=a[0]),t("setCreatingSeek",!1),n("alerts/create",{type:i.types.error,message:a},{root:!0}),n("removeSeek",u)})}},getDailyRatings:function(e,t){var n=e.commit;if(!e.state.currentRatings.chess){var a=void 0;if(a)a=t;else{var r=window.location.pathname.split("/");a=2===r[1].length?r[5]:r[4]}return s.default.get(l.default.generate("web_game_callback_ratings",{username:a})).then(function(e){n("updateNewGameSettings",{rating:e.data.dailySettings}),n("setCurrentRatings",e.data.dailyRating)})}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.filterGameTypeList=t.isValid=t.persistUserSettings=t.formatGameRatingData=t.formatGameData=t.normalizeMinGamesPlayed=t.getInitialState=void 0;var a=_interopRequireDefault(n(3));t.buildDropdown=function(e){for(var t=[],n=0;n<e.length;n+=1)t.push({label:e[n],value:Math.abs(e[n])||0});return t},t.getUserThumbnailTitle=function(e){return s.default.trans("%username%'s Thumbnail",{"%username%":e})};var r=_interopRequireDefault(n(227)),i=_interopRequireDefault(n(478)),o=_interopRequireDefault(n(279)),s=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.getInitialState=function(){return{creatingSeek:!1,newGameSettings:o.default.getDefaultNewGame(),seeks:[]}};var l=t.normalizeMinGamesPlayed=function(e){var t=parseInt(e,10);return!t||t<0?0:t>255?255:t};t.formatGameData=function(e){var t=l(e.minGamesPlayed),n=e.gameType.value===o.default.gameTypes[2].value||e.gameType.value===o.default.gameTypes[3].value?o.default.gameTypes[0].value:e.gameType.value,r=(0,a.default)({},{minGamesPlayed:t,opponent:e.opponent||null,startingPosition:e.startingPosition,isRated:e.isRated?1:0,takeback:e.takeback&&!e.isRated,minRequiredGameCount:t,maxTimeoutPercent:e.avoidTimeouts?0:100,minMembershipLevel:e.premiumMembersOnly?30:10,gameType:n});return e.timeVariant&&(r.daysPerMove=e.timeVariant.days),e.playerColor&&(r.color=e.playerColor.value),e.opponent&&(r.opponent=e.opponent),e.moveSpeed&&e.moveSpeed.key&&(r.maxTimePerMove=e.moveSpeed.key),e.name&&e.name.length&&(r.name=e.name.substr(0,100)),r},t.formatGameRatingData=function(e){var t=(0,a.default)({},e);return null==e.rating?t:(e.rating.minRatingDelta||e.rating.maxRatingDelta?(t.minRatingDelta=Math.abs(e.rating.minRatingDelta),t.maxRatingDelta=parseInt(e.rating.maxRatingDelta,10)):(t.minRating=parseInt(e.rating.minRating,10),t.maxRating=parseInt(e.rating.maxRating,10)),t)},t.persistUserSettings=function(e){var t=e.timeVariant.days?"daily":"live",n=t+"TimeOptions";r.default.set("sidebar_challenge_time",{variant:t,index:o.default[n].findIndex(function(t){return t.label===e.timeVariant.label}),timeVariant:e.timeVariant,variantIcon:e.gameType.icon,label:e.timeVariant.label,moveSpeed:e.moveSpeed,avoidTimeouts:e.avoidTimeouts,minGamesPlayed:e.minGamesPlayed})},t.isValid=function(e){return!(!e.timeVariant.minutes&&!e.timeVariant.days)&&(!("custom"===e.gameType.value&&!i.default.isFenPlayable(e.startingPosition))&&!("book"===e.gameType.value&&!e.startingPosition))};t.filterGameTypeList=function(e,t,n){return(!0!==n||!0===n&&!1!==e.quickLaunch)&&(!0===t&&e.live||!0!==t&&e.daily)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={isLiveGameType:function(e){return void 0!==e.newGameSettings.timeVariant.minutes},isDailyGameType:function(e){return void 0!==e.newGameSettings.timeVariant.days}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a};t.default={clearPreviousVariant:function(e){e.previousVariant={gameType:null,gameTime:null}},setPlayerColor:function(e,t){e.newGameSettings.playerColor.value=t},setCurrentRatings:function(e,t){e.currentRatings=t},setPreviousVariant:function(e,t){var n=t.gameType,a=t.timeVariant;e.previousVariant.gameType=n,e.previousVariant.gameTime=a},addSeek:function(e,t){e.seeks.push(t)},removeSeek:function(e,t){e.seeks=e.seeks.filter(function(e){return e.id!==t.id})},setCreatingSeek:function(e,t){e.creatingSeek=t},setShowTimes:function(e,t){e.showTimes=t},updateNewGameSettings:function(e,t){e.newGameSettings=(0,i.default)({},e.newGameSettings,t)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(279),i=(a=r)&&a.__esModule?a:{default:a};t.default={creatingSeek:!1,currentRatings:{},newGameSettings:i.default.getDefaultNewGame(),seeks:[],showTimes:!1,previousVariant:{gameType:null,gameTime:null},opponentEmail:""}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={setLoading:function(e,t){e.loading=t},setLoadingUser:function(e,t){e.loadingUser[t.username]=t.loading},setLoadingFriends:function(e,t){e.loading.friends=t},setFriends:function(e,t){e.friends=t},setLoadingOpponents:function(e,t){e.loading.opponents=t},setOpponents:function(e,t){e.opponents=t},setAvatarUrl:function(e,t){e.avatarUrl=t},setSettingsAvatarUrl:function(e,t){e.settingsAvatarUrl=t},setArchiveView:function(e,t){e.archiveView=t},setFairPlayAgree:function(e,t){e.fairPlayAgree=t},setHomeContentType:function(e,t){e.homeContentType=t},setShowAlertsOnHome:function(e,t){e.showAlertsOnHome=t},setIsThreeD:function(e,t){e.isThreeD=t},setFollowSuggestions:function(e,t){e.followSuggestions=t},removeFollowSuggestedUser:function(e,t){var n=e.followSuggestions,a=n.findIndex(function(e){return e.username===t});-1!==a&&(n.splice(a,1),e.followSuggestions=n)},setFollowMessage:function(e,t){e.followMessage=t},setRoles:function(e,t){e.roles=t},setAdditionalInfo:function(e,t){e.flag=t.flag,e.country=t.country,e.membership=t.membership,e.rating=t.rating},setLoggedIn:function(e,t){e.isLoggedIn=t},setUsername:function(e,t){e.username=t},setMembershipLevel:function(e,t){e.membershipLevel=t}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(199),r=n(84),i=_interopRequireDefault(n(278)),o=_interopRequireDefault(n(27)),s=_interopRequireDefault(n(8)),l=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return e.data&&e.data.message||r.errors.badRequest};t.default={init:function(e){var t=e.dispatch;e.state.isLoggedIn&&(t("getFriends"),t("getOpponents"),t("getAdditionaUserInfoFromDb"))},getFriends:function(e){var t=e.commit,n=e.dispatch,a=e.state;return t("setLoading",!0),o.default.get(s.default.generate("web_friend_callback_friends_search",{user:a.id,avatarSize:50})).then(function(e){t("setLoading",!1),t("setFriends",e.data.friends)}).catch(function(){t("setLoading",!1),n("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},getOpponents:function(e){var t=e.commit,n=e.dispatch;return t("setLoading",!0),o.default.get(s.default.generate("web_user_callback_recent_opponents")).then(function(e){t("setLoading",!1),t("setOpponents",e.data)}).catch(function(){t("setLoading",!1),n("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},getFollowSuggestions:function(e){var t=e.commit,n=e.dispatch;return o.default.get(s.default.generate("web_user_callback_follow_suggestions")).then(function(e){if(e.data.users&&e.data.users.length>0){t("setFollowSuggestions",e.data.users);var n=l.default.trans("Consider following...");e.data.notYetFollowing&&(n=l.default.trans("You are not currently following anyone. Here are a few suggestions...")),t("setFollowMessage",n)}else t("setFollowMessage",null)}).catch(function(){return n("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},acceptFollowSuggestion:function(e,t){var n=e.commit,a=e.dispatch;n("removeFollowSuggestedUser",t),a("trackUser",t)},dismissFollowSuggestion:function(e,t){var n=e.commit,a=e.dispatch;if(!e.state.loadingUser[t])return n("setLoadingUser",{username:t,loading:!0}),n("removeFollowSuggestedUser",t),o.default.post(s.default.generate("web_user_callback_dismiss_follow_suggestion",{username:t})).then(function(){n("setLoadingUser",{username:t,loading:!1})}).catch(function(){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},getAvatar:function(e,t){var n=e.commit;if(!e.state.avatarUrl)return o.default.get(s.default.generate("pubapi_player_profile",{username:t})).then(function(e){n("setAvatarUrl",e.data.avatar)})},addFriend:function(e,t){var n=e.commit,a=e.dispatch,l=e.state,c=t.username?t.username:t,d=t.dispatchCallback?t.dispatchCallback:"getFriends";if(!l.loadingUser[c])return n("setLoadingUser",{username:c,loading:!0}),n("setLoading",!0),i.default.logEvent("Social - AddFriend"),o.default.post(s.default.generate("web_friend_request_callback",{friend:c})).then(function(e){n("setLoadingUser",{username:c,loading:!1}),n("setLoading",!1),a("alerts/create",{type:r.types.success,message:u(e)},{root:!0})}).then(function(){d.includes("/")?a(d,null,{root:!0}):a(d)}).catch(function(e){n("setLoadingUser",{username:c,loading:!1}),n("setLoading",!1),a("alerts/create",{type:r.types.error,message:e.response.data.message},{root:!0})})},deleteFriend:function(e,t){var n=e.commit,a=e.dispatch,i=e.state,l=t.username?t.username:t,c=t.dispatchCallback?t.dispatchCallback:"getFriends";if(!i.loadingUser[l])return n("setLoadingUser",{username:l,loading:!0}),n("setLoading",!0),o.default.delete(s.default.generate("web_friend_delete_callback",{friend:l})).then(function(e){n("setLoadingUser",{username:l,loading:!1}),n("setLoading",!1),a("alerts/create",{type:r.types.success,message:u(e)},{root:!0})}).then(function(){c.includes("/")?a(c,null,{root:!0}):a(c)}).catch(function(){n("setLoadingUser",{username:l,loading:!1}),n("setLoading",!1),a("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},approveFriendRequest:function(e,t){var n=e.commit,a=e.dispatch,i=e.state,l=t.username?t.username:t,c=t.dispatchCallback?t.dispatchCallback:"getFriends";if(!i.loadingUser[l])return n("setLoadingUser",{username:l,loading:!0}),o.default.put(s.default.generate("web_friend_accept_request_callback",{requestor:l})).then(function(e){n("setLoadingUser",{username:l,loading:!1}),a("alerts/create",{type:r.types.success,message:u(e)},{root:!0})}).then(function(){c.includes("/")?a(c,null,{root:!0}):a(c)}).catch(function(){n("setLoadingUser",{username:l,loading:!1}),a("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},blockUser:function(e,t){var n=e.commit,a=e.dispatch;if(!e.state.loadingUser[t])return n("setLoadingUser",{username:t,loading:!0}),o.default.post(s.default.generate("web_member_callback_block_member",{username:t}),{_token:window.context.csrf.token}).then(function(e){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.success,message:u(e)},{root:!0})}).catch(function(){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},unblockUser:function(e,t){var n=e.commit,a=e.dispatch;if(!e.state.loadingUser[t])return n("setLoadingUser",{username:t,loading:!0}),o.default.post(s.default.generate("web_member_callback_unblock_member",{username:t}),{_token:window.context.csrf.token}).then(function(e){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.success,message:u(e)},{root:!0})}).catch(function(){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},trackUser:function(e,t){var n=e.commit,a=e.dispatch;if(!e.state.loadingUser[t])return n("setLoadingUser",{username:t,loading:!0}),o.default.post(s.default.generate("web_member_callback_track_member",{username:t}),{_token:window.context.csrf.token}).then(function(e){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.success,message:u(e)},{root:!0})}).catch(function(){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},untrackUser:function(e,t){var n=e.commit,a=e.dispatch;if(!e.state.loadingUser[t])return n("setLoadingUser",{username:t,loading:!0}),o.default.post(s.default.generate("web_member_callback_untrack_member",{username:t}),{_token:window.context.csrf.token}).then(function(e){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.success,message:u(e)},{root:!0})}).catch(function(){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},saveBoardSettings:function(e,t){var n=e.dispatch,a={pieceCode:t.pieceStyle,boardCode:t.boardStyle,animationCode:window.animationType,_token:window.context.csrf.token};return o.default.put(s.default.generate("web_user_callback_board_settings",a)).then(function(e){n("alerts/create",{type:r.types.success,message:u(e)},{root:!0})}).catch(function(){return n("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},setArchiveView:function(e,t){var n=e.commit,r=e.state;if((0,a.isValidArchiveView)(t))return r.archiveView!==t?(n("setArchiveView",t),o.default.post(s.default.generate("web_user_callback_set_archive_view"),{archiveView:t})):void 0},setFairPlayAgree:function(e){return(0,e.commit)("setFairPlayAgree",!0),o.default.post(s.default.generate("web_user_callback_set_fair_play_agree",{fairPlayAgree:1}))},setHomeContentType:function(e,t){var n=e.commit;if((0,a.isValidHomeContentType)(t))return n("setHomeContentType",t),o.default.post(s.default.generate("web_user_callback_set_home_recent_content_type"),{recentContentType:t})},setShowAlertsOnHome:function(e,t){return(0,e.commit)("setShowAlertsOnHome",t),o.default.post(s.default.generate("web_user_callback_set_show_alerts_on_home"),{showAlertsOnHome:t})},setIsThreeD:function(e,t){(0,e.commit)("setIsThreeD",t)},setOnboarding:function(e,t){var n=e.dispatch;return o.default.post(s.default.generate("web_user_callback_set_onboarding"),t).catch(function(){return n("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},cancelFriendRequest:function(e,t){var n=e.commit,a=e.dispatch;if(!e.state.loadingUser[t])return n("setLoadingUser",{username:t,loading:!0}),o.default.post(s.default.generate("web_friend_cancel_request_callback",{receiver:t})).then(function(e){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.success,message:u(e)},{root:!0})}).catch(function(){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},declineFriendRequest:function(e,t){var n=e.commit,a=e.dispatch;if(!e.state.loadingUser[t])return n("setLoadingUser",{username:t,loading:!0}),o.default.delete(s.default.generate("web_friend_decline_request_callback",{requestor:t})).then(function(e){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.success,message:u(e)},{root:!0})}).catch(function(){n("setLoadingUser",{username:t,loading:!1}),a("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},refreshUserRoles:function(e){var t=e.commit;if(e.state.isLoggedIn)return o.default.get(s.default.generate("web_security_callback_user_roles")).then(function(e){t("setRoles",e.data)})},checkValidUsername:function(e,t){var n=e.dispatch;return o.default.get(s.default.generate("web_user_callback_valid_username",{username:t})).then(function(e){return e.data}).catch(function(){return n("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})},getAdditionaUserInfoFromDb:function(e){var t=e.commit,n=e.dispatch,a=e.state;if(""!==a.username&&null!==a.username&&null===a.flag)return o.default.get(s.default.generate("web_user_callback_popup",{username:a.username})).then(function(e){t("setAdditionalInfo",{flag:e.data.countryId,country:e.data.countryName,membership:e.data.membership.code,rating:e.data.bestRating})}).catch(function(){return n("alerts/create",{type:r.types.error,message:r.errors.badRequest},{root:!0})})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(199)),r=_interopRequireDefault(n(355));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=(0,_interopRequireDefault(n(340)).default)({friends:[],opponents:[],loading:{friends:!1,opponents:!1},boardSettings:{},roles:[],isLoggedIn:!1,username:"",country:null,flag:null,rating:null,membership:null},r.default.user);t.default={chessTitle:a.checkUserStatus("chessTitle")||"",friends:i.friends,roles:i.roles,findFriendByUserId:function(e){return i.friends.find(function(t){return t.user_id===e})},opponents:i.opponents,boardSettings:i.boardSettings,loading:!1,loadingUser:{},eligibleFirstTrial:a.eligibleFirstTrial(),isActivated:a.checkUserStatus("isActivated"),isLoggedIn:a.isLoggedIn(),isEnabled:a.isEnabled("isEnabled"),isImpersonating:a.isImpersonating(),isStaff:a.checkUserStatus("isStaff"),isStaffOnly:a.checkUserStatus("isStaffOnly"),isModerator:a.checkUserStatus("isModerator"),isModeratorOnly:a.checkUserStatus("isModeratorOnly"),isDiamond:a.checkUserStatus("isDiamond"),isDiamondOnly:a.checkUserStatus("isDiamondOnly"),isPlatinum:a.checkUserStatus("isPlatinum"),isPlatinumOnly:a.checkUserStatus("isPlatinumOnly"),isSilver:a.checkUserStatus("isSilver"),isSilverOnly:a.checkUserStatus("isSilverOnly"),isGold:a.checkUserStatus("isGold"),isGoldOnly:a.checkUserStatus("isGoldOnly"),isPremium:a.checkUserStatus("isPremium"),isBasic:a.checkUserStatus("isBasic"),id:a.getAdditionalUserInfo("getUserId"),language:a.getAdditionalUserInfo("language"),contentLanguage:a.getAdditionalUserInfo("contentLanguage"),username:a.getAdditionalUserInfo("getUsername"),avatarUrl:a.getAdditionalUserInfo("getAvatarUrl"),settingsAvatarUrl:a.getAdditionalUserInfo("getSettingsAvatarUrl"),avatarLargeUrl:a.getAdditionalUserInfo("getAvatarLargeUrl"),lastLoginDate:a.getAdditionalUserInfo("getLastLoginDate"),registerDate:a.getAdditionalUserInfo("registerDate"),timezone:a.getAdditionalUserInfo("getTimezone"),diagramSettings:a.getAdditionalUserInfo("getDiagramSettings"),speaksEnglish:a.getAdditionalUserInfo("speaksEnglish"),isThreeD:!1,showAlertsOnHome:a.getAdditionalUserInfo("showAlertsOnHome"),archiveView:a.getAdditionalUserInfo("getArchiveView"),homeContentType:a.getAdditionalUserInfo("homeContentType"),membershipLevel:a.getAdditionalUserInfo("getMembershipLevel"),isContentHidden:a.getAdditionalUserInfo("isContentHidden"),fairPlayAgree:a.getAdditionalUserInfo("fairPlayAgree"),features:a.getFeatures(),followSuggestions:[],followMessage:"",country:i.country,flag:i.flag,rating:i.rating,membership:i.membership,safeMode:a.getAdditionalUserInfo("safeMode"),uuid:a.getAdditionalUserInfo("uuid")}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={chessTitle:function(e){return e.chessTitle},isActivated:function(e){return e.isActivated},id:function(e){return e.id},isImpersonating:function(e){return e.isImpersonating},isLoggedIn:function(e){return e.isLoggedIn},username:function(e){return e.username},roles:function(e){return e.roles},isPremium:function(e){return e.isPremium}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(535)),r=_interopRequireDefault(n(536)),i=_interopRequireDefault(n(537));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={namespaced:!0,mutations:a.default,actions:r.default,state:i.default}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(245);t.default={hideUserPopover:function(e){e.isHovered=!1,e.show=!1},hover:function(e){e.isHovered=!0},resetUser:function(e){e.user=(0,a.defaultUserState)()},showUserPopover:function(e){e.show=!0},setPosition:function(e,t){e.position=t},setUser:function(e,t){e.user=t}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(3),i=(a=r)&&a.__esModule?a:{default:a},o=n(325);t.default={fetchUserPopover:function(e,t){var n=e.commit;(0,o.fetchUserPopoverData)(t).then(function(e){n("setUser",(0,i.default)({},e.data,{username:t}))}).catch(function(){n("setUser",{userNotExist:!0})})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(245);t.default={isHovered:!1,show:!1,user:(0,a.defaultUserState)(),position:{x:"right",y:"bottom",top:0,left:0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(356),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(603),s=n(5);var l=function(e){this.$style=n(539)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={"placeholder-popover":"user-popover-placeholder-popover",bottom:"user-popover-bottom",top:"user-popover-top","placeholder-component":"user-popover-placeholder-component","placeholder-profile":"user-popover-placeholder-profile","placeholder-avatar":"user-popover-placeholder-avatar","placeholder-info":"user-popover-placeholder-info"}},function(e,t){e.exports={modal:"modal-gift-membership-modal",header:"modal-gift-membership-header",title:"modal-gift-membership-title",close:"modal-gift-membership-close",icon:"modal-gift-membership-icon",plans:"modal-gift-membership-plans",plan:"modal-gift-membership-plan",paymentinfo:"modal-gift-membership-paymentinfo",methods:"modal-gift-membership-methods",paymentmethods:"modal-gift-membership-paymentmethods",methodicon:"modal-gift-membership-methodicon",paypal:"modal-gift-membership-paypal",card:"modal-gift-membership-card",anothercard:"modal-gift-membership-anothercard",info:"modal-gift-membership-info",terms:"modal-gift-membership-terms",submit:"modal-gift-membership-submit",order:"modal-gift-membership-order",promo:"modal-gift-membership-promo",message:"modal-gift-membership-message",benefits:"modal-gift-membership-benefits",benefit:"modal-gift-membership-benefit",pict:"modal-gift-membership-pict",puzzle:"modal-gift-membership-puzzle",lesson:"modal-gift-membership-lesson",video:"modal-gift-membership-video",analysis:"modal-gift-membership-analysis",explorer:"modal-gift-membership-explorer",noads:"modal-gift-membership-noads","payment-processing":"modal-gift-membership-payment-processing","receipt-button":"modal-gift-membership-receipt-button"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isFlairEnabled?n("flair",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.membershipName,expression:"membershipName"}],attrs:{code:e.code,membership:e.membership,size:e.size},nativeOn:{click:function(t){return e.openFlairSettingsModal(t)}}}):n("user-membership-icon",{attrs:{"is-enabled":e.isEnabled,membership:e.membership,size:e.size}})},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal-container",{ref:"modalContainer",on:{"modal-did-hide":e.modalDidHide,hide:e.hide}},[n("modal-content",{class:e.$style.modal},[n("button",{class:e.$style.close,attrs:{type:"button"},on:{click:e.hide}},[n("icon-font",{class:e.$style.icon,attrs:{family:"chess",name:"x",theme:"primary"}})],1),e._v(" "),n("div",{class:e.$style.header},[n("user-flair-icon",{class:e.$style.icon,attrs:{code:"smile",membership:50,size:"x-large"}}),e._v(" "),n("h3",{class:e.$style.title,domProps:{textContent:e._s(e.titleString)}})],1),e._v(" "),e.paymentSuccess?[n("div",{class:e.$style.promo},[n("p",{class:e.$style.message,domProps:{innerHTML:e._s(e.translations.thanksToYou(e.giftData.giftReceiverUsername))}}),e._v(" "),n("a",{class:e.$style["receipt-button"],attrs:{href:e.paymentReceiptLink}},[e._v("\n          "+e._s(e.$trans("Order Receipt"))+"\n        ")]),e._v(" "),n("div",{class:e.$style.benefits},e._l(e.benefits,function(t){return n("a",{key:t.id,class:e.$style.benefit,attrs:{href:t.link(),title:t.label}},[n("span",{class:[e.$style.pict,e.$style[t.icon]]}),e._v("\n\n            "+e._s(t.label)+"\n          ")])}),0)])]:[n("div",{class:e.$style.plans},e._l(e.defaultModalProducts,function(t){return n("label",{key:t.sku,class:e.$style.plan,on:{click:function(n){return e.setSelectedProduct(t.sku)}}},[n("input",{attrs:{type:"radio"},domProps:{checked:e.displayRadioChecked(t.sku)}}),e._v("\n\n          "+e._s(t.description)+" ("+e._s(e.prices[t.sku])+")\n        ")])}),0),e._v(" "),n("div",{class:e.$style.paymentinfo},[n("div",{class:e.$style.methods},[n("label",{class:e.$style.paymentmethods},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentGateway,expression:"currentGateway"}],attrs:{checked:"checked",name:"method",type:"radio"},domProps:{value:e.gatewayStrings.CARD,checked:e._q(e.currentGateway,e.gatewayStrings.CARD)},on:{change:function(t){e.currentGateway=e.gatewayStrings.CARD}}}),e._v(" "),n("icon-font",{class:e.$style.methodicon,attrs:{family:"chess",name:"card",theme:"primary"}})],1),e._v(" "),n("label",{class:e.$style.paymentmethods},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentGateway,expression:"currentGateway"}],attrs:{name:"method",type:"radio"},domProps:{value:e.gatewayStrings.PAYPAL,checked:e._q(e.currentGateway,e.gatewayStrings.PAYPAL)},on:{change:function(t){e.currentGateway=e.gatewayStrings.PAYPAL}}}),e._v(" "),n("icon-font",{class:[e.$style.methodicon,e.$style.paypal],attrs:{family:"chess",name:"paypal",theme:"primary"}})],1)]),e._v(" "),n("adyen-card",{directives:[{name:"show",rawName:"v-show",value:e.visibleMethod(e.gatewayStrings.CARD),expression:"visibleMethod(gatewayStrings.CARD)"}],attrs:{"adyen-key":e.adyenKey,"gift-data":e.giftData,"generation-time":e.generationTime,"is-gift":!0,"is-fetching-saved-payment-details":e.isFetchingSavedPaymentDetails,"product-sku":e.selectedSku,"saved-payment-details":e.savedPaymentDetails,"redirect-on-success":!1,"button-text":e.$trans("Give Gift"),"form-mode":"payment"},on:{paymentprocessing:e.handlePaymentProcessing,paymentsuccessful:e.handlePaymentSuccess}}),e._v(" "),n("paypal",{directives:[{name:"show",rawName:"v-show",value:e.visibleMethod(e.gatewayStrings.PAYPAL),expression:"visibleMethod(gatewayStrings.PAYPAL)"}],attrs:{"gift-data":e.giftData,"generation-time":e.generationTime,"is-gift":!0,"product-sku":e.selectedSku}}),e._v(" "),n("div",{class:e.$style.terms,domProps:{innerHTML:e._s(e.translations.paymentTerms())}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.paymentProcessing,expression:"paymentProcessing"}],class:e.$style["payment-processing"]},[e._v("\n          "+e._s(e.$trans("Processing..."))+"\n        ")])],1)]],2)],1)},r=[]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(544)),r=_interopRequireDefault(n(545));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={namespaced:!0,mutations:a.default,state:r.default}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={newMessage:function(e,t){e.message=t}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={message:null}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(43)),r=_interopRequireDefault(n(3)),i=n(391),o=n(84),s=_interopRequireDefault(n(27)),l=_interopRequireDefault(n(8)),u=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={getUserTrophies:function(e,t){var n=e.commit,a=e.dispatch,r={username:t.username,trophyType:t.trophyType};return s.default.get(l.default.generate("web_member_callback_trophy_list",r)).then(function(e){if(e.data)return n("setUserTrophies",e.data),localStorage.set("user_trophies",e.data,60),e.data}).catch(function(){var e=o.types.error;a("alerts/create",{type:e,message:o.errors.DEFAULT},{root:!0})})},getAllTrophies:function(e,t){var n=e.commit,a=e.dispatch,i=e.state;n("setFinishedLoading",!1);var u=(0,r.default)({},{type:i.trophyType},t);return s.default.get(l.default.generate("web_callback_get_trophies",u)).then(function(e){e.data&&n("setAllTrophies",e.data)}).catch(function(){var e=o.types.error;a("alerts/create",{type:e,message:o.errors.DEFAULT},{root:!0})})},getTrophyShowcase:function(e,t){var n=e.commit,a=e.dispatch;return s.default.get(l.default.generate("web_user_trophy_showcase_callback",{username:t})).then(function(e){e.data&&n("setUserShowcaseTrophies",e.data)}).catch(function(){var e=o.types.error;a("alerts/create",{type:e,message:o.errors.DEFAULT},{root:!0})})},getUserTrophyCount:function(e,t){var n=e.commit,a=e.dispatch;return s.default.get(l.default.generate("web_callback_count_user_trophies",{username:t})).then(function(e){e.data&&n("setUserTrophiesCount",e.data.count)}).catch(function(){var e=o.types.error;a("alerts/create",{type:e,message:o.errors.DEFAULT},{root:!0})})},featureTrophy:function(e,t){var n=e.dispatch,a=t.trophyId,r=t.featured,i=t.username,c={id:a,featured:r};return s.default.post(l.default.generate("web_feature_trophy_callback",c)).then(function(e){var t=o.types.success,a=function(e){return e.data&&e.data.message||o.errors.DEFAULT}(e);n("alerts/create",{type:t,message:a},{root:!0}),n("getTrophyShowcase",i)}).catch(function(){var e=o.types.error,t=u.default.trans("Error featuring trophies. Please try again later.");n("alerts/create",{type:e,message:t},{root:!0})})},sendTrophyToUser:function(e){var t=e.commit,n=e.state,r={username:n.recipientUsername,trophyId:n.selectedTrophy.id,message:(0,i.htmlEncode)(n.message)};return"number"==typeof n.gameId&&(r[n.isLiveGame?"gameLiveId":"gameId"]=n.gameId),t("disableSendButton",!0),s.default.post(l.default.generate("web_award_trophy_callback",r)).then(function(){t("disableSendButton",!1)}).catch(function(e){return t("setErrorMessage",e.response.data.message),t("disableSendButton",!1),a.default.reject(e)})}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={disableSendButton:function(e,t){e.disableSendButton=t},setUserTrophies:function(e,t){e.userTrophies=t},setAllTrophies:function(e,t){e.trophies=t.data,e.meta=t.meta,e.allTrophiesToGive=t.data,e.finishedLoadingTrophies=!0},setErrorMessage:function(e,t){e.errorMessage=t},setFinishedLoading:function(e,t){e.finishedLoadingTrophies=t},setGameId:function(e,t){e.gameId=t},setIsLiveGame:function(e,t){e.isLiveGame=t},setMessage:function(e,t){e.message=t},setModalState:function(e,t){e.modalState=t},setRecipientUsername:function(e,t){e.recipientUsername=t},setSelectedTrophy:function(e,t){e.selectedTrophy=t},setTrophyType:function(e,t){e.trophyType=t},setUserShowcaseTrophies:function(e,t){e.hideShowcase=0===t.length,e.userShowcaseTrophies=t},setUserTrophiesCount:function(e,t){e.userTrophyCount=t}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(246),i=(a=r)&&a.__esModule?a:{default:a};t.default={allTrophiesToGive:[],disableSendButton:!1,errorMessage:"",finishedLoadingTrophies:!1,gameId:null,hideShowcase:!1,isLiveGame:!1,message:"",meta:{currentPage:1,morePages:!1},modalState:i.default.modalStates.select,recipientUsername:null,selectedTrophy:null,trophies:[],trophyType:"social",userShowcaseTrophies:[],userTrophies:[],userTrophyCount:0}},function(e,t){e.exports={modal:"trophy-popover-modal",section:"trophy-popover-section"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(360),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(552),s=n(5);var l=function(e){this.$style=n(551)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"account-not-activated-component",first:"account-not-activated-first",alert:"account-not-activated-alert"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component},[n("p",{class:e.$style.alert},[e._v("\n    "+e._s(e.alert)+"\n  ")]),e._v(" "),n("p",{class:e.$style.first,domProps:{innerHTML:e._s(e.labels.changeEmail)}}),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.labels.helpPath)}})])},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(361),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(555),s=n(5);var l=function(e){this.$style=n(554)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"select-trophy-component",pagination:"select-trophy-pagination",top:"select-trophy-top",bottom:"select-trophy-bottom","trophies-grid":"select-trophy-trophies-grid",trophy:"select-trophy-trophy","trophy-image":"select-trophy-trophy-image"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component},[e.meta.page>1||e.meta.more?n("pagination",{class:[e.$style.pagination,e.$style.top],attrs:{"change-page":e.getMoreTrophies,"current-page":e.meta.page,"has-more-prop":!0,"more-pages":e.meta.more},on:{changePage:e.getMoreTrophies}}):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.finishedLoadingTrophies,expression:"finishedLoadingTrophies"}],class:e.$style["trophies-grid"]},e._l(e.allTrophiesToGive,function(t){return n("div",{key:t.id,class:e.$style.trophy},[n("a",{on:{click:function(n){return n.preventDefault(),e.selectTrophyToGive(t)}}},[n("img",{directives:[{name:"image-defer",rawName:"v-image-defer",value:{src:t.image_url,srcset:!0},expression:"{\n            src: trophy.image_url,\n            srcset: true\n          }"}],class:e.$style["trophy-image"],attrs:{height:"97",width:"97",alt:t.name}})]),e._v(" "),n("div",[e._v(e._s(t.name))])])}),0),e._v(" "),e.meta.page>1||e.meta.more?n("pagination",{class:[e.$style.pagination,e.$style.bottom],attrs:{"change-page":e.getMoreTrophies,"current-page":e.meta.page,"has-more-prop":!0,"more-pages":e.meta.more},on:{changePage:e.getMoreTrophies}}):e._e()],1)},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(362),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(558),s=n(5);var l=function(e){this.$style=n(557)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"send-trophy-component",change:"send-trophy-change",textarea:"send-trophy-textarea",left:"send-trophy-left",right:"send-trophy-right",error:"send-trophy-error",description:"send-trophy-description"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component},[n("div",{class:e.$style.left},[n("img",{directives:[{name:"image-defer",rawName:"v-image-defer",value:{src:e.selectedTrophy.image_url,srcset:!0},expression:"{\n        src: selectedTrophy.image_url,\n        srcset: true\n    }"}],attrs:{width:"135",height:"135",alt:e.selectedTrophy.name}}),e._v(" "),n("p",[e._v("\n      "+e._s(e.selectedTrophy.name)+"\n    ")]),e._v(" "),n("a",{class:e.$style.change,on:{click:function(t){return t.preventDefault(),e.changeSelectedTrophy()}}},[e._v("\n      "+e._s(e.labels.changeLink)+"\n    ")])]),e._v(" "),n("div",{class:e.$style.right},[n("p",{class:e.$style.description},[e._v("\n      "+e._s(e.selectedTrophy.description)+"\n    ")]),e._v(" "),n("form-textarea",{class:e.$style.textarea,attrs:{autosize:!0},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),n("form-button",{attrs:{disabled:e.disableSendButton,theme:"basic",size:"large"},on:{click:e.sendSelectedTrophy}},[e._v("\n      "+e._s(e.labels.sendTrophy)+"\n    ")]),e._v(" "),e.errorMessage?n("form-error",{class:e.$style.error},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")]):e._e()],1)])},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(363),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(563),s=n(5);var l=function(e){this.$style=n(560)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"sent-trophy-component",left:"sent-trophy-left",from:"sent-trophy-from",message:"sent-trophy-message",success:"sent-trophy-success",icon:"sent-trophy-icon"}},function(e,t){e.exports={component:"user-username-component",link:"user-username-link",gray:"user-username-gray",blue:"user-username-blue"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t=this,n=t.$createElement;return(t._self._c||n)("a",{class:[t.$style.component,t.$style[t.theme],(e={},e[t.$style.link]=t.isLink,e)],attrs:{href:t.url,target:t.getTargetIfClickable}},[t._v("\n  "+t._s(t.username)+"\n")])},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component},[n("div",{class:e.$style.left},[n("img",{directives:[{name:"image-defer",rawName:"v-image-defer",value:{src:e.selectedTrophy.image_url,srcset:!0},expression:"{\n        src: selectedTrophy.image_url,\n        srcset: true\n    }"}],attrs:{width:"135",height:"135",src:e.selectedTrophy.image_url,alt:e.selectedTrophy.name}})]),e._v(" "),n("div",{class:e.$style.right},[n("h1",[e._v(e._s(e.selectedTrophy.name))]),e._v(" "),n("div",{class:e.$style.from},[e._v("\n      "+e._s(e.labels.from)+":\n      "),e.user.chessTitle?n("user-chess-title",{attrs:{title:e.user.chessTitle}}):e._e(),e._v(" "),n("user-username",{attrs:{theme:"gray",username:e.user.username}}),e._v("\n\n      "+e._s(e.createDate)+"\n    ")],1),e._v(" "),n("p",{class:e.$style.message},[e._v("\n      "+e._s(e.message)+"\n    ")]),e._v(" "),n("p",{class:e.$style.success},[n("icon-font",{class:e.$style.icon,attrs:{name:"checkmark"}}),e._v("\n      "+e._s(e.labels.sent)+"\n    ")],1)])])},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal-container",{ref:"modalContainer",on:{hide:e.hide}},[n("modal-content",{ref:"modal",class:e.$style.modal},[n("section-title-dismissible",{on:{close:e.hide}},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),n("div",{class:e.$style.section},[e.user.isActivated?e.modalState===e.modalStates.select?n("select-trophy"):e.modalState===e.modalStates.send?n("send-trophy"):e.modalState===e.modalStates.sent?n("sent-trophy",{on:{close:e.hide}}):e._e():n("account-not-activated",{attrs:{alert:e.labels.activateAccount}})],1)],1)],1)},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(365),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(597),s=n(5);var l=function(e){this.$style=n(566)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={popover:"user-popover-popover",bottom:"user-popover-bottom",top:"user-popover-top",component:"user-popover-component","avatar-placeholder":"user-popover-avatar-placeholder",profile:"user-popover-profile",meta:"user-popover-meta",info:"user-popover-info",onlive:"user-popover-onlive",online:"user-popover-online",status:"user-popover-status",details:"user-popover-details",secondary:"user-popover-secondary",loader:"user-popover-loader",actions:"user-popover-actions",ratings:"user-popover-ratings",confirm:"user-popover-confirm"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(366),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(571),s=n(5);var l=function(e){this.$style=n(568)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"admin-actions-component",separator:"admin-actions-separator"}},function(e,t){e.exports={link:"icon-button-link",icon:"icon-button-icon",label:"icon-button-label",blue:"icon-button-blue",grey:"icon-button-grey",red:"icon-button-red"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.label,delay:100},expression:"{\n    content: label,\n    delay: 100\n  }"}],class:[e.$style.link,e.$style[e.btnColor]],attrs:{type:"button","aria-label":e.label},on:{click:e.onClick}},[n("icon-font",{class:[e.$style.icon],attrs:{theme:"primary",name:e.iconName}})],1)},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component},[e.canModerate?n("icon-button",{attrs:{"icon-name":"flag","btn-color":"red",label:e.$trans("Warn")},on:{click:function(t){return e.$emit("warn-user")}}}):e._e(),e._v(" "),e.canModerate?n("icon-button",{attrs:{"icon-name":"chat-x","btn-color":"red",label:e.$trans("Mute")},on:{click:function(t){return e.$emit("mute-user")}}}):e._e(),e._v(" "),e.canModerate?n("icon-button",{attrs:{"icon-name":"exit","btn-color":"red",label:e.$trans("Kick")},on:{click:function(t){return e.$emit("kick-user")}}}):e._e(),e._v(" "),e.canModerate?n("icon-button",{attrs:{"icon-name":"user-block","btn-color":"red",label:e.$trans("Ban")},on:{click:function(t){return e.$emit("ban-user")}}}):e._e(),e._v(" "),e.canModerate&&e.clientName?n("icon-button",{attrs:{"icon-name":"circle-info",label:e.clientName}}):e._e(),e._v(" "),e.canModerate&&(e.canWarnOnChat||e.canModerateOnChat)?n("div",{class:e.$style.separator}):e._e(),e._v(" "),e.canWarnOnChat?n("icon-button",{attrs:{"icon-name":"flag","btn-color":"red",label:e.$trans("Chat Warn")},on:{click:function(t){return e.$emit("chat-warn-user")}}}):e._e(),e._v(" "),e.canModerateOnChat?n("icon-button",{attrs:{"icon-name":"chat-x","btn-color":"red",label:e.$trans("Chat Mute")},on:{click:function(t){return e.$emit("chat-mute-user")}}}):e._e(),e._v(" "),e.canModerateOnChat?n("icon-button",{attrs:{"icon-name":"exit","btn-color":"red",label:e.$trans("Chat Kick")},on:{click:function(t){return e.$emit("chat-kick-user")}}}):e._e()],1)},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(368),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(588),s=n(5);var l=function(e){this.$style=n(573)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"user-actions-component","icons-list":"user-actions-icons-list",more:"user-actions-more",caret:"user-actions-caret",buttonsList:"user-actions-buttonsList"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(369),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(576),s=n(5);var l=function(e){this.$style=n(575)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={link:"icon-link-link",icon:"icon-link-icon",label:"icon-link-label",blue:"icon-link-blue",grey:"icon-link-grey",red:"icon-link-red"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.label,delay:100},expression:"{\n    content: label,\n    delay: 100\n  }"}],class:[e.$style.link,e.$style[e.iconColor]],attrs:{href:e.url},on:{click:function(t){return e.$emit("click",t)}}},[n("icon-font",{class:[e.$style.icon],attrs:{theme:"primary",name:e.iconName}})],1)},r=[]},function(e,t){e.exports={link:"labeled-icon-button-link",icon:"labeled-icon-button-icon",label:"labeled-icon-button-label",blue:"labeled-icon-button-blue",grey:"labeled-icon-button-grey",red:"labeled-icon-button-red"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:[e.$style.link,e.$style[e.btnColor]],attrs:{type:"button"},on:{click:e.onClick}},[n("icon-font",{class:[e.$style.icon],attrs:{theme:"primary",name:e.iconName}}),e._v(" "),n("span",{class:e.$style.label,domProps:{textContent:e._s(e.label)}})],1)},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(371),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(581),s=n(5);var l=function(e){this.$style=n(580)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={link:"labeled-icon-link-link",icon:"labeled-icon-link-icon",label:"labeled-icon-link-label",blue:"labeled-icon-link-blue",grey:"labeled-icon-link-grey",red:"labeled-icon-link-red"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{class:[e.$style.link,e.$style[e.iconColor]],attrs:{href:e.url},on:{click:function(t){return e.$emit("click",t)}}},[n("icon-font",{class:[e.$style.icon],attrs:{theme:"primary",name:e.iconName}}),e._v(" "),n("span",{class:e.$style.label,domProps:{textContent:e._s(e.label)}})],1)},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(372),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(584),s=n(5);var l=function(e){this.$style=n(583)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"chat-options-dropdown-component",close:"chat-options-dropdown-close",title:"chat-options-dropdown-title"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{class:e.$style.component,style:e.dropdown.chat,attrs:{"data-dropdown":"chat"}},[e._l(e.chatOptions,function(t){return n("li",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.title,expression:"chatOption.title"}],key:t.roomId,domProps:{textContent:e._s(t.title)},on:{click:function(n){return e.onClickOption(n,t.roomId)}}})}),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),n("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$trans("Close"),expression:"$trans('Close')"}],class:[e.$style.close,"icon-x"],on:{click:function(t){return e.$emit("hide")}}})],2)},r=[function(){var e=this,t=e.$createElement;return(e._self._c||t)("li",{domProps:{textContent:e._s(e.$trans("Private Chat"))},on:{click:function(t){return e.onClickOption(t)}}})},function(){var e=this.$createElement;return(this._self._c||e)("span",{class:this.$style.title,domProps:{textContent:this._s(this.$trans("Chat"))}})}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(374),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(587),s=n(5);var l=function(e){this.$style=n(586)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"analysis-options-dropdown-component",close:"analysis-options-dropdown-close",title:"analysis-options-dropdown-title"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{class:e.$style.component,style:e.dropdown.analysis,attrs:{"data-dropdown":"analysis"}},[e._l(e.analysisOptions,function(t){return n("li",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.title,expression:"analysisOption.title"}],key:t.examineId,domProps:{textContent:e._s(t.title)},on:{click:function(n){return e.onClickOption(n,t.examineId)}}})}),e._v(" "),e._m(0),e._v(" "),n("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$trans("Close"),expression:"$trans('Close')"}],class:[e.$style.close,"icon-x"],on:{click:function(t){return e.$emit("hide")}}})],2)},r=[function(){var e=this.$createElement;return(this._self._c||e)("span",{class:this.$style.title,domProps:{textContent:this._s(this.$trans("Analysis Board"))}})}]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component},[e.allActions?e._e():n("div",{class:e.$style["icons-list"]},[e.canCreateChallenge?n(e.getIconComponent(e.challengeUrl),{tag:"component",attrs:{"icon-name":"chess-board-plus",label:e.$trans("Challenge"),url:e.challengeUrl},on:{click:e.onClickChallenge}}):e._e(),e._v(" "),e.canSendMessage&&!e.showGlobalChatButton?n("icon-button",{attrs:{"icon-name":"mail-plus",label:e.$trans("Message")},on:{click:e.onClickMessage}}):e._e(),e._v(" "),e.showGlobalChatButton?n("icon-button",{attrs:{"icon-name":"chat",label:e.$trans("Chat")},on:{click:e.startDirectChat}}):e._e(),e._v(" "),e.canInviteToChat?n("icon-button",{attrs:{"icon-name":"chat",label:e.$trans("Chat")},on:{click:e.onClickChat}}):e._e(),e._v(" "),e.canAddFriend?n("icon-button",{attrs:{"icon-name":"user-plus",label:e.$trans("Add Friend")},on:{click:e.onClickAddFriend}}):e._e(),e._v(" "),e.canAcceptFriendRequest?n("icon-button",{attrs:{"icon-name":"user-plus",label:e.$trans("Accept Request")},on:{click:e.onClickAcceptFriendRequest}}):e._e(),e._v(" "),e.canDeclineFriendRequest?n("icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:e.$trans("Decline Request")},on:{click:e.onClickDeclineFriendRequest}}):e._e(),e._v(" "),e.canCancelFriendRequest?n("icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:e.$trans("Cancel Request")},on:{click:e.onClickCancelFriendRequest}}):e._e(),e._v(" "),e.canRemoveFriend?n("icon-button",{attrs:{"icon-name":"user-x",label:e.$trans("Remove Friend")},on:{click:e.onClickRemoveFriend}}):e._e(),e._v(" "),e.canGiftMembership?n(e.getIconComponent(e.membershipUrl),{tag:"component",attrs:{"btn-color":"blue","icon-color":"blue","icon-name":"display-slider",label:e.$trans("Gift Membership"),url:e.membershipUrl},on:{click:e.onClickGift}}):e._e(),e._v(" "),e.canFollowUser&&e.canAddFriend?n("icon-button",{attrs:{"icon-name":"follow",label:e.$trans("Follow")},on:{click:e.onClickFollowUser}}):e._e(),e._v(" "),e.canUnfollowUser&&e.canAddFriend?n("icon-button",{attrs:{"icon-name":"unfollow",label:e.$trans("Unfollow")},on:{click:e.onClickUnfollowUser}}):e._e(),e._v(" "),e.canObserveGame?n("icon-button",{attrs:{"icon-name":"binoculars",label:e.$trans("Observe Game")},on:{click:e.onClickObserve}}):e._e(),e._v(" "),e.canReportUser?n("icon-button",{attrs:{"icon-name":"circle-danger",label:e.$trans("Report")},on:{click:e.onClickReport}}):e._e(),e._v(" "),e.loggedAsAnother?e._e():n(e.getIconComponent(e.archiveUrl),{tag:"component",attrs:{"icon-name":"chess-board-folder",label:e.$trans("Archive"),url:e.archiveUrl},on:{click:e.onClickArchive}}),e._v(" "),e.loggedAsAnother&&e.isEnabled?n("button",{class:e.$style.more,attrs:{type:"button"},on:{click:e.showAllActions}},[e._v("\n      "+e._s(e.$trans("More"))+"\n      "),n("icon-font",{class:e.$style.caret,attrs:{name:"caret-down",theme:"primary"}})],1):e._e()],1),e._v(" "),e.allActions&&!e.isConfirmVisible?n("div",{class:e.$style.buttonsList,style:e.buttonsListStyle},[e.canCreateChallenge?n(e.getIconLabeledComponent(e.challengeUrl),{tag:"component",attrs:{"icon-name":"chess-board-plus",label:e.$trans("Challenge"),url:e.challengeUrl},on:{click:e.onClickChallenge}}):e._e(),e._v(" "),e.canSendMessage&&!e.showGlobalChatButton?n("labeled-icon-button",{attrs:{"icon-name":"mail-plus",label:e.$trans("Message")},on:{click:e.onClickMessage}}):e._e(),e._v(" "),e.showGlobalChatButton?n("labeled-icon-button",{attrs:{"icon-name":"chat",label:e.$trans("Chat")},on:{click:e.startDirectChat}}):e._e(),e._v(" "),e.canInviteToChat?n("labeled-icon-button",{attrs:{"icon-name":"chat",label:e.$trans("Chat")},on:{click:e.onClickChat}}):e._e(),e._v(" "),e.canAddFriend?n("labeled-icon-button",{attrs:{"icon-name":"user-plus",label:e.$trans("Add Friend")},on:{click:e.onClickAddFriend}}):e._e(),e._v(" "),e.canAcceptFriendRequest?n("labeled-icon-button",{attrs:{"icon-name":"user-plus",label:e.$trans("Accept Request")},on:{click:e.onClickAcceptFriendRequest}}):e._e(),e._v(" "),e.canDeclineFriendRequest?n("labeled-icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:e.$trans("Decline Request")},on:{click:e.onClickDeclineFriendRequest}}):e._e(),e._v(" "),e.canCancelFriendRequest?n("labeled-icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:e.$trans("Cancel Request")},on:{click:e.onClickCancelFriendRequest}}):e._e(),e._v(" "),e.canRemoveFriend?n("labeled-icon-button",{attrs:{"icon-name":"user-x",label:e.$trans("Remove Friend")},on:{click:e.onClickRemoveFriend}}):e._e(),e._v(" "),e.canObserveGame?n("labeled-icon-button",{attrs:{"icon-name":"binoculars",label:e.$trans("Observe")},on:{click:e.onClickObserve}}):e._e(),e._v(" "),e.canFollowUser?n("labeled-icon-button",{attrs:{"icon-name":"follow",label:e.$trans("Follow")},on:{click:e.onClickFollowUser}}):e._e(),e._v(" "),e.canUnfollowUser?n("labeled-icon-button",{attrs:{"icon-name":"unfollow",label:e.$trans("Unfollow")},on:{click:e.onClickUnfollowUser}}):e._e(),e._v(" "),e.canSendTrophy?n("labeled-icon-button",{attrs:{"icon-name":"chess-board-paper",label:e.$trans("Give Trophy")},on:{click:e.onClickTrophy}}):e._e(),e._v(" "),e.canGiftMembership?n("labeled-icon-button",{attrs:{"btn-color":"blue","icon-name":"display-slider",label:e.$trans("Gift Membership")},on:{click:e.onClickGift}}):e._e(),e._v(" "),e.showBughousePartner&&!e.isBughousePartner?n("labeled-icon-button",{attrs:{"icon-name":"bughouse",label:e.$trans("Partner")},on:{click:e.onClickPartner}}):e._e(),e._v(" "),e.showBughousePartner&&e.isBughousePartner?n("labeled-icon-button",{attrs:{"icon-name":"bughouse",label:e.$trans("Unpartner")},on:{click:e.onClickUnpartner}}):e._e(),e._v(" "),e.canInviteToAnalysis?n("labeled-icon-button",{attrs:{"icon-name":"chess-board-search",label:e.$trans("Analysis Board")},on:{click:e.onClickAnalysis}}):e._e(),e._v(" "),n(e.getIconLabeledComponent(e.archiveUrl),{tag:"component",attrs:{"icon-name":"chess-board-folder",label:e.$trans("Archive"),url:e.archiveUrl},on:{click:e.onClickArchive}}),e._v(" "),e.canBlockUser?n("labeled-icon-button",{attrs:{"icon-name":"circle-block",label:e.$trans("Block")},on:{click:e.onClickBlockUser}}):e._e(),e._v(" "),e.canUnblockUser?n("labeled-icon-button",{attrs:{"btn-color":"red","icon-name":"circle-block",label:e.$trans("Unblock")},on:{click:e.onClickUnblockUser}}):e._e(),e._v(" "),e.canReportUser?n("labeled-icon-button",{attrs:{"icon-name":"circle-danger",label:e.$trans("Report")},on:{click:e.onClickReport}}):e._e()],1):e._e(),e._v(" "),e.chatDropdownTarget?n("chat-options-dropdown",{attrs:{target:e.chatDropdownTarget,position:e.position,"chat-options":e.chatOptions},on:{"option-selected":e.onClickChatOption,hide:e.hideChatDropdown}}):e._e(),e._v(" "),e.analysisDropdownTarget?n("analysis-options-dropdown",{attrs:{target:e.analysisDropdownTarget,position:e.position,"analysis-options":e.analysisOptions},on:{"option-selected":e.onClickAnalysisOption,hide:e.hideAnalysisDropdown}}):e._e()],1)},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(375),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(591),s=n(5);var l=function(e){this.$style=n(590)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"user-flair-status-component"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this.$createElement,t=this._self._c||e;return this.status.length?t("div",{class:this.$style.component,domProps:{textContent:this._s(this.status)}}):this._e()},r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(376),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(594),s=n(5);var l=function(e){this.$style=n(593)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"user-rating-component",icon:"user-rating-icon",rating:"user-rating-rating"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:e.$style.component},[n("icon-font",{class:e.$style.icon,attrs:{theme:"primary",name:e.icon}}),e._v(" "),n("span",{class:e.$style.rating},[e._v("\n    "+e._s(e.rating)+"\n  ")])],1)},r=[]},function(e,t){e.exports={component:"user-tagline-component",username:"user-tagline-username",darkMode:"user-tagline-darkMode",rating:"user-tagline-rating"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t=this,n=t.$createElement,a=t._self._c||n;return a("div",{class:[t.$style.component,(e={},e[t.$style.darkMode]=t.isDarkMode,e)]},[t.title?a("user-chess-title",{attrs:{url:t.titleUrl,title:t.title}}):t._e(),t._v(" "),a("user-username",{class:t.$style.username,attrs:{url:t.url,username:t.username,"open-new-tab":t.openProfileOnNewTab}}),t._v(" "),t.rating?a("span",{class:t.$style.rating},[t._v("\n    ("+t._s(t.rating)+")\n  ")]):t._e(),t._v(" "),t.country?a("country-flag",{attrs:{code:t.country.code,name:t.country.name}}):t._e(),t._v(" "),a("user-flair-icon",{attrs:{code:t.code,membership:t.membership}})],1)},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onMouseLeave,expression:"onMouseLeave"}],ref:"userPopover",class:[e.$style.popover,e.$style[e.position.x],e.$style[e.position.y]],style:e.inlineStyles,on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[n("div",{class:e.$style.component},[n("div",{class:e.$style.profile},[n("div",{class:e.$style.meta},[e.username?n("user-avatar",{attrs:{image:e.avatar,"is-live":e.onlineStatus&&e.isLive(e.onlineStatus),"is-online":e.onlineStatus&&e.isOnline(e.onlineStatus),url:e.memberUrl}}):e._e(),e._v(" "),e.username?e._e():n("div",{class:e.$style["avatar-placeholder"]}),e._v(" "),e.username?n("div",{class:e.$style.info},[n("user-tagline",{attrs:{code:e.flair?e.flair.code:"",country:e.country,membership:e.membership,"open-profile-on-new-tab":e.openProfileOnNewTab,title:e.chessTitle,url:e.memberUrl,username:e.username}}),e._v(" "),n("user-flair-status",{attrs:{status:e.flair?e.flair.status:""}}),e._v(" "),n("div",{class:e.$style.ratings},e._l(e.ratingsToShow,function(e){return n("user-rating",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.label,expression:"rating.label"}],key:e.type,attrs:{icon:e.icon,rating:e.value}})}),1)],1):e._e(),e._v(" "),e.username?e._e():n("div",{class:e.$style.info},[n("loader-three-bounce",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],class:e.$style.loader,attrs:{size:40}})],1)],1),e._v(" "),e.joinedDate&&e.username?n("div",{class:e.$style.secondary},[n("div",{domProps:{textContent:e._s(e.translations.joinedDate(e.joinedDate))}}),e._v(" "),n("div",{class:e.$style.status},[e.isLive(e.onlineStatus)?n("div",{class:e.$style.onlive,domProps:{textContent:e._s(e.translations.inLiveNow)}}):e._e(),e._v(" "),e.isOnline(e.onlineStatus)?n("div",{class:e.$style.online,domProps:{textContent:e._s(e.translations.onlineNow)}}):e._e(),e._v(" "),!e.lastLoginDate||e.isOnline(e.onlineStatus)||e.isLive(e.onlineStatus)?e._e():n("div",{domProps:{textContent:e._s(e.translations.lastOnline(e.lastLoginDate))}})])]):e._e(),e._v(" "),e.username?e._e():n("div",{class:e.$style.secondary})]),e._v(" "),e.adminActionsIsVisible?n("admin-actions",{attrs:{"can-moderate":e.canModerate,"client-name":e.clientName,"can-warn-on-chat":e.canWarnOnChat,"can-moderate-on-chat":e.canModerateOnChat},on:{"warn-user":e.onClickWarn,"mute-user":e.onClickMute,"kick-user":e.onClickKick,"ban-user":e.onClickBan,"chat-warn-user":e.onClickChatWarn,"chat-mute-user":e.onClickChatMute,"chat-kick-user":e.onClickChatKick}}):e._e(),e._v(" "),n("div",{class:e.$style.actions},[e.username?n("user-actions",{attrs:{avatar:e.avatar,"can-add-friend":e.canAddFriend,"can-block-user":e.canBlockUser,"can-create-challenge":e.canCreateChallenge,"can-follow-user":e.canFollowUser,"can-gift-membership":e.canGiftMembership,"can-remove-friend":e.canRemoveFriend,"can-report-user":e.canReportUser,"can-send-message":e.canSendMessage,"can-invite-to-chat":e.canInviteToChat,"can-send-trophy":e.canSendTrophy,"can-unblock-user":e.canUnblockUser,"can-unfollow-user":e.canUnfollowUser,"can-use-global-chat":e.canUseGlobalChat,"can-cancel-friend-request":e.canCancelFriendRequest,"can-decline-friend-request":e.canDeclineFriendRequest,"can-accept-friend-request":e.canAcceptFriendRequest,"logged-as-another":e.loggedAsAnother,username:e.username,"can-observe-game":e.canObserveGame,"is-bughouse-partner":e.isBughousePartner,"challenge-url":e.challengeUrl,"archive-url":e.archiveUrl,"chat-options":e.chatOptions,position:e.position,"can-invite-to-analysis":e.canInviteToAnalysis,"analysis-options":e.analysisOptions,"is-enabled":e.isEnabled,"is-confirm-visible":e.isConfirmVisible,"show-bughouse-partner":e.showBughousePartner,"membership-url":e.membershipUrl},on:{"all-actions-shown":e.updatePopoverPosition,"remove-friend":e.onClickRemoveFriend,"block-user":e.onClickBlockUser,"user-popover-hide":e.hidePopover,"create-challenge":function(t){return e.$emit("create-challenge",t)},"send-message":function(t){return e.$emit("send-message",t)},"add-friend":function(t){return e.$emit("add-friend",t)},"cancel-friend-request":function(t){return e.$emit("cancel-friend-request",t)},"decline-friend-request":function(t){return e.$emit("decline-friend-request",t)},"show-gift":function(t){return e.$emit("show-gift",t)},"show-archive":function(t){return e.$emit("show-archive",t)},"start-direct-chat":function(t){return e.$emit("start-direct-chat")},"mute-user":function(t){return e.$emit("mute-user",t)},"accept-friend-request":function(t){return e.$emit("accept-friend-request",t)},"follow-user":function(t){return e.$emit("follow-user",t)},"unfollow-user":function(t){return e.$emit("unfollow-user",t)},"unblock-user":function(t){return e.$emit("unblock-user",t)},"show-report":function(t){return e.$emit("show-report",t)},"show-trophy":function(t){return e.$emit("show-trophy",t)},"observe-user":function(t){return e.$emit("observe-user",t)},"bughouse-partner":function(t){return e.$emit("bughouse-partner",t)},"bughouse-unpartner":function(t){return e.$emit("bughouse-unpartner",t)},"request-chat":function(t){return e.$emit("request-chat",t)},"invite-analysis":function(t){return e.$emit("invite-analysis",t)}}}):e._e()],1)],1),e._v(" "),e.isConfirmVisible?n("div",{class:e.$style.confirm},[n("p",{domProps:{innerHTML:e._s(e.confirmMessage)}}),e._v(" "),n("div",[n("form-button",{attrs:{size:"small",theme:"basic"},on:{click:e.onConfirmNo}},[e._v("\n        "+e._s(e.$trans("No"))+"\n      ")]),e._v(" "),n("form-button",{attrs:{size:"small",theme:"primary"},on:{click:e.onConfirmYes}},[e._v("\n        "+e._s(e.$trans("Yes"))+"\n      ")])],1)]):e._e()])},r=[]},function(e,t){e.exports={component:"modal-user-report-component",title:"modal-user-report-title",status:"modal-user-report-status",close:"modal-user-report-close",radio:"modal-user-report-radio",error:"modal-user-report-error",label:"modal-user-report-label","checkbox-row-label":"modal-user-report-checkbox-row-label",textarea:"modal-user-report-textarea",content:"modal-user-report-content",wrapper:"modal-user-report-wrapper",button:"modal-user-report-button"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(379),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(601),s=n(5);var l=function(e){this.$style=n(600)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={modal:"modal-with-footer-modal",newbie:"modal-with-footer-newbie",content:"modal-with-footer-content",header:"modal-with-footer-header",icon:"modal-with-footer-icon",footer:"modal-with-footer-footer"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e,t=this,n=t.$createElement,a=t._self._c||n;return a(t.component,{ref:"modalContainer",tag:"component",attrs:{"center-over-parent":t.centerOverParent},on:{"modal-did-hide":t.modalDidHide}},[a("modal-content",{class:[t.$style.modal,(e={},e[t.$style.newbie]=t.newbie,e)]},[t.newbie?t._e():a("div",{class:t.$style.header},[a("icon-font",{class:t.$style.icon,attrs:{family:"chess",theme:"primary",name:"x"},on:{click:t.hideModal}})],1),t._v(" "),a("div",{class:t.$style.content},[t._t("content")],2),t._v(" "),a("div",{class:t.$style.footer},[t._t("footer")],2)])],1)},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal-with-footer",{ref:"modal",class:e.$style.component,on:{"modal-did-hide":e.modalDidHide}},[n("template",{slot:"content"},[n("h3",{class:e.$style.title},[e._v(e._s(e.translations.report)+" "+e._s(e.username))]),e._v(" "),e.status?n("p",{class:e.$style.status,domProps:{textContent:e._s(e.statusText)}}):n("div",{class:e.$style.content},[e._l(e.reportReasons,function(t){return n("div",{key:t.id,class:e.$style.radio},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.picked,expression:"picked"}],attrs:{id:t.id,type:"radio"},domProps:{value:t.id,checked:e._q(e.picked,t.id)},on:{change:function(n){e.picked=t.id}}}),e._v(" "),n("label",{class:e.$style.label,attrs:{for:t.id}},[e._v(e._s(t.label))])])}),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.otherReason,expression:"otherReason"}],class:e.$style.textarea,domProps:{value:e.otherReason},on:{input:function(t){t.target.composing||(e.otherReason=t.target.value)}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.showError,expression:"showError"}],class:e.$style.error},[e._v(e._s(e.translations.userReportError))])],2)]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[e.status?e._e():n("div",{class:e.$style.wrapper},[n("form-checkbox",{attrs:{name:"block",label:e.blockUserLabel},model:{value:e.blockUser,callback:function(t){e.blockUser=t},expression:"blockUser"}})],1),e._v(" "),n("div",{class:e.$style.wrapper},[n("form-button",{class:e.$style.button,attrs:{size:"large",theme:"basic"},on:{click:e.hide}},[e._v(e._s(e.footerButtonText)+"\n      ")]),e._v(" "),e.status?e._e():n("form-button",{class:e.$style.button,attrs:{theme:"primary",size:"large",disabled:e.isDisabled},on:{click:function(t){return t.preventDefault(),e.report(e.username,e.picked,e.otherReason,e.blockUser)}}},[e._v("\n        "+e._s(e.translations.report)+"\n      ")])],1)])],2)},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.user.userNotExist?e._e():n("div",{attrs:{id:"user-popover"}},[e.show?n("user-popover",{ref:"userPopover",attrs:{avatar:e.user.avatarUrl,"can-add-friend":e.canAddFriend,"can-block-user":e.canBlockUser,"can-create-challenge":e.canCreateChallenge,"can-follow-user":e.canFollowUser,"can-gift-membership":e.canGiftMembership,"can-remove-friend":e.canRemoveFriend,"can-report-user":e.canReportUser,"can-send-message":e.canSendMessage,"can-send-trophy":e.canSendTrophy,"can-unblock-user":e.canUnblockUser,"can-unfollow-user":e.canUnfollowUser,"can-use-global-chat":e.canUseGlobalChat,"can-cancel-friend-request":e.canCancelFriendRequest,"can-accept-friend-request":e.canAcceptFriendRequest,"chess-title":e.user.chessTitle,country:{name:e.user.countryName,code:e.user.countryId},flair:e.user.flair,"is-enabled":e.user.isEnabled,"is-loading":e.isLoading,"joined-date":e.user.joinDate,"last-login-date":e.user.lastLoginDate,"logged-as-another":e.loggedAsAnother,membership:e.membershipNumber,"online-status":e.user.onlineStatus,ratings:e.ratings,username:e.user.username,"username-element-ref":e.elementRef},on:{"accept-friend-request":e.acceptFriendRequest,"add-friend":e.addFriend,"block-user":e.blockUser,"cancel-friend-request":e.cancelFriendRequest,"create-challenge":e.onChallenge,"follow-user":e.trackUser,"remove-friend":e.deleteFriend,"send-message":e.onMessage,"show-archive":e.showArchive,"show-gift":e.showGiftModal,"show-report":e.showReportModal,"show-trophy":e.onTrophy,"start-direct-chat":e.startDirectChat,"unblock-user":e.unblockUser,"unfollow-user":e.untrackUser,"user-popover-hide":e.hideUserPopup}}):e._e(),e._v(" "),e.isUserReportModalVisible?n("user-report-modal",{attrs:{username:e.user.username},on:{"modal-did-hide":e.hideUserReportModal}}):e._e(),e._v(" "),e.showGiftMembershipModal?n("gift-membership-modal",{attrs:{"receiver-username":e.user.username,"receiver-id":e.user.userId,"sender-username":e.username},on:{"hide-modal":e.hideGiftMembershipModal}}):e._e(),e._v(" "),e.isTrophyPopoverVisible?n("trophy-popover",{on:{hide:e.hideTrophyPopover}}):e._e()],1),e._v(" "),e.user.userNotExist&&e.show?n("div",{class:[e.$style["placeholder-popover"],e.$style[e.position.x],e.$style[e.position.y]],style:e.inlineStyles},[n("div",{class:e.$style["placeholder-component"]},[n("div",{class:e.$style["placeholder-profile"]},[n("div",{class:e.$style["placeholder-avatar"]}),e._v(" "),n("div",{class:e.$style["placeholder-info"],domProps:{textContent:e._s(e.$trans("Member name does not exist"))}})])])]):e._e()])},r=[]},,,,,,,,,function(e,t,n){e.exports={default:n(613),__esModule:!0}},function(e,t,n){n(224),n(225),e.exports=n(614)},function(e,t,n){var a=n(615),r=n(616)("iterator"),i=n(617);e.exports=n(92).isIterable=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||i.hasOwnProperty(a(t))}},function(e,t,n){e.exports=n(6)(56)},function(e,t,n){e.exports=n(6)(2)},function(e,t,n){e.exports=n(6)(13)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={default:n(664),__esModule:!0}},,,function(e,t,n){n(665),e.exports=n(92).Object.entries},function(e,t,n){var a=n(281),r=n(291)(!0);a(a.S,"Object",{entries:function(e){return r(e)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={component:"form-select-component",wrapper:"form-select-wrapper","with-help-wrapper":"form-select-with-help-wrapper",select:"form-select-select",icon:"form-select-icon",multiple:"form-select-multiple"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(479)),r=_interopRequireDefault(n(661)),i=_interopRequireDefault(n(3)),o=_interopRequireDefault(n(43));t.getAuthorsByContentType=getAuthorsByContentType,t.getContent=getContent,t.getNonTranslatedString=getNonTranslatedString,t.headlineContent=headlineContent;var s=_interopRequireDefault(n(27)),l=_interopRequireDefault(n(8)),u=n(13);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getAuthorsByContentType(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={article:"getArticleAuthors",blog:"getBlogAuthors",news:"getNewsAuthors"};return Object.prototype.hasOwnProperty.call(n,e)?s.default.get(l.default.generate(u.callbacks[n[e]],t)).then(function(e){return e.data}):o.default.reject(new Error("Invalid content type"))}function getContent(e){var t=(0,i.default)({},e.routeParams,{contentType:e.contentType,page:e.page,itemsPerPage:e.itemsPerPage});return["cat_id","keyword","username","orderBy","unpublished"].forEach(function(n){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}),s.default.get(l.default.generate(u.callbacks.getContent,t)).then(function(e){return e.data})}function getNonTranslatedString(e){var t=(0,r.default)(window.chesscom_translations.messages).find(function(t){var n=(0,a.default)(t,2),r=n[0];return n[1]===e||r===e});return t?t[0]:e}function headlineContent(e){var t=e.contentType,n=e.contentId;return s.default.get(l.default.generate("web_content_callback_headline",{contentType:t,contentId:n}))}t.default={getAuthorsByContentType:getAuthorsByContentType,getContent:getContent,getNonTranslatedString:getNonTranslatedString,headlineContent:headlineContent}},function(e,t){e.exports={"content-ad-wrapper":"post-content-ad-wrapper","btn-upload-input":"post-btn-upload-input",header:"post-header",form:"post-form","time-wrapper":"post-time-wrapper","upload-preview":"post-upload-preview","upload-input":"post-upload-input","upload-small":"post-upload-small","tinymce-editor":"post-tinymce-editor",buttons:"post-buttons","form-button-large":"post-form-button-large","datepicker-icon":"post-datepicker-icon","url-wrapper":"post-url-wrapper","url-label":"post-url-label","url-link":"post-url-link","url-link-disabled":"post-url-link-disabled","url-field":"post-url-field","url-edit":"post-url-edit","can-edit-url":"post-can-edit-url","url-permalink":"post-url-permalink","datepicker-component":"post-datepicker-component","caption-wrapper":"post-caption-wrapper",caption:"post-caption","upload-small-caption":"post-upload-small-caption",row:"post-row","create-form":"post-create-form","form-upload":"post-form-upload","caption-blog-wrapper":"post-caption-blog-wrapper","row-label":"post-row-label","row-field":"post-row-field","caption-input":"post-caption-input","help-text":"post-help-text",checkbox:"post-checkbox"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}},function(e,t){e.exports={component:"post-category-header-component",title:"post-category-header-title",subtitle:"post-category-header-subtitle","subtitle-small":"post-category-header-subtitle-small"}},function(e,t){e.exports={component:"post-category-link-component",category:"post-category-link-category",darkMode:"post-category-link-darkMode",badge:"post-category-link-badge",tip:"post-category-link-tip"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(948)),r=_interopRequireDefault(n(74)),i=_interopRequireDefault(n(11)),o=_interopRequireDefault(n(3)),s=n(383),l=n(34),u=n(84),c=_interopRequireDefault(n(1346));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"alert-flash",components:{AlertBanner:c.default},inheritAttrs:!1,data:function(){return{errors:{},leftIndent:0,sidebar:document.querySelector(s.selectors.MAIN_NAV)}},computed:(0,o.default)({},(0,l.mapState)("alerts",["alerts"])),watch:{alerts:function(e){var t=this;e.forEach(function(e,n){if(e&&e.message){var a=e.id+e.message,r=e.type===u.types.error&&!t.errors[a];if(e.flashCount=null,r){var o=t.alerts[n+1],s=!o||o.message!==e.message;t.errors[a]=!0,s&&(e.flashCount=(0,i.default)(t.errors).length)}}})}},created:function(){var e=this;window.addEventListener("message",function(t){var n=t.data;if("object"===(void 0===n?"undefined":(0,r.default)(n))&&n.key===u.messageKey){n.key;var i=(0,a.default)(n,["key"]);e.$store.dispatch("alerts/create",i)}})},mounted:function(){var e=this;this.sidebar&&(window.addEventListener("resize",function(){e.changeLeftIndent()}),this.changeLeftIndent(),this.observer=new MutationObserver(function(t){t.forEach(function(){e.$nextTick(function(){e.changeLeftIndent()})})}),this.observer.observe(this.sidebar,{attributeFilter:["class"],attributeOldValue:!0,attributes:!0}))},beforeDestroy:function(){this.observer.disconnect()},methods:(0,o.default)({},(0,l.mapMutations)("alerts",["dismiss"]),{changeLeftIndent:function(){var e=this.sidebar.classList;this.leftIndent=s.offsets.MOBILE+"px",window.innerWidth>=s.measurements.MOBILE_WIDTH&&(this.leftIndent=s.offsets.DEFAULT+"px",e.contains(s.classes.WIDE)&&!e.contains(s.classes.COLLAPSED)&&(this.leftIndent=s.offsets.WIDE+"px"),e.contains(s.classes.COLLAPSED)&&(this.leftIndent=s.offsets.COLLAPSED+"px"))}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(11)),r=n(793),i=n(282),o=n(84),s=_interopRequireDefault(n(12)),l=_interopRequireDefault(n(29));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={name:"template-alert-banner",components:{IconFont:s.default,formButton:l.default},inheritAttrs:!1,props:{alert:{type:Object,required:!0,validator:function(e){return!!e.id&&(!("string"!=typeof e.message||e.message.length<1)&&(0,a.default)(o.types).some(function(t){return o.types[t]===e.type}))}},dismiss:{type:Function,required:!0},action:{type:Object,validator:function(e){return!("string"!=typeof e.text||e.text.length<1)&&(!("string"!=typeof e.theme||e.theme.length<1)&&"function"==typeof e.handler)}}},computed:{cache:function(){return Math.floor(100*Math.random()*1e3*1e3*1e3)},convertMessageToPath:function(){return encodeURI(this.untranslatedMessage)},path:function(){return(0,i.generateUrl)("bundles/web/images/clear.gif")+"?msg="+this.convertMessageToPath+"&flashCount="+this.alert.flashCount+"&cachebust="+this.cache},untranslatedMessage:function(){return(0,r.getNonTranslatedString)(this.alert.message)}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={ADD_ACHIEVEMENT:"ADD_ACHIEVEMENT",DECREMENT_MESSAGE_COUNT:"DECREMENT_MESSAGE_COUNT",HIDE_USER_POPOVER:"HIDE_USER_POPOVER",LOAD_ACHIEVEMENTS_MODAL:"LOAD_ACHIEVEMENTS_MODAL",LOGIN_OR_REGISTER_MODAL:"LOGIN_OR_REGISTER_MODAL",NOTIFICATIONS_FETCHED:"NOTIFICATIONS_FETCHED",REMOVE_ACHIEVEMENTS_MODAL:"REMOVE_ACHIEVEMENTS_MODAL",REMOVE_CHECK_GAME_ALERT:"REMOVE_CHECK_GAME_ALERT",REMOVE_GAME_COMMENT_ALERT:"REMOVE_GAME_COMMENT_ALERT",REMOVE_READY_GAME_ALERT:"REMOVE_READY_GAME_ALERT",SHOW_MESSAGE_MODAL:"SHOW_MESSAGE_MODAL",SHOW_USER_POPOVER:"SHOW_USER_POPOVER",SOUND_ENABLED:"SOUND_ENABLED"}},function(e,t){e.exports={"content-ad":"index-content-ad","content-ad-wrapper":"index-content-ad-wrapper","content-ad-wrapper-top":"index-content-ad-wrapper-top",pagination:"index-pagination","top-pagination":"index-top-pagination"}},function(e,t){e.exports={component:"post-view-meta-component",avatar:"post-view-meta-avatar",image:"post-view-meta-image",details:"post-view-meta-details",user:"post-view-meta-user",title:"post-view-meta-title",username:"post-view-meta-username",membership:"post-view-meta-membership",category:"post-view-meta-category","club-admin":"post-view-meta-club-admin",rating:"post-view-meta-rating",stats:"post-view-meta-stats",separator:"post-view-meta-separator",icon:"post-view-meta-icon",dropdown:"post-view-meta-dropdown"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(1301),n(1302),n(1304),n(1343),n(1350),n(1352)},function(e,t,n){e.exports=n(6)(137)},function(e,t,n){var a=_interopRequireDefault(n(11)),r=_interopRequireDefault(n(1303)),i=_interopRequireDefault(n(24)),o=_interopRequireDefault(n(194));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(0,a.default)(r.default).forEach(function(e){i.default.config[e]=r.default[e]}),i.default.mixin(o.default)},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={productionTip:!1}},function(e,t,n){var a=_interopRequireDefault(n(1305)),r=_interopRequireDefault(n(1309)),i=_interopRequireDefault(n(500)),o=_interopRequireDefault(n(1315)),s=_interopRequireDefault(n(32)),l=_interopRequireDefault(n(502));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}s.default.registerModule("user",l.default),l.default.state.isLoggedIn&&s.default.dispatch("user/getAdditionaUserInfoFromDb"),s.default.registerModule("alerts",a.default),s.default.registerModule("gameSeek",r.default),s.default.registerModule("newGame",i.default),s.default.registerModule("onboard",o.default)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(1306)),r=_interopRequireDefault(n(1307)),i=_interopRequireDefault(n(1308));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={namespaced:!0,actions:a.default,mutations:r.default,state:i.default}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.autoDismissAlert=t.createAlert=void 0;var a=n(84),r=t.createAlert=function(e,t){return{id:Math.floor(Math.random()*Math.floor(512)),message:t,type:e}},i=t.autoDismissAlert=function(e,t){var n=e.type,r=e.id,i=e.timeout,o=void 0===i?a.dismissTimeout:i;[a.types.success,a.types.info].includes(n)&&setTimeout(function(){t("dismiss",r)},o)};t.default={create:function(e,t){var n=e.commit,a=t.message,o=t.type,s=r(o,a);n("create",s),i(s,n)},createAll:function(e,t){var n=e.commit,a=t.map(function(e){var t=r(e.type,e.message);return i(t,n),t});n("createAll",a)}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={create:function(e,t){e.alerts.push(t)},createAll:function(e,t){e.alerts=e.alerts.concat(t)},dismiss:function(e,t){e.alerts=e.alerts.filter(function(e){return e.id!==t})},dismissAll:function(e){e.alerts.length=0}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={alerts:[]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(1310)),r=_interopRequireDefault(n(1313)),i=_interopRequireDefault(n(1314));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={actions:a.default,mutations:r.default,namespaced:!0,state:i.default}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1311)),r=n(84);t.default={acceptSeek:function(e,t){var n=e.commit,i=e.dispatch;return n("setAcceptingSeek",t),a.acceptSeek(t.seekId).then(function(e){n("setAcceptedSeek",t),201===e.status&&e.headers.location&&(window.location.href=e.headers.location)}).catch(function(){i("alerts/create",{type:r.types.ERROR,message:r.errors.badRequest},{root:!0})})},deleteOpenSeek:function(e,t){var n=e.dispatch;return a.deleteOpenSeek(t).then(function(){window.location.reload()}).catch(function(){n("alerts/create",{type:r.types.ERROR,message:r.errors.badRequest},{root:!0})})},loadOpenSeeks:function(e){var t=e.dispatch,n=e.commit;return n("setLoading",!0),n("setOpenSeeks",null),a.loadOpenSeeks().then(function(e){n("setLoading",!1),n("setOpenSeeks",e.data)}).catch(function(){n("setLoading",!1),t("alerts/create",{type:r.types.ERROR,message:r.errors.badRequest},{root:!0})})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadOpenSeeks=t.deleteOpenSeek=t.acceptSeek=void 0;var a=_interopRequireDefault(n(27)),r=_interopRequireDefault(n(8)),i=n(1312);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.acceptSeek=function(e){var t=r.default.generate(i.callbacks.acceptSeek,{id:e});return a.default.post(t)},t.deleteOpenSeek=function(e){var t=r.default.generate(i.callbacks.deleteChallenge,{id:e});return a.default.post(t)},t.loadOpenSeeks=function(){var e=r.default.generate(i.callbacks.openSeeks);return a.default.get(e)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.callbacks={acceptSeek:"web_game_seek_callback_accept_seek",deleteChallenge:"web_game_seek_callback_delete_challenge",openSeeks:"web_game_seek_callback_open_seeks"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(3)),r=_interopRequireDefault(n(279)),i=_interopRequireDefault(n(8)),o=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={setAcceptingSeek:function(e,t){var n=e.openSeeks.findIndex(function(e){return e.seekId===t.seekId}),r=e.openSeeks.slice(0);r[n]=(0,a.default)({},r[n],{accepting:!0}),e.openSeeks=r},setAcceptedSeek:function(e,t){var n=e.openSeeks.slice(0).filter(function(e){return e.seekId!==t.seekId});e.openSeeks=n},setLoading:function(e,t){e.loading=t},setOpenSeeks:function(e,t){if(null!=t){e.openSeeks=t.map(function(e){return(0,a.default)(e,{seekUrl:i.default.generate("web_daily_seek",{id:e.seekId}),timeLabel:(t=e.daysPerMove,o.default.transChoice(r.default.daysKey,t,{"%1$s%":t})),positionName:function(e){return!0!==e.isCustomPosition?o.default.trans("Standard Opening"):!0===e.isCustomPosition&&null!=e.customPositionName?e.customPositionName:o.default.trans("Custom Opening")}(e)});var t})}else e.openSeeks=t}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={loading:!1,openSeeks:null}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(1316)),r=_interopRequireDefault(n(1318)),i=_interopRequireDefault(n(1319)),o=_interopRequireDefault(n(1342));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={actions:a.default,getters:r.default,namespaced:!0,mutations:i.default,state:o.default}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1317));t.default={init:function(e,t){var n=e.commit,a=e.rootState,r=t.completed,i=t.paymentLate;n("setCompletedGoals",r),n("setBanners",{user:a.user,paymentLate:i})},completeGoal:function(e,t){var n=e.commit,a=e.dispatch,r=e.getters,i={name:t};-1===e.state.completedGoals.names.indexOf(t)&&(r.nextGoal.name===t&&(i.lastLoginDate=1),a("setOnboarding",i)),n("setGoalName",t)},updateLastLoginDate:function(e){var t=e.commit,n=e.dispatch;t("setCompletedGoalLastLogin",e.rootState.user.lastLoginDate),n("setOnboarding",{lastLoginDate:1})},setOnboarding:function(e,t){return a.setOnboarding(t)},fetchTVAnnouncement:function(e){var t=e.commit,n=e.rootState;n.user.isLoggedIn&&a.getTvAnnouncement(n.user.language).then(function(e){var a=n.user.language===e.data.language||"default_and_user"===n.user.contentLanguage&&e.data.language===e.data.defaultLanguage||"any"===n.user.contentLanguage;t("setTVAnnouncement",a?e.data:{})})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getTvAnnouncement=t.setOnboarding=void 0;var a=_interopRequireDefault(n(27)),r=_interopRequireDefault(n(8));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=t.setOnboarding=function(e){var t=r.default.generate("web_user_callback_set_onboarding");return a.default.post(t,e)},o=t.getTvAnnouncement=function(e){var t=r.default.generate("web_tv_callback_get_announcement",{locale:e});return a.default.get(t)};t.default={setOnboarding:i,getTvAnnouncement:o}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={nextGoal:function(e){var t=void 0;return t=0===e.completedGoals.names.length?e.banners[0]:e.banners.find(function(t){return-1===e.completedGoals.names.indexOf(t.name)&&"tv"!==t.name}),t}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1320),i=n(227),o=(a=i)&&a.__esModule?a:{default:a};t.default={setBanners:function(e,t){e.banners=(0,r.getBanners)(t)},setBanner:function(e,t){e.banner=t},setCompletedGoals:function(e,t){e.completedGoals=t},setCompletedGoalLastLogin:function(e,t){e.completedGoals.lastLoginDate=t},setGoalName:function(e,t){e.completedGoals.names.push(t)},setTvBanner:function(e,t){var n=e.banners.find(function(e){return"tv"===e.name});n.bannerImage=t.bannerImage,n.byline=t.title},setTVAnnouncement:function(e,t){e.tvAnnouncement.bannerImage=t.bannerImage,e.tvAnnouncement.title=t.title,e.tvAnnouncement.isHeadline=t.isHeadline,e.tvAnnouncement.hash=t.hash,e.tvAnnouncement.fetched=!0},dismissTVAnnouncement:function(e){e.tvAnnouncement.dismissedHash=e.tvAnnouncement.hash,o.default.set("dismissedTvHash",e.tvAnnouncement.hash)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getBanners=void 0;var a=_interopRequireDefault(n(1321)),r=_interopRequireDefault(n(1340)),i=_interopRequireDefault(n(1341));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.getBanners=function(e){return e.user.eligibleFirstTrial&&a.default.push(r.default),e.paymentLate&&a.default.unshift(i.default),a.default}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(1322)),r=_interopRequireDefault(n(1323)),i=_interopRequireDefault(n(1324)),o=_interopRequireDefault(n(1325)),s=_interopRequireDefault(n(1326)),l=_interopRequireDefault(n(1327)),u=_interopRequireDefault(n(1328)),c=_interopRequireDefault(n(1329)),d=_interopRequireDefault(n(1330)),f=_interopRequireDefault(n(1331)),p=_interopRequireDefault(n(1332)),m=_interopRequireDefault(n(1333)),h=_interopRequireDefault(n(1334)),g=_interopRequireDefault(n(1335)),b=_interopRequireDefault(n(1336)),v=_interopRequireDefault(n(1337)),_=_interopRequireDefault(n(1338)),y=_interopRequireDefault(n(1339));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default=[u.default,y.default,f.default,s.default,d.default,c.default,b.default,h.default,g.default,a.default,v.default,p.default,l.default,o.default,i.default,_.default,r.default,m.default]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Start playing in leagues and matches."),cta:i.default.trans("Find"),headline:i.default.trans("Join a club"),link:r.default.generate("web_club"),name:"clubs",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Improve by starting games in key positions."),cta:i.default.trans("Drills"),headline:i.default.trans("Practice Makes Perfect"),link:r.default.generate("web_drills_home"),name:"drills",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Learn from our database of millions of games."),cta:i.default.trans("Explore"),headline:i.default.trans("Explore Chess Openings"),link:r.default.generate("web_openings_index"),name:"explorer",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Discuss everything about chess in the forums."),cta:i.default.trans("Forums"),headline:i.default.trans("Talk About Chess"),link:r.default.generate("web_forum_index"),name:"forums",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Improve quickly with free lessons from masters."),cta:i.default.trans("Study"),headline:i.default.trans("Online Lessons"),link:r.default.generate("web_lesson_index"),name:"lessons",priority:a.priorities.HIGH_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Stay up to date on the latest events and news."),cta:i.default.trans("News"),headline:i.default.trans("Latest Chess News"),link:r.default.generate("web_news_index"),name:"news",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501);t.default={name:"newuser",priority:a.priorities.HIGH_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Add personality to your profile with an avatar."),cta:i.default.trans("Profile"),headline:i.default.trans("Be Yourself"),link:r.default.generate("web_user_settings_edit"),name:"profile",priority:a.priorities.HIGH_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(199),r=n(501),i=_interopRequireDefault(n(8)),o=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:o.default.trans("View your stats and see how you compare."),cta:o.default.trans("View"),headline:o.default.trans("Track Your Progress"),link:i.default.generate("web_stats",{username:(0,a.getAdditionalUserInfo)("getUsername")}),name:"stats",priority:r.priorities.HIGH_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Improve your game with tactics training."),cta:i.default.trans("Tactics"),headline:i.default.trans("Find the Winning Move"),link:r.default.generate("web_tactic_index"),name:"tactics1",priority:a.priorities.HIGH_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("The best way to improve is daily tactics training."),cta:i.default.trans("Tactics"),headline:i.default.trans("Solve Chess Puzzles"),link:r.default.generate("web_tactic_index"),name:"tactics2",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("“I stay sharp with tactics training on Chess.com” %user%",{"%user%":"<br/>GM Hikaru Nakamura"}),cta:i.default.trans("Tactics"),headline:i.default.trans("Train Like a Pro"),link:r.default.generate("web_tactic_index"),name:"tactics3",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Choose from dozens of themes or create your own."),cta:i.default.trans("Preview"),headline:i.default.trans("Custom Themes"),link:r.default.generate("web_user_settings_themes"),name:"themes",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Play your best and bring home the gold."),cta:i.default.trans("Find"),headline:i.default.trans("Join a Tournament"),link:r.default.generate("web_tournaments_list"),name:"tournaments",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:"",cta:i.default.trans("Watch"),headline:'ChessTV <span class="live-now">'+i.default.trans("Live Now!")+"</span>",link:r.default.generate("web_tv"),name:"tv",priority:a.priorities.MEDIUM_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Learn from hundreds of video lessons."),cta:i.default.trans("Watch"),headline:i.default.trans("Watch Chess Videos"),link:r.default.generate("web_video_index"),name:"videos",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Increase awareness to quickly see and follow moves."),cta:i.default.trans("Try It"),headline:i.default.trans("Improve Your Vision"),link:r.default.generate("web_board_training"),name:"vision",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Faster, more flexible, and much more powerful."),forumAnchor:i.default.trans("Get Help in the Forums"),forumLink:r.default.generate("web_forum_category",{url:"suggestions"}),headline:i.default.trans("Welcome to the New Chess.com!"),link:r.default.generate("web_article_view",{url:"introducing-chess-com-version-3"}),name:"welcomev3",priority:a.priorities.HIGH_PRIORITY,tourAnchor:i.default.trans("Tour and FAQs")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.transChoice("{1} Try Premium free for 1 day.|]1,Inf] Try Premium free for %days% days.",7,{"%days%":7})+"\n  <br/>"+i.default.trans("As little as %monies% after.",{"%monies%":"$5mo"}),cta:i.default.trans("Free Trial"),headline:i.default.trans("Go Premium. Get Better."),icon:"stats-arrow-up",link:r.default.generate("web_membership",{c:"trial-onboard"}),name:"free-trial",priority:a.priorities.LOW_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(501),r=_interopRequireDefault(n(8)),i=_interopRequireDefault(n(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default={byline:i.default.trans("Update your payment info to keep your premium membership."),cta:i.default.trans("Update"),headline:i.default.trans("Update Your Payment Info"),icon:"card",link:r.default.generate("web_user_settings_update_payment"),name:"payment-late",priority:a.priorities.HIGH_PRIORITY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(227),i=(a=r)&&a.__esModule?a:{default:a};t.default={banners:[],banner:null,completedGoals:{lastLoginDate:!1,names:[]},tvAnnouncement:{bannerImage:"",title:"",hash:"",isHeadline:!0,fetched:!1,dismissedHash:i.default.get("dismissedTvHash")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=_interopRequireDefault(n(1344)),r=n(84),i=_interopRequireDefault(n(32)),o=_interopRequireDefault(n(24));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=document.getElementById(r.refs.ALERT_FLASH_CONTAINER);null!=s&&null!=s.getAttribute("twig-alerts")&&i.default.dispatch("alerts/createAll",JSON.parse(s.getAttribute("twig-alerts"))),t.default=new o.default({el:"#"+r.refs.ALERT_FLASH_CONTAINER,store:i.default,render:function(e){return e(a.default)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1108),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(1349),s=n(5);var l=function(e){this.$style=n(1345)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"alert-flash-component",alert:"alert-flash-alert"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1109),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var o=n(1348),s=n(5);var l=function(e){this.$style=n(1347)},u=Object(s.a)(r.a,o.a,o.b,!1,l,null,null);t.default=u.exports},function(e,t){e.exports={component:"alert-banner-component",message:"alert-banner-message",error:"alert-banner-error",info:"alert-banner-info",topical:"alert-banner-topical",success:"alert-banner-success",close:"alert-banner-close","log-image":"alert-banner-log-image"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.component,e.$style[e.alert.type]]},[n("span",{class:e.$style.message,domProps:{innerHTML:e._s(e.alert.message)}}),e._v(" "),e.action?n("form-button",{attrs:{size:"small",type:"button",theme:e.action.theme},on:{click:e.action.handler}},[e._v("\n    "+e._s(e.action.text)+"\n  ")]):e._e(),e._v(" "),n("button",{class:e.$style.close,attrs:{type:"button"},on:{click:function(t){return e.dismiss(e.alert.id)}}},[n("icon-font",{attrs:{name:"x"}})],1),e._v(" "),e.alert.flashCount?n("img",{class:e.$style["log-image"],attrs:{src:e.path}}):e._e()],1)},r=[]},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.component,style:{left:e.leftIndent}},e._l(e.alerts,function(t){return n("alert-banner",e._b({key:t.id,class:e.$style.alert,attrs:{alert:t,dismiss:e.dismiss}},"alert-banner",e.$attrs,!1))}),1)},r=[]},function(e,t,n){var a=_interopRequireDefault(n(948)),r=_interopRequireDefault(n(74)),i=_interopRequireDefault(n(1110)),o=_interopRequireDefault(n(278)),s=_interopRequireDefault(n(45)),l=n(1351),u=n(451);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}window.addEventListener("message",function(e){var t=e.data;if("object"===(void 0===t?"undefined":(0,r.default)(t))){var n=t.key,c=(0,a.default)(t,["key"]);if(n===l.amplitudeEvents.AMPLITUDE_LOG){var d=c.event,f=c.eventProperties,p=c.userProperties,m=c.incUserProperties;o.default.logEvent(d,f,p,m)}else if(n===i.default.SHOW_USER_POPOVER){var h=c.target,g=c.username;u.lazyVue.createInstance("userPopover"),s.default.$emit("userPopover/show",g,document.getElementById(h))}}})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.alertCountMax=20,t.badges={ALERTS:"alerts",GAMES:"games",MESSAGES:"messages"},t.connectTabs={FRIENDS_TAB:0,CLUBS_TAB:1,CHATS_TAB:2},t.amplitudeEvents={AMPLITUDE_LOG:"amplitudeLog",AMPLITUDE_SOURCE_NAV:"menu",DRILLS_NAV_EVENT:"Drills - Home",LESSONS_NAV_EVENT:"Lessons - Home",SOCIAL_VIEW_EVENT:"Social - ViewEvent",TACTICS_NAV_EVENT:"Tactics - Home",VIDEOS_NAV_EVENT:"Videos - Home",VISION_NAV_EVENT:"Vision - Home"},t.escKeyCode=27},function(e,t,n){var a,r=n(71),i=n(13),o=n(1353),s=(a=o)&&a.__esModule?a:{default:a};var l=(0,r.getElement)(i.refs.TOOLTIP),u=(0,r.getElements)(i.refs.BOARD_POPOVER);document.addEventListener("DOMContentLoaded",function(){null!=l&&0===u.length&&(0,s.default)(i.refs.TOOLTIP)})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)("."+e,{directives:{Tooltip:r.default}})};var a=_interopRequireDefault(n(250)),r=_interopRequireDefault(n(36));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports={layout:"base-layout",container:"base-container",sidebar:"base-sidebar",slidetop:"base-slidetop",slidebottom:"base-slidebottom",slideleft:"base-slideleft",slideright:"base-slideright"}},function(e,t){},function(e,t){e.exports={component:"form-component","help-block":"form-help-block"}},function(e,t){e.exports={component:"form-button-component",dark:"form-button-dark","x-small":"form-button-x-small",small:"form-button-small",large:"form-button-large","x-large":"form-button-x-large","full-width":"form-button-full-width",basic:"form-button-basic",darkMode:"form-button-darkMode",primary:"form-button-primary",info:"form-button-info",danger:"form-button-danger"}},function(e,t){e.exports={component:"form-checkbox-component",checkbox:"form-checkbox-checkbox",label:"form-checkbox-label"}},function(e,t){e.exports={component:"form-dropdown-component",select:"form-dropdown-select",value:"form-dropdown-value",chevron:"form-dropdown-chevron",options:"form-dropdown-options",option:"form-dropdown-option",icon:"form-dropdown-icon",selected:"form-dropdown-selected",overlay:"form-dropdown-overlay"}},function(e,t){e.exports={component:"form-error-component",wrapper:"form-error-wrapper",text:"form-error-text",label:"form-error-label"}},function(e,t){e.exports={label:"form-label-label"}},function(e,t){e.exports={component:"form-input-component",darkMode:"form-input-darkMode",input:"form-input-input",textarea:"form-input-textarea",wrapper:"form-input-wrapper",icon:"form-input-icon",left:"form-input-left",right:"form-input-right",large:"form-input-large"}},function(e,t){e.exports={icon:"form-select-icon",large:"form-select-large",component:"form-select-component",darkMode:"form-select-darkMode"}},function(e,t){e.exports={component:"form-switch-component",checkbox:"form-switch-checkbox",readonly:"form-switch-readonly",label:"form-switch-label",button:"form-switch-button",group:"form-switch-group"}},function(e,t){e.exports={component:"form-textarea-component",darkMode:"form-textarea-darkMode",autosize:"form-textarea-autosize",vertical:"form-textarea-vertical","full-width":"form-textarea-full-width"}},function(e,t){e.exports={component:"section-container-component",darkMode:"section-container-darkMode",visible:"section-container-visible"}},function(e,t){e.exports={component:"section-content-component"}},function(e,t){e.exports={component:"section-highlight-component",darkMode:"section-highlight-darkMode"}},function(e,t){e.exports={component:"section-link-component",darkMode:"section-link-darkMode",name:"section-link-name",icon:"section-link-icon",chevron:"section-link-chevron","header-count":"section-link-header-count","with-avatar":"section-link-with-avatar",avatar:"section-link-avatar",counter:"section-link-counter"}},function(e,t){e.exports={component:"section-row-component",border:"section-row-border",left:"section-row-left"}},function(e,t){e.exports={component:"section-title-dismissible-component",icon:"section-title-dismissible-icon",name:"section-title-dismissible-name"}},function(e,t){e.exports={component:"section-title-component",icon:"section-title-icon",name:"section-title-name"}},function(e,t){e.exports={component:"user-tagline-component",username:"user-tagline-username",darkMode:"user-tagline-darkMode",rating:"user-tagline-rating"}},function(e,t){e.exports={component:"user-status-component",online:"user-status-online",onlive:"user-status-onlive",big:"user-status-big"}},function(e,t){e.exports={component:"membership-component","level-30":"membership-level-30",gold:"membership-gold","level-40":"membership-level-40",platinum:"membership-platinum","level-50":"membership-level-50",diamond:"membership-diamond","level-90":"membership-level-90",staff:"membership-staff","level-80":"membership-level-80",mod:"membership-mod",moderator:"membership-moderator","level-5":"membership-level-5","level-8":"membership-level-8",cheater:"membership-cheater",unspecifiedClosed:"membership-unspecifiedClosed","level-6":"membership-level-6",abuser:"membership-abuser","level-7":"membership-level-7",voluntarilyClosed:"membership-voluntarilyClosed",level:"membership-level",middle:"membership-middle",large:"membership-large",responsive:"membership-responsive","x-large":"membership-x-large"}},function(e,t){},function(e,t){var n=document.getElementsByClassName("img-defer");if(n.length>0){window.addEventListener("load",function setupImageDefer(){window.removeEventListener("load",setupImageDefer);for(var e=new IntersectionObserver(function(t){t.forEach(function(t){if(t.intersectionRatio>0){var n=t.target;n.classList.contains("img-defer")&&function(e){var t=e.getAttribute("data-src"),n=e.getAttribute("data-srcset");t&&e.setAttribute("src",t),n&&e.setAttribute("srcset",n),(t||n)&&(e.classList.remove("img-defer"),e.classList.remove("img-defer-placeholder"))}(n),e.unobserve(n)}})},{rootMargin:"50px 0px",threshold:.01}),t=n.length-1;t>=0;t-=1)e.observe(n[t])})}},function(e,t,n){var a,r=n(25),i=(a=r)&&a.__esModule?a:{default:a};var o=document.getElementsByClassName("video-defer");if(o.length>0){window.addEventListener("load",function(){var e=function(e){var t=e.getAttribute("data-src");t&&(e.setAttribute("src",t),e.classList.remove("video-defer","video-defer-placeholder"))};if(window.IntersectionObserver)for(var t=new IntersectionObserver(function(n){n.forEach(function(n){if(n.intersectionRatio>0){var a=n.target;a.classList.contains("video-defer")&&e(a),t.unobserve(a)}})},{rootMargin:"100px 0px",threshold:.01}),n=o.length-1;n>=0;n-=1)t.observe(o[n]);else(0,i.default)(o).forEach(e)},{once:!0})}},function(e,t,n){var a,r=n(25),i=(a=r)&&a.__esModule?a:{default:a};window.addEventListener("load",function(){(0,i.default)(document.querySelectorAll("script[data-src]")).forEach(function(e){!function(e){var t=document.createElement("script");t.setAttribute("src",e),t.defer=!0,document.body.appendChild(t)}(e.getAttribute("data-src")),e.parentNode.removeChild(e)})},{once:!0})},function(e,t){e.exports={"content-ad":"authors-content-ad","content-ad-wrapper":"authors-content-ad-wrapper",header:"authors-header",pagination:"authors-pagination",bottom:"authors-bottom",top:"authors-top",post:"authors-post",list:"authors-list"}},function(e,t){e.exports={component:"breadcrumbs-component",item:"breadcrumbs-item",link:"breadcrumbs-link"}},function(e,t){e.exports={"content-ad":"category-content-ad","content-ad-wrapper":"category-content-ad-wrapper",header:"category-header",pagination:"category-pagination",post:"category-post",component:"category-component",filters:"category-filters",dropdown:"category-dropdown"}},function(e,t){},function(e,t){},function(e,t){e.exports={content:"membership-players-content",player:"membership-players-player","player-details":"membership-players-player-details",fullname:"membership-players-fullname","user-rating":"membership-players-user-rating"}},function(e,t){e.exports={"button-group":"single-button-group",icon:"single-icon","content-ad":"single-content-ad",comments:"single-comments",more:"single-more",space:"single-space",share:"single-share"}},function(e,t){e.exports={component:"post-author-custom-component",edit:"post-author-custom-edit",icon:"post-author-custom-icon"}},function(e,t){e.exports={icon:"post-author-follow-icon"}},function(e,t){e.exports={component:"post-author-small-component",header:"post-author-small-header",avatar:"post-author-small-avatar",thumbnail:"post-author-small-thumbnail",author:"post-author-small-author",details:"post-author-small-details",user:"post-author-small-user",title:"post-author-small-title",username:"post-author-small-username",membership:"post-author-small-membership",name:"post-author-small-name",location:"post-author-small-location",follow:"post-author-small-follow"}},function(e,t){e.exports={component:"post-author-component",avatar:"post-author-avatar",thumbnail:"post-author-thumbnail",right:"post-author-right",author:"post-author-author",title:"post-author-title",name:"post-author-name",rating:"post-author-rating",meta:"post-author-meta",separator:"post-author-separator",link:"post-author-link",about:"post-author-about"}},function(e,t){e.exports={component:"post-category-preview-component",image:"post-category-preview-image",thumbnail:"post-category-preview-thumbnail",right:"post-category-preview-right",header:"post-category-preview-header",title:"post-category-preview-title",static:"post-category-preview-static",draft:"post-category-preview-draft",scheduled:"post-category-preview-scheduled",meta:"post-category-preview-meta",excerpt:"post-category-preview-excerpt","move-list":"post-category-preview-move-list","game-preview":"post-category-preview-game-preview","image-icon":"post-category-preview-image-icon","image-small":"post-category-preview-image-small"}},function(e,t){e.exports={component:"post-load-more-component",title:"post-load-more-title",icon:"post-load-more-icon"}},function(e,t){e.exports={component:"post-preview-list-component"}},function(e,t){e.exports={component:"post-preview-meta-component",title:"post-preview-meta-title",username:"post-preview-meta-username",time:"post-preview-meta-time",views:"post-preview-meta-views",comments:"post-preview-meta-comments",separator:"post-preview-meta-separator",icon:"post-preview-meta-icon",content:"post-preview-meta-content",category:"post-preview-meta-category"}},function(e,t){e.exports={component:"post-preview-component",image:"post-preview-image",thumbnail:"post-preview-thumbnail",draft:"post-preview-draft",scheduled:"post-preview-scheduled",titlecontainer:"post-preview-titlecontainer",title:"post-preview-title",static:"post-preview-static",meta:"post-preview-meta",excerpt:"post-preview-excerpt","whole-text":"post-preview-whole-text","image-icon":"post-preview-image-icon","video-time":"post-preview-video-time","video-time-icon":"post-preview-video-time-icon",headline:"post-preview-headline",watched:"post-preview-watched"}},function(e,t){e.exports={component:"post-view-more-component",author:"post-view-more-author",title:"post-view-more-title",username:"post-view-more-username",posts:"post-view-more-posts",post:"post-view-more-post",image:"post-view-more-image",thumbnail:"post-view-more-thumbnail"}},function(e,t){e.exports={component:"post-view-translation-helper-component"}},function(e,t){e.exports={image:"post-view-image",caption:"post-view-caption",thumbnail:"post-view-thumbnail",title:"post-view-title",about:"post-view-about",languages:"post-view-languages",content:"post-view-content","premium-box":"post-view-premium-box","premium-login":"post-view-premium-login","video-defer-placeholder":"post-view-video-defer-placeholder",component:"post-view-component"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(1300),n(1354),n(1355),n(1356),n(1357),n(1358),n(1359),n(1360),n(1361),n(1362),n(1363),n(1364),n(1365),n(1366),n(1367),n(1368),n(1369),n(1370),n(1371),n(1372),n(1373),n(1374),n(1375),n(1376),n(1377),n(1378),n(1379),n(1380),n(1381),n(1382),n(744),n(1383),n(1384),n(1111),n(1385),n(794),n(1386),n(1387),n(1388),n(1389),n(1390),n(949),n(950),n(1391),n(1392),n(1393),n(1394),n(1395),n(1112),n(1396),n(1397),e.exports=n(1398)}]);